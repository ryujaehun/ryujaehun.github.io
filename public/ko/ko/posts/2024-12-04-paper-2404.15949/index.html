<!doctype html><html lang=ko-kr data-theme=claude><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>CORM: Cache Optimization with Recent Message for Large Language Model Inference | Jaehun's Blog</title><meta name=description content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문의 강점, 독창성, 핵심 알고리즘, 그리고 한계점에 대한 분석 논문의 강..."><meta name=keywords content="개발,프로그래밍,에세이"><meta name=author content><meta name=language content="ko"><meta name=robots content="index, follow"><link rel=canonical href=https://jaehun.me/ko/ko/posts/2024-12-04-paper-2404.15949/><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://jaehun.me/ko/ko/posts/2024-12-04-paper-2404.15949/"><meta property="og:site_name" content="Jaehun's Blog"><meta property="og:title" content="CORM: Cache Optimization with Recent Message for Large Language Model Inference"><meta property="og:description" content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문의 강점, 독창성, 핵심 알고리즘, 그리고 한계점에 대한 분석 논문의 강점 효율적인 메모리 사용:"><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="ko"><meta property="article:published_time" content="2024-12-04T00:00:00+00:00"><meta property="article:modified_time" content="2024-12-04T00:00:00+00:00"><meta property="og:image" content="https://jaehun.me/images/og-default.avif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jaehun.me/images/og-default.avif"><meta name=twitter:title content="CORM: Cache Optimization with Recent Message for Large Language Model Inference"><meta name=twitter:description content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문의 강점, 독창성, 핵심 알고리즘, 그리고 한계점에 대한 분석 논문의 강점 효율적인 메모리 사용:"><meta itemprop=name content="CORM: Cache Optimization with Recent Message for Large Language Model Inference"><meta itemprop=description content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문의 강점, 독창성, 핵심 알고리즘, 그리고 한계점에 대한 분석 논문의 강점 효율적인 메모리 사용:"><meta itemprop=datePublished content="2024-12-04T00:00:00+00:00"><meta itemprop=dateModified content="2024-12-04T00:00:00+00:00"><meta itemprop=wordCount content="8542"><meta itemprop=image content="https://jaehun.me/images/og-default.avif"><meta itemprop=keywords content="Paper-Review,With-Gpt"><script>window.HUGO_SEARCH_CONFIG={searchIndexURL:'"/ko/index.json"'}</script><script>window.HUGO_GALLERY_CONFIG={justified_gallery:!1,lightbox:!1,justified:"{}",lightbox_options:"{}"}</script><link rel=stylesheet href=/css/compiled.min.9165cace5b80a5be5daad6ea96eb2abc20a18a3f41d7fed7f0335b689fdf7883.css integrity="sha256-kWXKzluApb5dqtbqlusqvCChij9B1/7X8DNbaJ/feIM=" crossorigin=anonymous><link rel=stylesheet href=/css/chroma.min.491df36221f739b5948a747a0351f100ee7ccaaf466d9f46288bf06de1d59123.css integrity="sha256-SR3zYiH3ObWUinR6A1HxAO58yq9GbZ9GKIvwbeHVkSM=" crossorigin=anonymous><script src=/js/main.ba969e49a7a874e6938fe689a7dcaa00cb64cb4d429c2cf98d09bde512a16c6d.js integrity="sha256-upaeSaeodOaTj+aJp9yqAMtky01CnCz5jQm95RKhbG0=" crossorigin=anonymous></script><script src=/js/gumshoe.polyfills.min.js></script><script src=/js/toc.70654aebf0b738a78ae2df95297cc10ebc6e590f3c942dd1325fa852f50038b2.js integrity="sha256-cGVK6/C3OKeK4t+VKXzBDrxuWQ88lC3RMl+oUvUAOLI=" crossorigin=anonymous defer></script><script src=/js/search.de3eba3540834efb8328121784bff4774e06362412ee41eee665f5b4f987f393.js integrity="sha256-3j66NUCDTvuDKBIXhL/0d04GNiQS7kHu5mX1tPmH85M=" crossorigin=anonymous defer></script><script src=/js/dock.e02f422517e001d9fb6bea1e9e8b0e89e9d2e486ad4641f275bb3e36ce2ae79f.js integrity="sha256-4C9CJRfgAdn7a+oenosOienS5IatRkHydbs+Ns4q558=" crossorigin=anonymous defer></script><script>(function(){const e=localStorage.getItem("theme")||"system",n=localStorage.getItem("colorScheme")||"claude";document.documentElement.setAttribute("data-theme",n);function t(){e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}t(),e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t)})()</script></head><body class="bg-background text-foreground min-h-screen antialiased"><div id=reading-progress-container class="reading-progress-container pointer-events-none fixed top-0 right-0 left-0 z-50 transition-opacity duration-300 ease-out" data-height=3 data-smooth-scroll=true data-hide-on-complete=false><div class="reading-progress-bg w-full"></div><div id=reading-progress-bar class="from-primary to-primary/80 reading-progress-bar
transition-all duration-150 ease-out
absolute top-0 left-0 w-0 bg-gradient-to-r"></div></div><script>(function(){"use strict";const t=document.getElementById("reading-progress-container"),o=document.getElementById("reading-progress-bar");if(!t||!o)return;const a={smoothScroll:t.dataset.smoothScroll==="true",hideOnComplete:t.dataset.hideOnComplete==="true"};let n=!0,l=null;function r(){const t=window.pageYOffset||document.documentElement.scrollTop,n=document.documentElement.scrollHeight,s=window.innerHeight,e=n-s;return e<=0?0:Math.min(Math.max(t/e*100,0),100)}function c(){const e=r();o.style.width=e+"%",a.hideOnComplete&&e>=99.5?n&&(t.style.opacity="0",n=!1):n||(t.style.opacity="1",n=!0)}let s=!1;function e(){s||(requestAnimationFrame(()=>{c(),s=!1}),s=!0)}function i(){window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),document.addEventListener("visibilitychange",()=>{document.hidden||e()}),e(),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()})()</script><header class="sticky top-0 z-50 mx-auto max-w-4xl px-4 py-6"><div class="border-border bg-card/80 flex items-center rounded-xl border px-6 py-4 shadow-sm backdrop-blur-sm"><div class="hidden w-full items-center md:flex"><div class="flex items-center"><a href=/ko/ class="flex h-10 w-10 items-center justify-center overflow-hidden rounded-full transition-transform duration-200 hover:scale-105" aria-label="Jaehun's Blog"><img src=/images/logo.svg alt="Jaehun's Blog" class="h-full w-full object-cover"></a></div><nav class="mx-8 flex flex-1 items-center justify-center"><div class="flex items-center space-x-1"><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.posts"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>게시글
</span></a><a href=/ko/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.categories"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>카테고리
</span></a><a href=/ko/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.tags"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>태그
</span></a><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.archives"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>아카이브</span></a></div></nav><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="언어 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="언어 변경"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=/ko/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>한국어</span></a><a href=/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>English</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="테마 변경"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span>라이트</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg><span>다크</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg><span>시스템</span></button></div></div></div></div><div class="flex w-full items-center justify-between md:hidden"><div class=relative><button id=mobile-menu-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:bg-accent hover:text-foreground flex h-10 w-10 items-center justify-center rounded-lg border transition-colors duration-200" data-dropdown-type=mobile-menu aria-label=메뉴 aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="메뉴"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button><div id=mobile-menu class="mobile-menu dropdown-menu border-border bg-popover/95 absolute top-12 left-0 z-[60] hidden w-80 max-w-[calc(100vw-2rem)] rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out md:hidden" data-dropdown-type=mobile-menu role=menu aria-labelledby=mobile-menu-toggle><nav class="flex flex-col"><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.posts"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>게시글
</span></a><a href=/ko/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.categories"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>카테고리
</span></a><a href=/ko/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.tags"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>태그
</span></a><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.archives"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>아카이브</span></a></nav></div></div><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="언어 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="언어 변경"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=/ko/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>한국어</span></a><a href=/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>English</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="테마 변경"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span>라이트</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg><span>다크</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg><span>시스템</span></button></div></div></div></div></div></header><main class="mx-auto max-w-4xl px-4 py-6"><nav class="breadcrumb mb-4 md:mb-6 py-1" aria-label=경로><ol class="text-muted-foreground flex items-center space-x-1 md:space-x-2 text-sm overflow-x-auto whitespace-nowrap scrollbar-hide py-1"><li class=flex-shrink-0><a href=/ko/ class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02]"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="홈"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m3 12 2-2m0 0 7-7 7 7M5 10v10a1 1 0 001 1h3m10-11 2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
<span class="max-w-[4rem] md:max-w-none truncate">홈</span></a></li><li class="flex items-center gap-1 md:gap-2 min-w-0"><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span><div class="flex items-center gap-1 md:gap-2 min-w-0"><a href=/ko class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02] flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5A2 2 0 003 7z"/></svg>
<span class="max-w-[4rem] md:max-w-none truncate">Ko</span>
</a><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span>
<span class="text-foreground flex items-center gap-0.5 md:gap-1 font-medium min-w-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
<span class="max-w-[8rem] md:max-w-[16rem] lg:max-w-none truncate">CORM: Cache Optimization with Recent Message for Large Language Model Inference</span></span></div></li></ol></nav><header class=mb-8><h1 class="text-foreground mb-4 text-3xl font-bold md:text-4xl">CORM: Cache Optimization with Recent Message for Large Language Model Inference</h1></header><article class="prose prose-neutral dark:prose-invert max-w-none"><p><a href=https://arxiv.org/abs/2404.15949>논문 링크</a></p><h1 id=q--이-논문을-아주-자세하게-읽고-논문의-강점과-독창적인-지점을-설명해주고-핵심-알고리즘을-예시-입력을-들어서-전체적인-과정을-설명해줘-추가적으로-논문의-한계점에-대해서도-알려줘>Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘</h1><h3 id=논문의-강점-독창성-핵심-알고리즘-그리고-한계점에-대한-분석>논문의 강점, 독창성, 핵심 알고리즘, 그리고 한계점에 대한 분석</h3><hr><h4 id=논문의-강점><strong>논문의 강점</strong></h4><ol><li><p><strong>효율적인 메모리 사용</strong>:</p><ul><li>LLM 추론 과정에서 가장 큰 병목 중 하나인 키-값(KV) 캐시 메모리를 최적화하여 최대 70%까지 메모리 사용을 줄였습니다.</li><li>기존 모델 성능을 거의 유지하면서도 메모리 효율성을 대폭 향상했습니다.</li></ul></li><li><p><strong>추가 학습 불필요</strong>:</p><ul><li>CORM(Caching Optimization with Recent Message)은 모델 재학습 없이 기존 모델에 바로 적용 가능해 실용성이 높습니다.</li><li>학습 없이 메모리 사용량을 줄이는 방법은 현장의 적용 가능성을 극대화합니다.</li></ul></li><li><p><strong>확장 가능성</strong>:</p><ul><li>다양한 LLM 모델(LLaMA2-7B, Vicuna-7B 등)에 대한 실험 결과를 통해 CORM의 범용성과 확장 가능성을 입증했습니다.</li><li>다른 메모리 최적화 기법(GQA 등)과의 통합도 가능하여 추가적인 압축을 지원합니다.</li></ul></li><li><p><strong>이론과 실험의 균형</strong>:</p><ul><li>유사 쿼리가 유사한 키에 집중하는 경향에 대한 이론적 분석과 실험적 증거를 통해 설계된 정책의 타당성을 뒷받침합니다.</li></ul></li></ol><hr><h4 id=논문의-독창적인-지점><strong>논문의 독창적인 지점</strong></h4><ol><li><p><strong>쿼리 유사성 활용</strong>:</p><ul><li>CORM은 현재 쿼리가 최근 쿼리와 가장 유사하다는 관찰을 바탕으로 최신 쿼리 정보만을 활용하여 메모리 최적화를 수행합니다.</li><li>이 접근법은 기존의 고정된 캐시 크기 정책 대신, 동적인 캐시 관리 메커니즘을 도입합니다.</li></ul></li><li><p><strong>다층, 다헤드의 차별적 관리</strong>:</p><ul><li>서로 다른 Transformer 계층과 헤드가 다양한 희소성을 가지므로, 이를 개별적으로 처리하는 정책을 설계했습니다.</li></ul></li><li><p><strong>최신 메시지 기반의 캐시 관리</strong>:</p><ul><li><code>최근 w 개의 쿼리</code>와 <code>최근 r 개의 키</code>를 바탕으로 덜 중요한 키-값 페어를 제거하는 동적 관리 정책을 제안합니다.</li></ul></li></ol><hr><h4 id=핵심-알고리즘과-예시><strong>핵심 알고리즘과 예시</strong></h4><p><strong>CORM 알고리즘의 주요 단계:</strong></p><ol><li><p><strong>쿼리와 메시지 관리</strong>:</p><ul><li>각 생성 단계에서 현재 쿼리와 이전 w개의 쿼리에 기반하여 중요하지 않은 키-값 페어를 결정합니다.</li><li>중요한 키만 유지하고 나머지는 제거합니다.</li></ul></li><li><p><strong>기록된 메시지 활용</strong>:</p><ul><li>최신 쿼리의 메시지를 저장하고 이를 기반으로 중요 키를 확인합니다.</li></ul></li><li><p><strong>최소 최근 사용 정책</strong>:</p><ul><li>r개의 최신 키는 항상 유지하여 중요 정보의 조기 삭제를 방지합니다.</li></ul></li></ol><p><strong>예시 입력</strong>:</p><ul><li>입력 시퀀스: &ldquo;The quick brown fox jumps over the lazy dog.&rdquo;</li><li>쿼리 (Q) 및 키 (K), 값 (V)가 계산되었으며, (w=4, r=2)로 설정.</li></ul><p><strong>CORM 실행</strong>:</p><ol><li>최근 (w=4)개의 쿼리를 고려하여 중요도가 낮은 키-값 페어를 식별.</li><li>중요도가 낮은 키-값 페어를 제거(예: (\alpha_{t,i} &lt; 1/t)).</li><li>최신 (r=2)개의 키는 항상 유지.</li></ol><hr><h4 id=논문의-한계점><strong>논문의 한계점</strong></h4><ol><li><p><strong>모델별 성능 차이</strong>:</p><ul><li>일부 Transformer 모델(예: Bloom-7B, OPT-6.7B)에서 성능 감소 및 낮은 압축률을 보였습니다. 이는 모델의 포지션 인코딩 방식(RoPE가 아닌 경우)에 따른 차이로 분석됩니다.</li></ul></li><li><p><strong>운영 복잡성</strong>:</p><ul><li>캐시 최적화를 위해 추가적인 데이터 구조(메시지 기록 등)를 유지해야 하며, 이는 약간의 추가 메모리를 요구합니다.</li></ul></li><li><p><strong>초기화 비용</strong>:</p><ul><li>초기 파라미터(예: (w, r)) 선택이 최적화 성능에 중요한 영향을 미칠 수 있어 사용자 설정이 필요합니다.</li></ul></li><li><p><strong>응답 속도</strong>:</p><ul><li>최근 쿼리와의 유사성을 계산하는 데 약간의 추가 연산 비용이 필요하며, 대규모 데이터에서 실시간 처리에는 추가 검증이 필요합니다.</li></ul></li></ol><hr><p>CORM은 LLM 추론에서 메모리 병목을 해결하는 데 탁월한 기여를 했으며, 실제 적용 가능한 혁신적 알고리즘으로 평가받을 만합니다. 하지만 모델의 다양성과 초대형 배포 시 발생할 수 있는 문제를 해결하기 위한 후속 연구가 필요합니다.</p><h1 id=q--논문의-핵심알고리즘을-예시를-들어-아주-자세하게-설명해주고-정리해-줘>Q : 논문의 핵심알고리즘을 예시를 들어 아주 자세하게 설명해주고 정리해 줘</h1><p>논문의 핵심 알고리즘인 CORM(Cache Optimization with Recent Message)을 단계별로 설명하고, 예시를 들어 전체적인 과정을 구체적으로 보여드리겠습니다.</p><hr><h3 id=핵심-알고리즘-corm><strong>핵심 알고리즘: CORM</strong></h3><p>CORM은 <strong>쿼리의 유사성</strong>과 <strong>주의 집중 정보</strong>를 활용하여 LLM의 키-값(KV) 캐시 메모리를 동적으로 관리하고 압축하는 방법입니다. 중요한 단계는 다음과 같습니다.</p><hr><h4 id=1-초기화><strong>1. 초기화</strong></h4><ul><li><strong>주요 파라미터</strong>:<ul><li>( w ): 최근 쿼리를 고려할 윈도우 크기.</li><li>( r ): 항상 유지할 최신 키-값 페어의 개수.</li></ul></li><li>각 단계에서 쿼리와 키, 값 정보가 저장됩니다.</li></ul><hr><h4 id=2-입력-데이터><strong>2. 입력 데이터</strong></h4><ul><li><strong>입력 시퀀스</strong>:<ul><li>예를 들어, &ldquo;The quick brown fox jumps over the lazy dog.&rdquo;</li><li>각 토큰이 쿼리((Q)), 키((K)), 값((V))로 변환됩니다.</li></ul></li></ul><hr><h4 id=3-중요-키-판단-기준><strong>3. 중요 키 판단 기준</strong></h4><ul><li>현재 쿼리 ( q_t )의 주의(attention) 점수 (\alpha_{t,i})를 계산:
[
\alpha_{t,i} = \frac{\exp(q_t k_i^T / \sqrt{d})}{\sum_{j=1}^t \exp(q_t k_j^T / \sqrt{d})}
]<ul><li>여기서 ( \alpha_{t,i} )는 ( q_t )가 ( k_i )에 주는 주의 비율.</li><li>중요한 키는 (\alpha_{t,i} \geq 1/t)일 때로 정의됩니다.</li></ul></li></ul><hr><h4 id=4-최근-메시지-기반-삭제-정책><strong>4. 최근 메시지 기반 삭제 정책</strong></h4><ul><li>최근 (w)개의 쿼리에서 중요하지 않은 키를 판단:<ul><li>각 쿼리가 중요하다고 판단한 키들만 남기고 나머지는 삭제.</li></ul></li><li>최신 (r)개의 키는 항상 유지:<ul><li>중요한 키라도 반복적으로 확인되지 않으면 삭제되지만, 최신 키는 예외적으로 보존.</li></ul></li></ul><hr><h4 id=5-알고리즘-동작><strong>5. 알고리즘 동작</strong></h4><ul><li>각 생성 단계에서 다음을 수행:<ol><li><strong>주의 점수 업데이트</strong>: 이전 메시지 기록에 현재 쿼리의 점수를 추가.</li><li><strong>중요 키 필터링</strong>: 최근 (w)개의 쿼리 메시지에서 중요하지 않은 키 제거.</li><li><strong>최신 키 유지</strong>: 최신 (r)개의 키는 항상 유지.</li></ol></li></ul><hr><h3 id=예시를-통해-corm-이해하기><strong>예시를 통해 CORM 이해하기</strong></h3><h4 id=입력-데이터><strong>입력 데이터</strong></h4><ul><li>시퀀스: &ldquo;The quick brown fox jumps over the lazy dog.&rdquo;</li><li>각 토큰이 쿼리((Q)), 키((K)), 값((V))로 변환됨.<ul><li>( Q_1, Q_2, \dots, Q_9 )</li><li>( K_1, K_2, \dots, K_9 )</li><li>( V_1, V_2, \dots, V_9 )</li></ul></li></ul><h4 id=파라미터-설정><strong>파라미터 설정</strong></h4><ul><li>( w = 4 ) (최근 4개의 쿼리를 고려).</li><li>( r = 2 ) (최신 2개의 키-값 페어 유지).</li></ul><hr><h4 id=단계별-진행><strong>단계별 진행</strong></h4><ol><li><p><strong>1단계</strong> (쿼리 ( Q_1 ) 처리):</p><ul><li>( Q_1 )이 생성되고, ( K_1 ), ( V_1 ) 저장.</li><li>현재는 캐시가 비어 있으므로 삭제 없음.</li></ul></li><li><p><strong>2단계</strong> (쿼리 ( Q_2 ) 처리):</p><ul><li>( Q_2 ) 생성. 주의 점수 계산:
[
\alpha_{2,1}, \alpha_{2,2}
]</li><li>(\alpha_{2,i} \geq 1/2)인 ( K_1, K_2 ) 유지.</li><li>삭제 없음.</li></ul></li><li><p><strong>3단계</strong> (쿼리 ( Q_3 ) 처리):</p><ul><li>( Q_3 ) 생성. ( Q_1, Q_2 ) 메시지를 참조하여 ( K_3 ), ( V_3 ) 추가.</li><li>중요하지 않은 키-값((\alpha_{3,i} &lt; 1/3)) 제거.</li></ul></li><li><p><strong>9단계</strong> (마지막 토큰 처리):</p><ul><li>최근 (w=4)개의 쿼리((Q_6, Q_7, Q_8, Q_9)) 메시지 기반으로 중요 키 판단.</li><li>최신 (r=2)개의 키((K_8, K_9))는 무조건 유지.</li><li>나머지 ( K_1, \dots, K_7 ) 중 중요도가 낮은 키 삭제.</li></ul></li></ol><hr><h3 id=corm의-주요-결과><strong>CORM의 주요 결과</strong></h3><ul><li><strong>메모리 절감</strong>:<ul><li>중요하지 않은 키-값 페어 삭제로 최대 70% 메모리 절감.</li></ul></li><li><strong>성능 유지</strong>:<ul><li>삭제 정책에도 불구하고 거의 동일한 성능을 유지.</li></ul></li><li><strong>적응형 관리</strong>:<ul><li>고정 크기 대신 동적 캐시 크기 관리로 메모리와 성능 간 균형 달성.</li></ul></li></ul><hr><p>CORM 알고리즘은 입력 데이터의 길이가 길어질수록 메모리 효율성을 극대화하며, 특히 추론 과정에서 메모리 병목을 해결하는 데 효과적입니다.</p><h1 id=q--이-논문에서-사용하는-방법을-학습하기-위하여-어떤-데이터셋이-필요할까-그리고-어떻게-학습을-진행하면-될지-예시를-들어서-아주-자세하게-설명해줘>Q : 이 논문에서 사용하는 방법을 학습하기 위하여 어떤 데이터셋이 필요할까? 그리고 어떻게 학습을 진행하면 될지 예시를 들어서 아주 자세하게 설명해줘</h1><p>CORM(Cache Optimization with Recent Message)은 모델 재학습이 필요 없는 방식으로 설계되었습니다. 따라서 이 논문에서 제안한 방법을 구현하거나 최적화를 실험하려면, <strong>학습 데이터셋</strong> 대신 <strong>평가 데이터셋</strong>이 필요합니다. 하지만 관련된 평가 실험과 메모리 최적화를 위한 검증 과정을 준비하기 위해 어떤 데이터셋과 절차가 필요한지 설명드리겠습니다.</p><hr><h3 id=1-데이터셋-선택><strong>1. 데이터셋 선택</strong></h3><p>CORM의 실험은 <strong>긴 문맥 처리</strong>를 다루는 데이터셋에서 수행되었습니다. 필요한 데이터셋은 주로 다음과 같은 조건을 만족해야 합니다.</p><h4 id=데이터셋-요구사항><strong>데이터셋 요구사항</strong></h4><ol><li><p><strong>긴 문맥을 포함</strong>:</p><ul><li>각 시퀀스 길이가 길어야 함(최소 4,000~16,000 토큰).</li><li>이유: 긴 문맥에서 키-값 캐시 메모리 병목이 발생하기 때문.</li></ul></li><li><p><strong>다양한 태스크</strong>:</p><ul><li>요약, 질문 응답, 코딩, 문서 생성 등 다양한 작업.</li><li>이유: 캐시 최적화가 태스크별로 다른 영향을 미칠 수 있음.</li></ul></li></ol><h4 id=추천-데이터셋><strong>추천 데이터셋</strong></h4><ol><li><p><strong>LongBench</strong>:</p><ul><li>긴 문맥 기반 평가를 위한 데이터셋.</li><li>요약, 질문 응답, 코드 완성 등 다양한 작업 포함.</li><li>논문에서도 사용된 데이터셋.</li></ul></li><li><p><strong>PG-19</strong>:</p><ul><li>긴 문맥 추론을 테스트하기 위한 대규모 텍스트 데이터셋.</li><li>소설, 문학 작품 등으로 구성되어 긴 시퀀스 처리가 가능.</li></ul></li><li><p><strong>OpenWebText</strong>:</p><ul><li>웹 문서 기반의 데이터셋으로 긴 텍스트 포함.</li></ul></li><li><p><strong>WikiText-103</strong>:</p><ul><li>긴 문맥에 적합한 위키 문서로 구성된 데이터셋.</li></ul></li></ol><hr><h3 id=2-학습-및-평가-과정><strong>2. 학습 및 평가 과정</strong></h3><p>CORM 자체는 <strong>모델 재학습이 필요 없으므로</strong>, 주로 <strong>평가 프로세스</strong>에 초점이 맞춰져야 합니다. 아래는 이를 구현하기 위한 절차입니다.</p><hr><h4 id=21-데이터-준비><strong>2.1. 데이터 준비</strong></h4><ol><li><p><strong>데이터 전처리</strong>:</p><ul><li>데이터를 토큰화하여 LLM에서 처리 가능한 입력 형식으로 변환.</li><li>예: &ldquo;The quick brown fox jumps over the lazy dog.&rdquo; → 토큰 ID.</li></ul></li><li><p><strong>문맥 길이 조정</strong>:</p><ul><li>시퀀스 길이를 다양하게 설정(예: 4,000, 8,000, 12,000 토큰).</li><li>이유: 캐시 크기가 시퀀스 길이에 따라 다르게 작동하기 때문.</li></ul></li></ol><hr><h4 id=22-알고리즘-적용><strong>2.2. 알고리즘 적용</strong></h4><ol><li><p><strong>기존 LLM 모델 준비</strong>:</p><ul><li>사전 학습된 LLaMA2-7B 또는 Vicuna-7B와 같은 모델을 준비.</li></ul></li><li><p><strong>CORM 알고리즘 구현</strong>:</p><ul><li>논문에 나온 Pytorch 코드를 활용하여 다음을 구현:<ul><li>최근 쿼리 메시지를 저장하는 구조.</li><li>중요하지 않은 키-값 페어를 식별하고 삭제하는 정책.</li></ul></li></ul></li><li><p><strong>실험 설정</strong>:</p><ul><li>( w ) (윈도우 크기)와 ( r ) (최근 키 유지 크기) 값 조정:<ul><li>( w = [64, 128, 256, 512] )</li><li>( r = [16, 32, 64] )</li></ul></li></ul></li></ol><hr><h4 id=23-평가-방법><strong>2.3. 평가 방법</strong></h4><ol><li><p><strong>평가 기준</strong>:</p><ul><li><strong>메모리 사용량</strong>: 키-값 캐시 크기를 측정하여 압축률 확인.</li><li><strong>성능 유지</strong>: 모델의 정확도, F1 스코어, 또는 로그 확률(perplexity) 측정.</li></ul></li><li><p><strong>실험 프로세스</strong>:</p><ul><li><strong>Baseline 모델</strong>:<ul><li>CORM을 적용하지 않고 전체 키-값 캐시를 유지한 상태에서 수행.</li></ul></li><li><strong>CORM 적용 모델</strong>:<ul><li>CORM 알고리즘을 적용하여 키-값 캐시 크기 조정.</li></ul></li><li><strong>비교</strong>:<ul><li>성능 차이와 메모리 절감률 비교.</li></ul></li></ul></li><li><p><strong>실험 예시</strong>:</p><ul><li>작업: 문서 요약.</li><li>입력: &ldquo;In a faraway land, there lived a fox who was known for his cleverness&mldr;&rdquo; (4,096 토큰).</li><li>출력:<ul><li><strong>Baseline 모델</strong>: &ldquo;The fox was clever and lived in a faraway land.&rdquo;</li><li><strong>CORM 적용 모델</strong>: &ldquo;The clever fox lived in a faraway land.&rdquo;</li></ul></li><li>결과:<ul><li>성능 차이: BLEU 점수 기준 95%.</li><li>메모리 절감: 70%.</li></ul></li></ul></li></ol><hr><h3 id=3-코드-예시><strong>3. 코드 예시</strong></h3><p>아래는 CORM 알고리즘의 단순화된 PyTorch 코드입니다.</p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PYTHON</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-0 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-0 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-0><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln> 1</span><span class=cl><span class=kn>import</span> <span class=nn>torch</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=k>def</span> <span class=nf>corm_eviction</span><span class=p>(</span><span class=n>keys</span><span class=p>,</span> <span class=n>values</span><span class=p>,</span> <span class=n>message</span><span class=p>,</span> <span class=n>attn_score</span><span class=p>,</span> <span class=n>w</span><span class=p>,</span> <span class=n>r</span><span class=p>,</span> <span class=n>t</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=ln> 5</span><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=ln> 6</span><span class=cl><span class=s2>        keys: 이전 키 상태 (Tensor [l, d])
</span></span></span><span class=line><span class=ln> 7</span><span class=cl><span class=s2>        values: 이전 값 상태 (Tensor [l, d])
</span></span></span><span class=line><span class=ln> 8</span><span class=cl><span class=s2>        message: 최근 주의 메시지 (Tensor [m, l-1])
</span></span></span><span class=line><span class=ln> 9</span><span class=cl><span class=s2>        attn_score: 현재 단계의 주의 점수 (Tensor [1, l])
</span></span></span><span class=line><span class=ln>10</span><span class=cl><span class=s2>        w: 윈도우 크기
</span></span></span><span class=line><span class=ln>11</span><span class=cl><span class=s2>        r: 최근 크기
</span></span></span><span class=line><span class=ln>12</span><span class=cl><span class=s2>        t: 현재 단계
</span></span></span><span class=line><span class=ln>13</span><span class=cl><span class=s2>
</span></span></span><span class=line><span class=ln>14</span><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=ln>15</span><span class=cl><span class=s2>        업데이트된 키, 값, 메시지
</span></span></span><span class=line><span class=ln>16</span><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>    <span class=c1># 메시지 업데이트</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>    <span class=n>message</span> <span class=o>=</span> <span class=n>torch</span><span class=o>.</span><span class=n>cat</span><span class=p>([</span><span class=n>message</span><span class=p>,</span> <span class=n>torch</span><span class=o>.</span><span class=n>zeros_like</span><span class=p>(</span><span class=n>attn_score</span><span class=p>)],</span> <span class=n>dim</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>    <span class=n>cur_message</span> <span class=o>=</span> <span class=p>(</span><span class=n>attn_score</span> <span class=o>&gt;=</span> <span class=mi>1</span> <span class=o>/</span> <span class=n>t</span><span class=p>)</span><span class=o>.</span><span class=n>float</span><span class=p>()</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>    <span class=n>message</span> <span class=o>=</span> <span class=n>torch</span><span class=o>.</span><span class=n>cat</span><span class=p>([</span><span class=n>message</span><span class=p>[</span><span class=o>-</span><span class=n>w</span><span class=p>:],</span> <span class=n>cur_message</span><span class=o>.</span><span class=n>unsqueeze</span><span class=p>(</span><span class=mi>0</span><span class=p>)],</span> <span class=n>dim</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>
</span></span><span class=line><span class=ln>22</span><span class=cl>    <span class=c1># 중요하지 않은 키-값 페어 삭제</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>    <span class=n>long_term_minor_keys</span> <span class=o>=</span> <span class=p>(</span><span class=n>message</span><span class=o>.</span><span class=n>sum</span><span class=p>(</span><span class=n>dim</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span><span class=o>.</span><span class=n>nonzero</span><span class=p>()</span><span class=o>.</span><span class=n>squeeze</span><span class=p>()</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>    <span class=n>keys</span> <span class=o>=</span> <span class=n>torch</span><span class=o>.</span><span class=n>index_select</span><span class=p>(</span><span class=n>keys</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>long_term_minor_keys</span><span class=p>)</span>
</span></span><span class=line><span class=ln>25</span><span class=cl>    <span class=n>values</span> <span class=o>=</span> <span class=n>torch</span><span class=o>.</span><span class=n>index_select</span><span class=p>(</span><span class=n>values</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>long_term_minor_keys</span><span class=p>)</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>
</span></span><span class=line><span class=ln>27</span><span class=cl>    <span class=k>return</span> <span class=n>keys</span><span class=p>,</span> <span class=n>values</span><span class=p>,</span> <span class=n>message</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-0",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><hr><h3 id=4-학습-및-평가-전략><strong>4. 학습 및 평가 전략</strong></h3><ol><li><p><strong>파라미터 튜닝</strong>:</p><ul><li>다양한 ( w, r ) 값에 대해 실험을 반복.</li><li>예: 긴 시퀀스에서는 ( w )를 크게, 짧은 시퀀스에서는 작게 설정.</li></ul></li><li><p><strong>작업별 평가</strong>:</p><ul><li>LongBench를 기반으로 요약, 질문 응답 등 작업별로 메모리 효율성과 성능 비교.</li></ul></li><li><p><strong>최적 정책 도출</strong>:</p><ul><li>가장 높은 압축률과 최소한의 성능 손실을 제공하는 ( w, r ) 조합 도출.</li></ul></li></ol><hr><p>이 과정은 실제로 모델 추론 시 메모리 효율성을 극대화하면서 성능을 유지하는 최적화 전략을 구축하는 데 유용합니다.</p><h1 id=q--이-논문에서-제시한-결과를-자세하게-보고-다른-방법론에-비하여-특출난-점과-논문에서-제기하는-어떠한-방법이-이러한-결과를-도출하게-되었는지-논문에서-제시하는-이유와-너의-생각을-알려줘>Q : 이 논문에서 제시한 결과를 자세하게 보고 다른 방법론에 비하여 특출난 점과 논문에서 제기하는 어떠한 방법이 이러한 결과를 도출하게 되었는지 논문에서 제시하는 이유와 너의 생각을 알려줘</h1><h3 id=논문에서-제시한-결과와-비교-분석><strong>논문에서 제시한 결과와 비교 분석</strong></h3><h4 id=1-논문에서-제시한-주요-결과><strong>1. 논문에서 제시한 주요 결과</strong></h4><ol><li><p><strong>메모리 절감</strong>:</p><ul><li>CORM은 키-값(KV) 캐시의 메모리 사용량을 최대 <strong>70%까지 절감</strong>.</li><li>이는 다른 최신 기법들(예: StreamingLLM, Scissorhands, H2O) 대비 더 높은 압축률을 보여줍니다.</li></ul></li><li><p><strong>성능 유지</strong>:</p><ul><li>6개의 태스크(요약, 질문 응답, 코드 생성 등)에서 <strong>성능 저하가 미미</strong>.</li><li>몇몇 작업에서는 심지어 <strong>기존 캐시를 전부 사용하는 경우보다 더 나은 결과</strong>를 도출.</li></ul></li><li><p><strong>모델 확장성</strong>:</p><ul><li>다양한 LLM 모델(LLaMA2-7B, Vicuna-7B 등)과 통합 가능.</li><li>특히, Grouped Query Attention(GQA)와 함께 사용했을 때도 성능과 압축률 모두 유지.</li></ul></li></ol><hr><h4 id=2-다른-방법론과의-비교><strong>2. 다른 방법론과의 비교</strong></h4><p>논문에서 CORM은 기존 메모리 최적화 기법들과 비교되며, 다음과 같은 특출난 점을 보입니다.</p><table><thead><tr><th><strong>기법</strong></th><th><strong>압축률</strong></th><th><strong>성능 유지</strong></th><th><strong>재학습 필요 여부</strong></th><th><strong>주요 특징</strong></th></tr></thead><tbody><tr><td><strong>CORM</strong></td><td>최고 70%</td><td>거의 동일</td><td>불필요</td><td>최근 쿼리 기반, 유사성 활용.</td></tr><tr><td><strong>StreamingLLM</strong></td><td>50~60%</td><td>약간의 저하</td><td>불필요</td><td>초기 및 최신 토큰 유지.</td></tr><tr><td><strong>Scissorhands</strong></td><td>60%</td><td>약간의 저하</td><td>불필요</td><td>중요성 지속 가설 기반.</td></tr><tr><td><strong>H2O</strong></td><td>50~65%</td><td>약간의 저하</td><td>불필요</td><td>누적 주의 점수 활용.</td></tr><tr><td><strong>Dynamic Memory Compression (DMC)</strong></td><td>70%</td><td>동일 수준</td><td>재학습 필요</td><td>레이어별 압축률 학습.</td></tr></tbody></table><hr><h4 id=3-corm의-특출난-점><strong>3. CORM의 특출난 점</strong></h4><ol><li><p><strong>쿼리의 유사성 활용</strong>:</p><ul><li>CORM은 <strong>쿼리 간 유사성</strong>과 <strong>최근 쿼리 메시지</strong>를 기반으로 캐시를 동적으로 관리.</li><li>최근 쿼리와 현재 쿼리가 유사하다는 관찰에 따라, 중요하지 않은 키-값 페어를 제거하면서도 성능을 유지.</li></ul></li><li><p><strong>동적 관리</strong>:</p><ul><li>다른 기법들은 고정된 캐시 크기(예: Scissorhands, H2O)로 동작하지만, CORM은 입력 길이와 태스크에 따라 <strong>적응형 압축</strong>을 적용.</li></ul></li><li><p><strong>추가 학습 불필요</strong>:</p><ul><li>DMC와 같은 기법은 추가 학습이 필요한 반면, CORM은 모델의 구조나 파라미터를 수정하지 않음.</li></ul></li></ol><hr><h4 id=4-논문에서-제시하는-성공-요인><strong>4. 논문에서 제시하는 성공 요인</strong></h4><ol><li><p><strong>쿼리의 유사성 기반 정책</strong>:</p><ul><li>CORM은 현재 쿼리가 <strong>최근 (w)개의 쿼리와 유사</strong>하다는 점을 활용.</li><li>이로 인해 현재 쿼리가 중요하다고 판단하는 키는 최근 쿼리에서도 중요할 가능성이 높음.</li></ul></li><li><p><strong>주의 희소성 활용</strong>:</p><ul><li>Transformer 모델에서 대부분의 주의(attention)가 <strong>소수의 키</strong>에 집중된다는 사실에 기반.</li><li>이를 통해 중요하지 않은 키-값 페어를 제거하여 캐시 크기를 줄임.</li></ul></li><li><p><strong>유지 정책 (Eviction Policy)</strong>:</p><ul><li>최신 (r)개의 키를 항상 유지하여 중요 키의 조기 삭제를 방지.</li><li>중요도가 낮은 키를 동적으로 제거하여 캐시의 효율성을 극대화.</li></ul></li></ol><hr><h4 id=5-corm의-결과를-도출한-이유에-대한-내-의견><strong>5. CORM의 결과를 도출한 이유에 대한 내 의견</strong></h4><ol><li><p><strong>설계의 효율성</strong>:</p><ul><li>최근 쿼리와 현재 쿼리 간의 유사성 관찰은 Transformer 구조의 근본적 특성을 잘 이해한 결과로 보임.</li><li>특히, **로터리 포지션 인코딩(RoPE)**을 사용하는 모델에서 쿼리의 연속적 유사성을 극대화한 점이 효과적.</li></ul></li><li><p><strong>희소성에 대한 정확한 활용</strong>:</p><ul><li>대부분의 키가 주의 계산에서 중요하지 않음을 이론적으로 증명하고, 이를 실제로 적용.</li><li>많은 메모리를 낭비하는 기존 방식을 개선한 점이 큰 장점.</li></ul></li><li><p><strong>동적 적응</strong>:</p><ul><li>CORM의 동적 캐시 관리 정책은 모든 입력 시퀀스와 태스크에 적응할 수 있는 유연성을 제공.</li><li>이는 실제 환경에서 중요하며, 다른 고정 크기 접근법보다 실용적이라고 생각됨.</li></ul></li><li><p><strong>모델의 노이즈 제거 효과</strong>:</p><ul><li>논문에서 일부 작업에서 CORM이 기존 모델보다 더 나은 성능을 보이는 이유를 <strong>노이즈 제거</strong>로 설명.</li><li>실제로, 중요하지 않은 키-값 페어를 제거하면서 모델이 불필요한 정보를 처리하지 않아 성능이 더 좋아질 가능성이 있음.</li></ul></li></ol><hr><h4 id=6-추가적으로-제안할-수-있는-보완-아이디어><strong>6. 추가적으로 제안할 수 있는 보완 아이디어</strong></h4><ol><li><p><strong>동적 파라미터 최적화</strong>:</p><ul><li>현재 (w)와 (r) 값은 고정되어 실험되었지만, 태스크별 동적 조정 알고리즘을 도입하면 더 높은 성능과 효율성을 기대할 수 있음.</li></ul></li><li><p><strong>다른 포지션 인코딩 방식 테스트</strong>:</p><ul><li>RoPE 외에도 다양한 포지션 인코딩 방식(ALiBi, 절대 포지션 등)을 테스트하여, 최적의 유사성 조건을 규명.</li></ul></li><li><p><strong>실시간 환경에서의 응답 시간 테스트</strong>:</p><ul><li>CORM이 추가 연산(예: 쿼리 간 유사도 계산)을 요구하므로, 실시간 환경에서의 응답 속도를 더욱 최적화할 필요가 있음.</li></ul></li></ol><hr><p>CORM은 메모리 병목 문제를 해결하기 위한 매우 실용적이고 혁신적인 접근법입니다. 논문의 설계와 결과는 Transformer의 근본적 특성을 잘 활용한 사례로, 앞으로 실시간 추론과 같은 더욱 복잡한 환경에서도 응용 가능성이 높습니다.</p><h1 id=q--이-논문의-입력데이터와-추론-과정에-대해서-예시를-들어-아주-자세하게-설명해-주겠니-추가적으로-모델아키텍처의-구성-및-모델을-구성하는-연산과-메모리-요구량-컴퓨팅-요구량-대해서도-설명해줘>Q : 이 논문의 입력데이터와 추론 과정에 대해서 예시를 들어 아주 자세하게 설명해 주겠니? 추가적으로 모델아키텍처의 구성 및 모델을 구성하는 연산과 메모리 요구량 컴퓨팅 요구량 대해서도 설명해줘</h1><h3 id=논문의-입력-데이터와-추론-과정><strong>논문의 입력 데이터와 추론 과정</strong></h3><h4 id=입력-데이터-1><strong>입력 데이터</strong></h4><p>CORM의 적용 대상은 긴 시퀀스를 처리하는 Transformer 기반 대형 언어 모델(LLM)입니다. 입력 데이터는 일반적으로 다음과 같습니다:</p><ol><li><p><strong>형식</strong>:</p><ul><li>긴 자연어 텍스트 시퀀스.</li><li>예: <code>"The quick brown fox jumps over the lazy dog. The story continues with..."</code></li></ul></li><li><p><strong>전처리</strong>:</p><ul><li>텍스트는 토큰화(tokenization) 과정을 통해 숫자 ID로 변환.</li><li>예:<div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-1 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-1 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-1><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>Input: &#34;The quick brown fox jumps over the lazy dog.&#34;
</span></span><span class=line><span class=ln>2</span><span class=cl>Tokenized: [101, 2023, 2086, 5672, 3767, 2862, 102]</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-1",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li></ul></li><li><p><strong>시퀀스 길이</strong>:</p><ul><li>논문에서는 최대 16,000 토큰의 시퀀스를 처리하는 데이터를 평가.</li><li>긴 문맥이 캐시 메모리 병목을 유발하기 때문에 긴 데이터셋이 중요.</li></ul></li></ol><hr><h4 id=추론-과정><strong>추론 과정</strong></h4><p>CORM의 추론 과정은 Transformer 모델의 기본 추론 과정과 유사하지만, <strong>KV 캐시 관리</strong>를 동적으로 수행하여 메모리를 최적화합니다.</p><ol><li><p><strong>기본 Transformer 추론 과정</strong>:</p><ul><li>입력 토큰 시퀀스를 Transformer 계층으로 전달하여 각 계층에서 쿼리((Q)), 키((K)), 값((V))를 생성.</li><li>각 계층에서 (Q), (K), (V)는 다음과 같은 연산으로 계산:
[
Q = XW_Q, \quad K = XW_K, \quad V = XW_V
]<ul><li>(X): 입력 토큰 임베딩 또는 이전 계층 출력.</li><li>(W_Q, W_K, W_V): 쿼리, 키, 값 생성 가중치 행렬.</li></ul></li><li>주의(attention) 계산:
[
\text{Attention}(Q, K, V) = \text{softmax}\left(\frac{Q K^\top}{\sqrt{d}}\right) V
]<ul><li>(\sqrt{d}): 스케일링 요인.</li></ul></li></ul></li><li><p><strong>CORM 적용 과정</strong>:</p><ul><li>CORM은 각 단계에서 KV 캐시를 관리하여 메모리를 최적화:<ol><li>현재 쿼리 (Q_t) 생성.</li><li>(Q_t)와 기존 키 (K_i)를 사용하여 주의 점수 (\alpha_{t,i}) 계산.</li><li>최근 (w)개의 쿼리 메시지를 기반으로 중요하지 않은 키-값 페어 삭제.</li><li>최신 (r)개의 키-값 페어는 항상 유지.</li></ol></li></ul></li></ol><hr><h4 id=예시-입력-데이터와-추론><strong>예시: 입력 데이터와 추론</strong></h4><p><strong>입력 데이터</strong>:</p><ul><li>문장: <code>"The quick brown fox jumps over the lazy dog."</code></li><li>토큰화: <code>[101, 2023, 2086, 5672, 3767, 2862, 102]</code></li><li>Transformer의 입력: 토큰 임베딩.</li></ul><p><strong>CORM 적용 예시</strong>:</p><ol><li><p><strong>1단계</strong>:</p><ul><li>(Q_1, K_1, V_1) 생성.</li><li>캐시에 저장: ({K_1, V_1}).</li></ul></li><li><p><strong>2단계</strong>:</p><ul><li>(Q_2, K_2, V_2) 생성.</li><li>(\alpha_{2,1}) 계산: (Q_2)와 (K_1) 간의 주의 점수.</li><li>(K_1, K_2) 모두 유지(아직 삭제 없음).</li></ul></li><li><p><strong>n단계</strong>:</p><ul><li>최근 (w)개의 쿼리 메시지로 중요하지 않은 키 식별.</li><li>예: (K_{n-w})이 중요하지 않은 것으로 판명되면 제거.</li></ul></li><li><p><strong>출력</strong>:</p><ul><li>최종 토큰 생성.</li></ul></li></ol><hr><h3 id=모델-아키텍처-및-요구-사항><strong>모델 아키텍처 및 요구 사항</strong></h3><h4 id=1-모델-아키텍처><strong>1. 모델 아키텍처</strong></h4><p>CORM이 적용된 Transformer 아키텍처는 다음과 같습니다:</p><ol><li><strong>입력 임베딩</strong>:<ul><li>입력 토큰이 고차원 벡터로 임베딩됨.</li></ul></li><li><strong>다중 계층의 Self-Attention</strong>:<ul><li>각 계층은 (Q), (K), (V)를 생성하고 주의 계산 수행.</li></ul></li><li><strong>포지션 인코딩</strong>:<ul><li>(Q, K)를 계산할 때 토큰의 위치 정보를 포함.</li><li>논문에서는 RoPE(Rotary Position Embedding)를 주로 활용.</li></ul></li></ol><h4 id=2-연산-요구량><strong>2. 연산 요구량</strong></h4><ol><li><p><strong>주의 계산</strong>:</p><ul><li>Attention 연산의 복잡도: (O(n^2 \cdot d)) ((n): 시퀀스 길이, (d): 히든 크기).</li><li>CORM은 중요하지 않은 키를 제거하여 (n)을 동적으로 줄임.</li></ul></li><li><p><strong>KV 캐시 관리</strong>:</p><ul><li>기존 키-값 크기: (O(n \cdot d)).</li><li>CORM 적용 후: (O(w \cdot d)) ((w): 최근 쿼리 윈도우 크기).</li></ul></li></ol><h4 id=3-메모리-요구량><strong>3. 메모리 요구량</strong></h4><ul><li><strong>기존 방법</strong>:<ul><li>KV 캐시 메모리: (O(n \cdot d)).</li><li>예: (n=4,096, d=1,024)일 때 16GB 필요.</li></ul></li><li><strong>CORM</strong>:<ul><li>(n) 대신 (w)를 기반으로 메모리 사용량 절감.</li><li>(w = 256)일 때 메모리 사용량 1GB로 감소.</li></ul></li></ul><hr><h3 id=결론><strong>결론</strong></h3><ul><li><strong>입력 데이터</strong>는 긴 문맥 텍스트를 포함하며, 이를 토큰화하여 Transformer에 입력.</li><li><strong>추론 과정</strong>에서 CORM은 주의 계산 후 중요하지 않은 키-값 페어를 제거하여 메모리를 동적으로 관리.</li><li><strong>모델 아키텍처</strong>는 Transformer의 기본 구성과 유사하지만, RoPE를 사용하여 쿼리의 유사성을 강화.</li><li><strong>연산 및 메모리 요구량</strong>은 CORM 덕분에 기존 방식 대비 크게 감소하여 긴 시퀀스 처리에 매우 효율적.</li></ul><h1 id=q--이-논문의-한계를-극복하기-위한-방법으로-어떤-연구흐름이-있는지-정리해서-자세하게-설명해-줘>Q : 이 논문의 한계를 극복하기 위한 방법으로 어떤 연구흐름이 있는지 정리해서 자세하게 설명해 줘</h1><h3 id=논문의-한계를-극복하기-위한-연구-흐름><strong>논문의 한계를 극복하기 위한 연구 흐름</strong></h3><p>CORM(Cache Optimization with Recent Message)은 LLM 추론에서 메모리 병목을 해결하기 위한 혁신적인 접근법입니다. 그러나 논문은 몇 가지 한계를 가지고 있으며, 이를 해결하기 위한 연구 흐름은 다음과 같은 방향으로 발전할 수 있습니다.</p><hr><h3 id=1-한계와-이를-극복하기-위한-연구-방향><strong>1. 한계와 이를 극복하기 위한 연구 방향</strong></h3><h4 id=11-모델별-성능-차이><strong>1.1 모델별 성능 차이</strong></h4><ul><li><p><strong>한계</strong>:</p><ul><li>일부 모델(예: OPT-6.7B, Bloom-7B)에서 CORM의 압축률이 낮거나 성능 저하가 발생.</li><li>이는 포지션 인코딩 방식(RoPE, ALiBi, 절대 포지션 등) 차이에 기인.</li></ul></li><li><p><strong>연구 방향</strong>:</p><ol><li><strong>포지션 인코딩 방식의 일반화</strong>:<ul><li>다양한 포지션 인코딩 방식에서 쿼리 유사성을 강화하는 방법론 개발.</li><li>예: RoPE와 ALiBi의 장점을 결합한 하이브리드 포지션 인코딩 설계.</li></ul></li><li><strong>모델별 최적화 정책 학습</strong>:<ul><li>각 Transformer 모델에 맞춘 캐시 관리 최적화를 학습하는 메타 학습 접근법 도입.</li><li>모델별 희소성 분석을 자동화하여 적합한 정책을 생성.</li></ul></li></ol></li></ul><hr><h4 id=12-캐시-관리-정책의-고정성><strong>1.2 캐시 관리 정책의 고정성</strong></h4><ul><li><p><strong>한계</strong>:</p><ul><li>CORM의 정책은 (w)와 (r) 파라미터를 사전에 설정해야 하며, 이는 태스크나 입력 데이터의 다양성을 충분히 반영하지 못할 수 있음.</li></ul></li><li><p><strong>연구 방향</strong>:</p><ol><li><strong>동적 파라미터 최적화</strong>:<ul><li>(w)와 (r) 값을 입력 데이터의 길이, 태스크 유형, 또는 실시간 조건에 따라 동적으로 조정.</li><li>Reinforcement Learning(RL) 기반으로 최적의 (w, r) 값 선택.</li></ul></li><li><strong>학습 기반의 캐시 정책</strong>:<ul><li>캐시 유지 또는 삭제 결정을 학습 가능한 모델(예: 경량화된 Neural Network)로 처리.</li><li>주의 희소성, 쿼리 유사성, 키 중요도를 입력으로 사용하여 정책 결정.</li></ul></li></ol></li></ul><hr><h4 id=13-실시간-환경에서의-응답-시간><strong>1.3 실시간 환경에서의 응답 시간</strong></h4><ul><li><p><strong>한계</strong>:</p><ul><li>CORM은 쿼리 간 유사성을 계산하기 때문에 실시간 응답에서 추가 계산 비용이 발생.</li><li>특히 긴 시퀀스에서는 추가 연산이 병목이 될 가능성.</li></ul></li><li><p><strong>연구 방향</strong>:</p><ol><li><strong>효율적인 유사성 계산 알고리즘</strong>:<ul><li>Cosine Similarity 계산을 근사화하는 방법(예: 로컬 민감 해싱, LSH) 도입.</li><li>최근 쿼리에서 중요도가 높은 키만을 사전에 필터링하는 방식을 추가.</li></ul></li><li><strong>병렬 처리 최적화</strong>:<ul><li>GPU나 TPU의 병렬 연산을 활용해 유사성 계산과 캐시 관리 병렬화.</li><li>Tensor Core를 활용한 경량화 연산 최적화.</li></ul></li></ol></li></ul><hr><h4 id=14-메모리와-성능-간-트레이드오프><strong>1.4 메모리와 성능 간 트레이드오프</strong></h4><ul><li><p><strong>한계</strong>:</p><ul><li>메모리 절감률을 높일수록 성능 저하가 발생할 수 있음.</li><li>모든 태스크에서 최적의 압축률과 성능 균형을 달성하기 어려움.</li></ul></li><li><p><strong>연구 방향</strong>:</p><ol><li><strong>태스크별 최적화</strong>:<ul><li>각 태스크에 따라 압축률과 성능 균형을 조정하는 방법론 개발.</li><li>예: 요약 태스크에서는 높은 압축률 허용, 질문 응답 태스크에서는 낮은 압축률 유지.</li></ul></li><li><strong>다중 압축 정책</strong>:<ul><li>단일 압축 정책 대신, 다양한 태스크와 입력 길이에 맞는 여러 정책을 동시에 유지.</li><li>다중 정책 프레임워크에서 최적 정책을 선택하는 방식을 도입.</li></ul></li></ol></li></ul><hr><h4 id=15-노이즈-제거-및-정밀도-유지><strong>1.5 노이즈 제거 및 정밀도 유지</strong></h4><ul><li><p><strong>한계</strong>:</p><ul><li>CORM이 불필요한 정보를 제거하며 성능을 높이는 경우가 있지만, 일부 중요한 정보가 과도하게 삭제될 가능성.</li><li>특히 노이즈와 중요한 정보를 정확히 구분하는 데 한계.</li></ul></li><li><p><strong>연구 방향</strong>:</p><ol><li><strong>노이즈 식별 개선</strong>:<ul><li>Attention Score 외에도 Gradient 정보나 모델 출력 민감도를 활용해 중요 정보를 식별.</li><li>중요 정보와 노이즈 간의 경계를 학습 가능한 방식으로 개선.</li></ul></li><li><strong>중요도 예측 모델</strong>:<ul><li>Attention Score와 함께 과거의 Query-Response 관계를 활용해 키의 중요도를 예측하는 경량 모델 추가.</li></ul></li></ol></li></ul><hr><h3 id=2-현재-연구-흐름과-관련된-접근법><strong>2. 현재 연구 흐름과 관련된 접근법</strong></h3><p>현재 논문과 유사한 맥락에서 진행 중인 연구 흐름은 다음과 같습니다:</p><h4 id=21-adaptive-sparse-attention><strong>2.1 Adaptive Sparse Attention</strong></h4><ul><li>희소성을 모델 학습 과정에서 동적으로 학습하여, 중요하지 않은 키를 제거.</li><li>주요 연구:<ul><li>Dynamic Memory Compression(DMC): 레이어 및 헤드별로 희소성 수준을 학습하여 메모리 최적화.</li></ul></li></ul><h4 id=22-lightweight-inference-techniques><strong>2.2 Lightweight Inference Techniques</strong></h4><ul><li>LLM 추론 비용을 줄이기 위해 경량화된 구조를 설계.</li><li>주요 연구:<ul><li>StreamingLLM: 최신 토큰과 초기 토큰만 유지.</li><li>Scissorhands: 중요성 지속 가설을 활용해 키를 선택적으로 삭제.</li></ul></li></ul><h4 id=23-approximation-algorithms><strong>2.3 Approximation Algorithms</strong></h4><ul><li>Attention 연산의 비용을 줄이는 근사 알고리즘 활용.</li><li>주요 연구:<ul><li>FlashAttention: I/O 효율성을 활용하여 Attention 계산 가속화.</li><li>Kernelized Attention: 근사 기법으로 Attention Score를 빠르게 계산.</li></ul></li></ul><hr><h3 id=3-제안-연구-흐름-요약><strong>3. 제안 연구 흐름 요약</strong></h3><p>CORM의 한계를 극복하기 위해 다음 연구 흐름이 유망합니다:</p><ol><li><strong>동적 캐시 관리 정책 개발</strong>:<ul><li>입력 및 태스크 특성에 맞춰 정책을 자동 조정.</li></ul></li><li><strong>효율적인 유사성 계산</strong>:<ul><li>Cosine Similarity의 근사화 및 병렬 연산 최적화.</li></ul></li><li><strong>모델 일반화</strong>:<ul><li>RoPE 외 다양한 포지션 인코딩 방식에서 쿼리 유사성을 보장.</li></ul></li><li><strong>태스크별 최적화</strong>:<ul><li>태스크 맞춤형 압축률과 성능 균형 설계.</li></ul></li></ol><p>이러한 흐름은 CORM의 한계를 보완하며, 실제 환경에서 더욱 높은 실용성과 성능을 제공할 것입니다.</p></article></main><footer class="mx-auto max-w-4xl px-4 py-8"><div class="px-6 py-6"><nav class=mb-6><div class="flex flex-wrap items-center justify-center gap-1"><a href=/index.xml class="nav-link hover:text-primary hover:bg-primary/10 text-muted-foreground flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="RSS Feed"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18.0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"/></svg>
<span>RSS Feed</span></a></div></nav><div class="border-border mb-6 border-t"></div><div class="flex flex-col items-center justify-between gap-4 md:flex-row"><div class="text-muted-foreground text-sm"><p>&copy; 2025 Jaehun's Blog.
모든 권리 보유.</p></div><div class="flex items-center gap-3"><a href=https://github.com/ryujaehun target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=GitHub aria-label=GitHub><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="GitHub"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 22v-4a4.8 4.8.0 00-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35.0-3.5.0.0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35.0 3.5A5.4 5.4.0 004 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></g></svg>
</a><a href=https://www.linkedin.com/in/jaehunryu/ target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Linkedin aria-label=Linkedin><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="Linkedin"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6M2 9h4v12H2z"/><circle cx="4" cy="4" r="2"/></g></svg>
</a><a href=mailto:jaehunryu@icloud.com class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Email aria-label=Email><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="Email"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22.0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v10a2 2 0 002 2z"/></svg></a></div></div></div></footer><div id=dock class="pointer-events-none fixed bottom-4 left-1/2 z-[9999] w-fit -translate-x-1/2 translate-y-24 opacity-0 transition-all duration-300 ease-out sm:right-0 sm:left-0 sm:mx-auto sm:translate-x-0" role=toolbar aria-label="바로가기 도구 모음"><nav class="border-border bg-card/80 scrollbar-hide xs:px-3 xs:py-2 mx-auto flex max-w-[calc(100vw-2rem)] min-w-fit items-center justify-center overflow-x-auto rounded-2xl border px-4 py-3 shadow-lg backdrop-blur-sm sm:px-4 sm:py-3"><button id=dock-back class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title=뒤로 aria-label=뒤로>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
<span class="hidden sm:inline">뒤로</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-toc class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title=목차 aria-label=목차>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg>
<span class="hidden sm:inline">목차</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-search class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-3 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-4 sm:py-2" title=검색 aria-label=검색>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg>
<span class="hidden md:inline">검색</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-top class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title="맨 위로" aria-label="맨 위로">
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m18 15-6-6-6 6"/></svg>
<span class="hidden sm:inline">맨 위로</span></button></nav></div><div id=toc-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 backdrop-blur-sm transition-all duration-300" role=dialog aria-modal=true aria-labelledby=toc-title></div><div id=toc-card class="pointer-events-none fixed inset-4 z-50 flex w-auto scale-95 items-center justify-center opacity-0 transition-all duration-300 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:block sm:w-full sm:max-w-md sm:-translate-x-1/2 sm:-translate-y-1/2" role=dialog aria-modal=true aria-labelledby=toc-title><div class="bg-card border-border w-full max-w-sm overflow-hidden rounded-xl border shadow-xl sm:max-w-md"><div class="border-border bg-muted/30 flex items-center justify-between border-b p-4"><div class="flex items-center gap-3"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg><h2 id=toc-title class="text-foreground text-lg font-semibold">목차</h2></div><button id=toc-close class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 rounded-lg p-2 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none" title=닫기 aria-label=닫기>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div class="max-h-96 overflow-y-auto p-4"><nav id=toc-nav class=toc-scrollbar aria-label="글 목차"><div id=toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#논문의-강점-독창성-핵심-알고리즘-그리고-한계점에-대한-분석>논문의 강점, 독창성, 핵심 알고리즘, 그리고 한계점에 대한 분석</a><ul><li><a href=#논문의-강점><strong>논문의 강점</strong></a></li><li><a href=#논문의-독창적인-지점><strong>논문의 독창적인 지점</strong></a></li><li><a href=#핵심-알고리즘과-예시><strong>핵심 알고리즘과 예시</strong></a></li><li><a href=#논문의-한계점><strong>논문의 한계점</strong></a></li></ul></li></ul></li></ul><ul><li><ul><li><a href=#핵심-알고리즘-corm><strong>핵심 알고리즘: CORM</strong></a><ul><li><a href=#1-초기화><strong>1. 초기화</strong></a></li><li><a href=#2-입력-데이터><strong>2. 입력 데이터</strong></a></li><li><a href=#3-중요-키-판단-기준><strong>3. 중요 키 판단 기준</strong></a></li><li><a href=#4-최근-메시지-기반-삭제-정책><strong>4. 최근 메시지 기반 삭제 정책</strong></a></li><li><a href=#5-알고리즘-동작><strong>5. 알고리즘 동작</strong></a></li></ul></li><li><a href=#예시를-통해-corm-이해하기><strong>예시를 통해 CORM 이해하기</strong></a><ul><li><a href=#입력-데이터><strong>입력 데이터</strong></a></li><li><a href=#파라미터-설정><strong>파라미터 설정</strong></a></li><li><a href=#단계별-진행><strong>단계별 진행</strong></a></li></ul></li><li><a href=#corm의-주요-결과><strong>CORM의 주요 결과</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#1-데이터셋-선택><strong>1. 데이터셋 선택</strong></a><ul><li><a href=#데이터셋-요구사항><strong>데이터셋 요구사항</strong></a></li><li><a href=#추천-데이터셋><strong>추천 데이터셋</strong></a></li></ul></li><li><a href=#2-학습-및-평가-과정><strong>2. 학습 및 평가 과정</strong></a><ul><li><a href=#21-데이터-준비><strong>2.1. 데이터 준비</strong></a></li><li><a href=#22-알고리즘-적용><strong>2.2. 알고리즘 적용</strong></a></li><li><a href=#23-평가-방법><strong>2.3. 평가 방법</strong></a></li></ul></li><li><a href=#3-코드-예시><strong>3. 코드 예시</strong></a></li><li><a href=#4-학습-및-평가-전략><strong>4. 학습 및 평가 전략</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#논문에서-제시한-결과와-비교-분석><strong>논문에서 제시한 결과와 비교 분석</strong></a><ul><li><a href=#1-논문에서-제시한-주요-결과><strong>1. 논문에서 제시한 주요 결과</strong></a></li><li><a href=#2-다른-방법론과의-비교><strong>2. 다른 방법론과의 비교</strong></a></li><li><a href=#3-corm의-특출난-점><strong>3. CORM의 특출난 점</strong></a></li><li><a href=#4-논문에서-제시하는-성공-요인><strong>4. 논문에서 제시하는 성공 요인</strong></a></li><li><a href=#5-corm의-결과를-도출한-이유에-대한-내-의견><strong>5. CORM의 결과를 도출한 이유에 대한 내 의견</strong></a></li><li><a href=#6-추가적으로-제안할-수-있는-보완-아이디어><strong>6. 추가적으로 제안할 수 있는 보완 아이디어</strong></a></li></ul></li></ul></li></ul><ul><li><ul><li><a href=#논문의-입력-데이터와-추론-과정><strong>논문의 입력 데이터와 추론 과정</strong></a><ul><li><a href=#입력-데이터-1><strong>입력 데이터</strong></a></li><li><a href=#추론-과정><strong>추론 과정</strong></a></li><li><a href=#예시-입력-데이터와-추론><strong>예시: 입력 데이터와 추론</strong></a></li></ul></li><li><a href=#모델-아키텍처-및-요구-사항><strong>모델 아키텍처 및 요구 사항</strong></a><ul><li><a href=#1-모델-아키텍처><strong>1. 모델 아키텍처</strong></a></li><li><a href=#2-연산-요구량><strong>2. 연산 요구량</strong></a></li><li><a href=#3-메모리-요구량><strong>3. 메모리 요구량</strong></a></li></ul></li><li><a href=#결론><strong>결론</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#논문의-한계를-극복하기-위한-연구-흐름><strong>논문의 한계를 극복하기 위한 연구 흐름</strong></a></li><li><a href=#1-한계와-이를-극복하기-위한-연구-방향><strong>1. 한계와 이를 극복하기 위한 연구 방향</strong></a><ul><li><a href=#11-모델별-성능-차이><strong>1.1 모델별 성능 차이</strong></a></li><li><a href=#12-캐시-관리-정책의-고정성><strong>1.2 캐시 관리 정책의 고정성</strong></a></li><li><a href=#13-실시간-환경에서의-응답-시간><strong>1.3 실시간 환경에서의 응답 시간</strong></a></li><li><a href=#14-메모리와-성능-간-트레이드오프><strong>1.4 메모리와 성능 간 트레이드오프</strong></a></li><li><a href=#15-노이즈-제거-및-정밀도-유지><strong>1.5 노이즈 제거 및 정밀도 유지</strong></a></li></ul></li><li><a href=#2-현재-연구-흐름과-관련된-접근법><strong>2. 현재 연구 흐름과 관련된 접근법</strong></a><ul><li><a href=#21-adaptive-sparse-attention><strong>2.1 Adaptive Sparse Attention</strong></a></li><li><a href=#22-lightweight-inference-techniques><strong>2.2 Lightweight Inference Techniques</strong></a></li><li><a href=#23-approximation-algorithms><strong>2.3 Approximation Algorithms</strong></a></li></ul></li><li><a href=#3-제안-연구-흐름-요약><strong>3. 제안 연구 흐름 요약</strong></a></li></ul></li></ul></nav></div></nav></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground text-center text-xs"><span>제목을 클릭하면 해당 위치로 이동합니다</span></div></div></div></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css integrity=sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js integrity=sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous></script><script>function initKaTeX(){if(typeof renderMathInElement=="undefined"){setTimeout(initKaTeX,100);return}var e=[{display:!0,left:"$$",right:"$$"},{display:!1,left:"$",right:"$"}];renderMathInElement(document.body,{delimiters:e,throwOnError:!1,errorColor:"#cc0000",fleqn:!1,leqno:!1,trust:!1})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initKaTeX):initKaTeX()</script><div id=search-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 transition-opacity duration-300"></div><div id=search-modal class="bg-card border-border pointer-events-none fixed top-1/2 left-1/2 z-50 max-h-[80vh] w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 scale-95 transform overflow-hidden rounded-xl border opacity-0 shadow-xl transition-all duration-300"><div class="border-border flex items-center gap-3 border-b p-4"><div class="text-muted-foreground h-5 w-5 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><div class="relative flex-1"><button id=search-clear class="text-muted-foreground hover:text-foreground hover:bg-muted/50 pointer-events-none absolute top-1/2 left-0 z-10 h-5 w-5 -translate-y-1/2 rounded opacity-0 transition-all duration-200" title=지우기 aria-label=지우기>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg>
</button>
<input id=search-input type=text placeholder="게시글 검색..." class="text-foreground placeholder:text-muted-foreground w-full border-none bg-transparent pl-8 text-lg outline-none" autocomplete=off spellcheck=false></div><button id=search-close class="text-muted-foreground hover:text-foreground hover:bg-muted/50 flex h-6 w-6 items-center justify-center rounded-md p-0.5 transition-all duration-200" title=닫기 aria-label=닫기>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div id=search-results class="max-h-96 overflow-y-auto"><div id=search-empty class="flex flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">검색 시작</h3><p class="text-muted-foreground text-sm">검색어를 입력하세요</p></div><div id=search-loading class="flex hidden items-center justify-center py-8"><div class="mr-3 h-6 w-6 animate-spin rounded-full border-2 border-current border-t-transparent"></div><span class=text-muted-foreground>검색 중...</span></div><div id=search-no-results class="flex hidden flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">검색 결과 없음</h3><p class="text-muted-foreground text-sm">다른 검색어로 시도해보세요</p></div><div id=search-results-list class=hidden><div id=search-stats class="text-muted-foreground border-border border-b px-4 py-3 text-sm" data-template="%d개의 결과 찾음"></div><div id=search-items class="divide-border divide-y"></div></div></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground flex items-center justify-between text-xs"><div class="flex items-center gap-2 md:gap-4"><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">↑↓</kbd>
<span class="hidden sm:inline">이동</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">↵</kbd>
<span class="hidden sm:inline">선택</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">ESC</kbd>
<span class="hidden sm:inline">닫기</span></div></div><div class="search-hint-desktop flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">⌘K</kbd>
<span>단축키</span></div></div></div></div></body></html>