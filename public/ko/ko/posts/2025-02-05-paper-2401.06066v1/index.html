<!doctype html><html lang=ko-kr data-theme=claude><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>DeepSeekMoE: Towards Ultimate Expert Specialization in Mixture-of-Experts Language Models | Jaehun's Blog</title><meta name=description content="ë…¼ë¬¸ ë§í¬
Q : ì´ ë…¼ë¬¸ì„ ì•„ì£¼ ìì„¸í•˜ê²Œ ì½ê³  ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì ì„ ì„¤ëª…í•´ì£¼ê³  í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì„ ì˜ˆì‹œ ì…ë ¥ì„ ë“¤ì–´ì„œ ì „ì²´ì ì¸ ê³¼ì •ì„ ì„¤ëª…í•´ì¤˜ ì¶”ê°€ì ìœ¼ë¡œ ë…¼ë¬¸ì˜ í•œê³„ì ì— ëŒ€í•´ì„œë„ ì•Œë ¤ì¤˜ ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì  í•µì‹¬ ê¸°ì—¬:
Mixture-of-Experts..."><meta name=keywords content="ê°œë°œ,í”„ë¡œê·¸ë˜ë°,ì—ì„¸ì´"><meta name=author content><meta name=language content="ko"><meta name=robots content="index, follow"><link rel=canonical href=https://jaehun.me/ko/ko/posts/2025-02-05-paper-2401.06066v1/><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://jaehun.me/ko/ko/posts/2025-02-05-paper-2401.06066v1/"><meta property="og:site_name" content="Jaehun's Blog"><meta property="og:title" content="DeepSeekMoE: Towards Ultimate Expert Specialization in Mixture-of-Experts Language Models"><meta property="og:description" content="ë…¼ë¬¸ ë§í¬
Q : ì´ ë…¼ë¬¸ì„ ì•„ì£¼ ìì„¸í•˜ê²Œ ì½ê³  ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì ì„ ì„¤ëª…í•´ì£¼ê³  í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì„ ì˜ˆì‹œ ì…ë ¥ì„ ë“¤ì–´ì„œ ì „ì²´ì ì¸ ê³¼ì •ì„ ì„¤ëª…í•´ì¤˜ ì¶”ê°€ì ìœ¼ë¡œ ë…¼ë¬¸ì˜ í•œê³„ì ì— ëŒ€í•´ì„œë„ ì•Œë ¤ì¤˜ ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì  í•µì‹¬ ê¸°ì—¬:"><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="ko"><meta property="article:published_time" content="2025-02-05T00:00:00+00:00"><meta property="article:modified_time" content="2025-02-05T00:00:00+00:00"><meta property="og:image" content="https://jaehun.me/images/og-default.avif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jaehun.me/images/og-default.avif"><meta name=twitter:title content="DeepSeekMoE: Towards Ultimate Expert Specialization in Mixture-of-Experts Language Models"><meta name=twitter:description content="ë…¼ë¬¸ ë§í¬
Q : ì´ ë…¼ë¬¸ì„ ì•„ì£¼ ìì„¸í•˜ê²Œ ì½ê³  ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì ì„ ì„¤ëª…í•´ì£¼ê³  í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì„ ì˜ˆì‹œ ì…ë ¥ì„ ë“¤ì–´ì„œ ì „ì²´ì ì¸ ê³¼ì •ì„ ì„¤ëª…í•´ì¤˜ ì¶”ê°€ì ìœ¼ë¡œ ë…¼ë¬¸ì˜ í•œê³„ì ì— ëŒ€í•´ì„œë„ ì•Œë ¤ì¤˜ ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì  í•µì‹¬ ê¸°ì—¬:"><meta itemprop=name content="DeepSeekMoE: Towards Ultimate Expert Specialization in Mixture-of-Experts Language Models"><meta itemprop=description content="ë…¼ë¬¸ ë§í¬
Q : ì´ ë…¼ë¬¸ì„ ì•„ì£¼ ìì„¸í•˜ê²Œ ì½ê³  ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì ì„ ì„¤ëª…í•´ì£¼ê³  í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì„ ì˜ˆì‹œ ì…ë ¥ì„ ë“¤ì–´ì„œ ì „ì²´ì ì¸ ê³¼ì •ì„ ì„¤ëª…í•´ì¤˜ ì¶”ê°€ì ìœ¼ë¡œ ë…¼ë¬¸ì˜ í•œê³„ì ì— ëŒ€í•´ì„œë„ ì•Œë ¤ì¤˜ ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì  í•µì‹¬ ê¸°ì—¬:"><meta itemprop=datePublished content="2025-02-05T00:00:00+00:00"><meta itemprop=dateModified content="2025-02-05T00:00:00+00:00"><meta itemprop=wordCount content="19149"><meta itemprop=image content="https://jaehun.me/images/og-default.avif"><meta itemprop=keywords content="Paper-Review,With-Gpt"><script>window.HUGO_SEARCH_CONFIG={searchIndexURL:'"/ko/index.json"'}</script><script>window.HUGO_GALLERY_CONFIG={justified_gallery:!1,lightbox:!1,justified:"{}",lightbox_options:"{}"}</script><link rel=stylesheet href=/css/compiled.min.9165cace5b80a5be5daad6ea96eb2abc20a18a3f41d7fed7f0335b689fdf7883.css integrity="sha256-kWXKzluApb5dqtbqlusqvCChij9B1/7X8DNbaJ/feIM=" crossorigin=anonymous><link rel=stylesheet href=/css/chroma.min.491df36221f739b5948a747a0351f100ee7ccaaf466d9f46288bf06de1d59123.css integrity="sha256-SR3zYiH3ObWUinR6A1HxAO58yq9GbZ9GKIvwbeHVkSM=" crossorigin=anonymous><script src=/js/main.ba969e49a7a874e6938fe689a7dcaa00cb64cb4d429c2cf98d09bde512a16c6d.js integrity="sha256-upaeSaeodOaTj+aJp9yqAMtky01CnCz5jQm95RKhbG0=" crossorigin=anonymous></script><script src=/js/gumshoe.polyfills.min.js></script><script src=/js/toc.70654aebf0b738a78ae2df95297cc10ebc6e590f3c942dd1325fa852f50038b2.js integrity="sha256-cGVK6/C3OKeK4t+VKXzBDrxuWQ88lC3RMl+oUvUAOLI=" crossorigin=anonymous defer></script><script src=/js/search.de3eba3540834efb8328121784bff4774e06362412ee41eee665f5b4f987f393.js integrity="sha256-3j66NUCDTvuDKBIXhL/0d04GNiQS7kHu5mX1tPmH85M=" crossorigin=anonymous defer></script><script src=/js/dock.e02f422517e001d9fb6bea1e9e8b0e89e9d2e486ad4641f275bb3e36ce2ae79f.js integrity="sha256-4C9CJRfgAdn7a+oenosOienS5IatRkHydbs+Ns4q558=" crossorigin=anonymous defer></script><script>(function(){const e=localStorage.getItem("theme")||"system",n=localStorage.getItem("colorScheme")||"claude";document.documentElement.setAttribute("data-theme",n);function t(){e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}t(),e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t)})()</script></head><body class="bg-background text-foreground min-h-screen antialiased"><div id=reading-progress-container class="reading-progress-container pointer-events-none fixed top-0 right-0 left-0 z-50 transition-opacity duration-300 ease-out" data-height=3 data-smooth-scroll=true data-hide-on-complete=false><div class="reading-progress-bg w-full"></div><div id=reading-progress-bar class="from-primary to-primary/80 reading-progress-bar
transition-all duration-150 ease-out
absolute top-0 left-0 w-0 bg-gradient-to-r"></div></div><script>(function(){"use strict";const t=document.getElementById("reading-progress-container"),o=document.getElementById("reading-progress-bar");if(!t||!o)return;const a={smoothScroll:t.dataset.smoothScroll==="true",hideOnComplete:t.dataset.hideOnComplete==="true"};let n=!0,l=null;function r(){const t=window.pageYOffset||document.documentElement.scrollTop,n=document.documentElement.scrollHeight,s=window.innerHeight,e=n-s;return e<=0?0:Math.min(Math.max(t/e*100,0),100)}function c(){const e=r();o.style.width=e+"%",a.hideOnComplete&&e>=99.5?n&&(t.style.opacity="0",n=!1):n||(t.style.opacity="1",n=!0)}let s=!1;function e(){s||(requestAnimationFrame(()=>{c(),s=!1}),s=!0)}function i(){window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),document.addEventListener("visibilitychange",()=>{document.hidden||e()}),e(),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()})()</script><header class="sticky top-0 z-50 mx-auto max-w-4xl px-4 py-6"><div class="border-border bg-card/80 flex items-center rounded-xl border px-6 py-4 shadow-sm backdrop-blur-sm"><div class="hidden w-full items-center md:flex"><div class="flex items-center"><a href=/ko/ class="flex h-10 w-10 items-center justify-center overflow-hidden rounded-full transition-transform duration-200 hover:scale-105" aria-label="Jaehun's Blog"><img src=/images/logo.svg alt="Jaehun's Blog" class="h-full w-full object-cover"></a></div><nav class="mx-8 flex flex-1 items-center justify-center"><div class="flex items-center space-x-1"><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.posts"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>ê²Œì‹œê¸€
</span></a><a href=/ko/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.categories"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>ì¹´í…Œê³ ë¦¬
</span></a><a href=/ko/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.tags"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>íƒœê·¸
</span></a><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.archives"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>ì•„ì¹´ì´ë¸Œ</span></a></div></nav><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="ì–¸ì–´ ë³€ê²½" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ì–¸ì–´ ë³€ê²½"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=/ko/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>í•œêµ­ì–´</span></a><a href=/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>English</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="í…Œë§ˆ ë³€ê²½" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="í…Œë§ˆ ë³€ê²½"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="í…Œë§ˆ ë³€ê²½" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë¼ì´íŠ¸"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë‹¤í¬"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ì‹œìŠ¤í…œ"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë¼ì´íŠ¸"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span>ë¼ì´íŠ¸</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë‹¤í¬"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg><span>ë‹¤í¬</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ì‹œìŠ¤í…œ"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg><span>ì‹œìŠ¤í…œ</span></button></div></div></div></div><div class="flex w-full items-center justify-between md:hidden"><div class=relative><button id=mobile-menu-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:bg-accent hover:text-foreground flex h-10 w-10 items-center justify-center rounded-lg border transition-colors duration-200" data-dropdown-type=mobile-menu aria-label=ë©”ë‰´ aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë©”ë‰´"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button><div id=mobile-menu class="mobile-menu dropdown-menu border-border bg-popover/95 absolute top-12 left-0 z-[60] hidden w-80 max-w-[calc(100vw-2rem)] rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out md:hidden" data-dropdown-type=mobile-menu role=menu aria-labelledby=mobile-menu-toggle><nav class="flex flex-col"><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.posts"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>ê²Œì‹œê¸€
</span></a><a href=/ko/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.categories"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>ì¹´í…Œê³ ë¦¬
</span></a><a href=/ko/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.tags"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>íƒœê·¸
</span></a><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.archives"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>ì•„ì¹´ì´ë¸Œ</span></a></nav></div></div><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="ì–¸ì–´ ë³€ê²½" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ì–¸ì–´ ë³€ê²½"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=/ko/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>í•œêµ­ì–´</span></a><a href=/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>English</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="í…Œë§ˆ ë³€ê²½" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="í…Œë§ˆ ë³€ê²½"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="í…Œë§ˆ ë³€ê²½" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë¼ì´íŠ¸"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë‹¤í¬"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ì‹œìŠ¤í…œ"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë¼ì´íŠ¸"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span>ë¼ì´íŠ¸</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë‹¤í¬"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg><span>ë‹¤í¬</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ì‹œìŠ¤í…œ"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg><span>ì‹œìŠ¤í…œ</span></button></div></div></div></div></div></header><main class="mx-auto max-w-4xl px-4 py-6"><nav class="breadcrumb mb-4 md:mb-6 py-1" aria-label=ê²½ë¡œ><ol class="text-muted-foreground flex items-center space-x-1 md:space-x-2 text-sm overflow-x-auto whitespace-nowrap scrollbar-hide py-1"><li class=flex-shrink-0><a href=/ko/ class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02]"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="í™ˆ"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m3 12 2-2m0 0 7-7 7 7M5 10v10a1 1 0 001 1h3m10-11 2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
<span class="max-w-[4rem] md:max-w-none truncate">í™ˆ</span></a></li><li class="flex items-center gap-1 md:gap-2 min-w-0"><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span><div class="flex items-center gap-1 md:gap-2 min-w-0"><a href=/ko class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02] flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5A2 2 0 003 7z"/></svg>
<span class="max-w-[4rem] md:max-w-none truncate">Ko</span>
</a><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span>
<span class="text-foreground flex items-center gap-0.5 md:gap-1 font-medium min-w-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
<span class="max-w-[8rem] md:max-w-[16rem] lg:max-w-none truncate">DeepSeekMoE: Towards Ultimate Expert Specialization in Mixture-of-Experts Language Models</span></span></div></li></ol></nav><header class=mb-8><h1 class="text-foreground mb-4 text-3xl font-bold md:text-4xl">DeepSeekMoE: Towards Ultimate Expert Specialization in Mixture-of-Experts Language Models</h1></header><article class="prose prose-neutral dark:prose-invert max-w-none"><p><a href=https://arxiv.org/abs/2401.06066v1>ë…¼ë¬¸ ë§í¬</a></p><h1 id=q--ì´-ë…¼ë¬¸ì„-ì•„ì£¼-ìì„¸í•˜ê²Œ-ì½ê³ -ë…¼ë¬¸ì˜-ê°•ì ê³¼-ë…ì°½ì ì¸-ì§€ì ì„-ì„¤ëª…í•´ì£¼ê³ -í•µì‹¬-ì•Œê³ ë¦¬ì¦˜ì„-ì˜ˆì‹œ-ì…ë ¥ì„-ë“¤ì–´ì„œ-ì „ì²´ì ì¸-ê³¼ì •ì„-ì„¤ëª…í•´ì¤˜-ì¶”ê°€ì ìœ¼ë¡œ-ë…¼ë¬¸ì˜-í•œê³„ì ì—-ëŒ€í•´ì„œë„-ì•Œë ¤ì¤˜>Q : ì´ ë…¼ë¬¸ì„ ì•„ì£¼ ìì„¸í•˜ê²Œ ì½ê³  ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì ì„ ì„¤ëª…í•´ì£¼ê³  í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì„ ì˜ˆì‹œ ì…ë ¥ì„ ë“¤ì–´ì„œ ì „ì²´ì ì¸ ê³¼ì •ì„ ì„¤ëª…í•´ì¤˜ ì¶”ê°€ì ìœ¼ë¡œ ë…¼ë¬¸ì˜ í•œê³„ì ì— ëŒ€í•´ì„œë„ ì•Œë ¤ì¤˜</h1><h3 id=ë…¼ë¬¸ì˜-ê°•ì ê³¼-ë…ì°½ì ì¸-ì§€ì ><strong>ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì </strong></h3><p><strong>í•µì‹¬ ê¸°ì—¬:</strong></p><ol><li><strong>Mixture-of-Experts (MoE) ìµœì í™”:</strong> ê¸°ì¡´ MoE ëª¨ë¸ë“¤ì´ ê²ªëŠ” <strong>ì „ë¬¸ê°€ ì§€ì‹ ì¤‘ì²© ë¬¸ì œ</strong>(Knowledge Redundancy)ì™€ <strong>ì „ë¬¸ê°€ ë¶„í™” ë¶€ì¡± ë¬¸ì œ</strong>(Knowledge Hybridity)ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ <strong>Fine-Grained Expert Segmentation</strong>ê³¼ <strong>Shared Expert Isolation</strong> ì „ëµì„ ì œì•ˆ.</li><li><strong>ê³„ì‚° íš¨ìœ¨ì„± í–¥ìƒ:</strong> <strong>DeepSeekMoE 16B</strong>ëŠ” <strong>LLaMA2 7B</strong>ì™€ ë¹„ìŠ·í•œ ì„±ëŠ¥ì„ ê°€ì§€ë©´ì„œë„ <strong>ê³„ì‚°ëŸ‰ì´ 40% ìˆ˜ì¤€</strong>ì— ë¶ˆê³¼í•¨.</li><li><strong>ìŠ¤ì¼€ì¼ë§ íš¨ê³¼ ê²€ì¦:</strong> <strong>145B ê·œëª¨ ëª¨ë¸</strong>ê¹Œì§€ í™•ì¥í•˜ì—¬ ê¸°ì¡´ GShard ê¸°ë°˜ MoE ëª¨ë¸ ëŒ€ë¹„ <strong>ë‚®ì€ ê³„ì‚°ëŸ‰ìœ¼ë¡œ ë†’ì€ ì„±ëŠ¥</strong>ì„ ë‹¬ì„±í•¨.</li><li><strong>ì‹¤ì œ ë°°í¬ ê°€ëŠ¥ì„±:</strong> 16B ëª¨ë¸ì€ <strong>40GB VRAMì˜ ë‹¨ì¼ GPUì—ì„œ ì‹¤í–‰ ê°€ëŠ¥</strong>, Open-Source ëª¨ë¸ë¡œ ê³µê°œí•˜ì—¬ ì—°êµ¬ ì»¤ë®¤ë‹ˆí‹° ê¸°ì—¬.</li></ol><hr><h3 id=í•µì‹¬-ì•Œê³ ë¦¬ì¦˜-ë°-ì˜ˆì‹œ-ì…ë ¥ì„-í†µí•œ-ê³¼ì •-ì„¤ëª…><strong>í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ ë° ì˜ˆì‹œ ì…ë ¥ì„ í†µí•œ ê³¼ì • ì„¤ëª…</strong></h3><h4 id=1-ê¸°ì¡´-moe-ëª¨ë¸-ë¬¸ì œì ><strong>1. ê¸°ì¡´ MoE ëª¨ë¸ ë¬¸ì œì </strong></h4><ul><li>ê¸°ì¡´ MoE ëª¨ë¸(GShard ë“±)ì€ <strong>ê° ì „ë¬¸ê°€(Expert)ê°€ ë„ˆë¬´ ë‹¤ì–‘í•œ ì§€ì‹ì„ í¬í•¨</strong>í•˜ì—¬ íŠ¹ì • ì§€ì‹ì„ í•™ìŠµí•˜ëŠ” ê²ƒì´ ì–´ë µê³ , ì—¬ëŸ¬ ì „ë¬¸ê°€ê°€ <strong>ê³µí†µ ì§€ì‹ì„ ë°˜ë³µ í•™ìŠµ</strong>í•˜ëŠ” ë¬¸ì œê°€ ìˆìŒ.</li><li>ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ <strong>DeepSeekMoEëŠ” ì „ë¬¸ê°€ ì„¸ë¶„í™”(Fine-Grained Expert Segmentation)ì™€ ê³µìœ  ì „ë¬¸ê°€(Shared Expert Isolation) ë„ì…</strong>.</li></ul><h4 id=2-deepseekmoe-í•µì‹¬-ì „ëµ><strong>2. DeepSeekMoE í•µì‹¬ ì „ëµ</strong></h4><ol><li><p><strong>Fine-Grained Expert Segmentation (ì „ë¬¸ê°€ ì„¸ë¶„í™”)</strong></p><ul><li>ê¸°ì¡´ MoE ëª¨ë¸ì€ <strong>ê³ ì •ëœ ì „ë¬¸ê°€ ìˆ˜</strong>(ì˜ˆ: 16ê°œ)ë§Œì„ ì‚¬ìš©í•˜ì—¬ í•™ìŠµ.</li><li>DeepSeekMoEëŠ” <strong>ê° ì „ë¬¸ê°€ë¥¼ ë” ì‘ì€ ë‹¨ìœ„ë¡œ ë¶„í• </strong>í•˜ì—¬, ê¸°ì¡´ 16ê°œ ëŒ€ì‹  **64ê°œ ì „ë¬¸ê°€(4ë°° ì¦ê°€)**ë¡œ ì„¸ë¶„í™”.</li><li>ì´ë¡œ ì¸í•´ <strong>ë” ì„¸ë°€í•œ ì¡°í•©ì´ ê°€ëŠ¥</strong>í•´ì§€ê³ , ë‹¤ì–‘í•œ ì§€ì‹ì„ ë¶„ì‚° í•™ìŠµí•  ìˆ˜ ìˆìŒ.</li></ul></li><li><p><strong>Shared Expert Isolation (ê³µìœ  ì „ë¬¸ê°€ ê²©ë¦¬)</strong></p><ul><li>ëª¨ë¸ ë‚´ë¶€ì— **ê³µìœ  ì „ë¬¸ê°€(Ksê°œ, í•­ìƒ í™œì„±í™”ë¨)**ë¥¼ ë‘ ìœ¼ë¡œì¨, ê° ì „ë¬¸ê°€ê°€ <strong>í•„ìˆ˜ì ì¸ ê³µí†µ ì§€ì‹ì„ ì €ì¥</strong>í•  ìˆ˜ ìˆë„ë¡ í•¨.</li><li>ì´ë ‡ê²Œ í•˜ë©´ ê°œë³„ ì „ë¬¸ê°€ë“¤ì´ <strong>ë”ìš± íŠ¹í™”ëœ ì§€ì‹ì— ì§‘ì¤‘</strong>í•  ìˆ˜ ìˆì–´ íš¨ìœ¨ì„±ì´ ì¦ê°€.</li></ul></li></ol><hr><h4 id=3-ì˜ˆì œ-ì…ë ¥ê³¼-ê³„ì‚°-ê³¼ì •><strong>3. ì˜ˆì œ ì…ë ¥ê³¼ ê³„ì‚° ê³¼ì •</strong></h4><h5 id=ì…ë ¥><strong>ì…ë ¥:</strong></h5><ul><li>ë¬¸ì¥: <code>"The capital of France is Paris."</code></li><li>MoE ëª¨ë¸ì˜ êµ¬ì¡°:<ul><li><strong>ê¸°ì¡´ GShard:</strong> 16ê°œì˜ ì „ë¬¸ê°€ ì¤‘ ìƒìœ„ 2ê°œë§Œ í™œì„±í™”</li><li><strong>DeepSeekMoE:</strong> 64ê°œì˜ ì „ë¬¸ê°€ ì¤‘ ê³µìœ  ì „ë¬¸ê°€(1ê°œ) + 7ê°œ í™œì„±í™”</li></ul></li></ul><h5 id=ì²˜ë¦¬-ê³¼ì •><strong>ì²˜ë¦¬ ê³¼ì •</strong></h5><ol><li><strong>í† í°í™”(Tokenization):</strong> ì…ë ¥ ë¬¸ì¥ì„ ì—¬ëŸ¬ í† í°ìœ¼ë¡œ ë³€í™˜ (ì˜ˆ: <code>["The", "capital", "of", "France", "is", "Paris", "."]</code>)</li><li><strong>MoE ë¼ìš°íŒ… (Routing):</strong> ê° í† í°ì´ <strong>ìµœì ì˜ ì „ë¬¸ê°€ ê·¸ë£¹</strong>ì„ ì°¾ìŒ.<ul><li>ê¸°ì¡´ ë°©ì‹: 16ê°œ ì „ë¬¸ê°€ ì¤‘ <strong>ìƒìœ„ 2ê°œ í™œì„±í™”</strong> â†’ ì¤‘ë³µëœ ì •ë³´ê°€ í¬í•¨ë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ.</li><li>DeepSeekMoE ë°©ì‹:<ul><li>1ê°œ ê³µìœ  ì „ë¬¸ê°€ í™œì„±í™”</li><li>64ê°œ ì „ë¬¸ê°€ ì¤‘ 7ê°œ ì„ íƒí•˜ì—¬ <strong>ë” ë‹¤ì–‘í•˜ê³  ì •í™•í•œ ì§€ì‹ ì¡°í•© ê°€ëŠ¥</strong></li></ul></li></ul></li><li><strong>ê³„ì‚° ë° í•©ì‚°:</strong> ì„ íƒëœ ì „ë¬¸ê°€ë“¤ì´ ê°ê°ì˜ í† í°ì„ ì²˜ë¦¬í•œ í›„, ìµœì¢… ì¶œë ¥ì„ <strong>ì¡°í•©(Weighted Sum)í•˜ì—¬ ê²°í•©</strong>.</li></ol><h5 id=ì¶œë ¥><strong>ì¶œë ¥:</strong></h5><ul><li><code>"Paris"</code>ë¼ëŠ” ë‹¨ì–´ë¥¼ í•´ì„í•  ë•Œ, ê¸°ì¡´ MoE ëª¨ë¸ë³´ë‹¤ <strong>ë” ì •í™•í•œ ì „ë¬¸ê°€ ì¡°í•©</strong>ì´ í™œìš©ë¨.</li><li>ëª¨ë¸ì˜ ì§€ì‹ì´ íŠ¹ì • ì „ë¬¸ê°€ì— <strong>íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥</strong>ë˜ì—ˆê¸° ë•Œë¬¸ì— <strong>ë” ì ì€ ê³„ì‚°ëŸ‰</strong>ìœ¼ë¡œ <strong>ë™ì¼í•œ ìˆ˜ì¤€ì˜ ì •ë‹µ</strong>ì„ ì¶œë ¥í•  ìˆ˜ ìˆìŒ.</li></ul><hr><h3 id=ë…¼ë¬¸ì˜-í•œê³„ì ><strong>ë…¼ë¬¸ì˜ í•œê³„ì </strong></h3><table><thead><tr><th>í•œê³„ì </th><th>ìƒì„¸ ë‚´ìš©</th></tr></thead><tbody><tr><td><strong>Multiple Choice ì„±ëŠ¥ ì €í•˜</strong></td><td>Attention Layerê°€ ìƒëŒ€ì ìœ¼ë¡œ ì ì–´ <strong>MMLU, CEval</strong> ê°™ì€ <strong>ë³µì¡í•œ ì„ íƒí˜• ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ ë¶€ì¡±</strong></td></tr><tr><td><strong>Expert Overhead ì¦ê°€</strong></td><td>ì „ë¬¸ê°€ ìˆ˜ê°€ ì¦ê°€í•˜ë©´ì„œ, ì¼ë¶€ ì „ë¬¸ê°€ê°€ ì¶©ë¶„í•œ í•™ìŠµì„ ëª» ë°›ì„ ê°€ëŠ¥ì„± ì¡´ì¬</td></tr><tr><td><strong>Fine-Tuning ë¯¼ê°ë„</strong></td><td>ê¸°ì¡´ MoE ëª¨ë¸ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ <strong>ì‚¬ì „ í•™ìŠµ í›„ ë¯¸ì„¸ ì¡°ì •(Instruction Tuning)ì´ ì–´ë ¤ì›€</strong></td></tr><tr><td><strong>Scaling í•œê³„</strong></td><td>145B ëª¨ë¸ê¹Œì§€ í™•ì¥í–ˆì§€ë§Œ, <strong>ë” í° ê·œëª¨ì—ì„œ ì´ ì „ëµì´ íš¨ê³¼ì ì¼ì§€ ë¶ˆí™•ì‹¤</strong></td></tr></tbody></table><hr><h3 id=ê²°ë¡ ><strong>ê²°ë¡ </strong></h3><ul><li><strong>DeepSeekMoEëŠ” ê¸°ì¡´ MoE ëª¨ë¸ì˜ ê·¼ë³¸ì ì¸ ë¬¸ì œì ì„ í•´ê²°í•˜ë©°, GShard ëŒ€ë¹„ ë†’ì€ íš¨ìœ¨ì„±ì„ ë³´ì—¬ì¤Œ.</strong></li><li><strong>16B ëª¨ë¸ì´ LLaMA2 7Bì™€ ìœ ì‚¬í•œ ì„±ëŠ¥ì„ ê°€ì§€ë©´ì„œë„ 40%ì˜ ê³„ì‚°ëŸ‰ë§Œì„ í•„ìš”ë¡œ í•œë‹¤ëŠ” ì ì€ ë§¤ìš° ì¸ìƒì </strong>.</li><li>ë‹¤ë§Œ, <strong>Multiple Choice ìœ í˜•ì˜ ë¬¸ì œì—ì„œ ì„±ëŠ¥ì´ ë–¨ì–´ì§€ëŠ” ì </strong>ê³¼ <strong>Fine-Tuningì˜ ì–´ë ¤ì›€</strong>ì€ í•´ê²°í•´ì•¼ í•  ê³¼ì œë¡œ ë‚¨ìŒ.</li></ul><h1 id=q--ë…¼ë¬¸ì˜-í•µì‹¬ì•Œê³ ë¦¬ì¦˜ì„-ì˜ˆì‹œë¥¼-ë“¤ì–´-ì•„ì£¼-ìì„¸í•˜ê²Œ-ì„¤ëª…í•´ì£¼ê³ -ì •ë¦¬í•´-ì¤˜>Q : ë…¼ë¬¸ì˜ í•µì‹¬ì•Œê³ ë¦¬ì¦˜ì„ ì˜ˆì‹œë¥¼ ë“¤ì–´ ì•„ì£¼ ìì„¸í•˜ê²Œ ì„¤ëª…í•´ì£¼ê³  ì •ë¦¬í•´ ì¤˜</h1><h2 id=ë…¼ë¬¸ì˜-í•µì‹¬-ì•Œê³ ë¦¬ì¦˜-deepseekmoeì˜-ë™ì‘-ì›ë¦¬><strong>ë…¼ë¬¸ì˜ í•µì‹¬ ì•Œê³ ë¦¬ì¦˜: DeepSeekMoEì˜ ë™ì‘ ì›ë¦¬</strong></h2><p>DeepSeekMoEëŠ” ê¸°ì¡´ <strong>Mixture-of-Experts (MoE) ëª¨ë¸ì˜ ë¬¸ì œì ì„ í•´ê²°</strong>í•˜ê¸° ìœ„í•´ <strong>Fine-Grained Expert Segmentation (ì „ë¬¸ê°€ ì„¸ë¶„í™”)ê³¼ Shared Expert Isolation (ê³µìœ  ì „ë¬¸ê°€ ê²©ë¦¬)</strong> ë‘ ê°€ì§€ ì£¼ìš” ì „ëµì„ ì œì•ˆí•¨.<br>ì´ì œ ì´ë¥¼ ì˜ˆì œ ì…ë ¥ê³¼ í•¨ê»˜ ì•„ì£¼ ìì„¸íˆ ì„¤ëª…í•˜ê³  ì •ë¦¬í•˜ê² ìŒ.</p><hr><h2 id=1-ê¸°ì¡´-moe-ëª¨ë¸ì˜-í•œê³„><strong>1. ê¸°ì¡´ MoE ëª¨ë¸ì˜ í•œê³„</strong></h2><p>ê¸°ì¡´ MoE ëª¨ë¸(GShard ë“±)ì€ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œì ì´ ìˆìŒ:</p><ol><li><strong>ì „ë¬¸ê°€ ì§€ì‹ ì¤‘ì²© (Knowledge Redundancy)</strong><ul><li>ì—¬ëŸ¬ ì „ë¬¸ê°€ê°€ ë™ì¼í•œ ê³µí†µ ì§€ì‹ì„ í•™ìŠµí•˜ì—¬ <strong>ì¤‘ë³µëœ ê³„ì‚° ë‚­ë¹„</strong> ë°œìƒ.</li></ul></li><li><strong>ì „ë¬¸ê°€ ë¶„í™” ë¶€ì¡± (Knowledge Hybridity)</strong><ul><li>í•˜ë‚˜ì˜ ì „ë¬¸ê°€ê°€ ë„ˆë¬´ ë‹¤ì–‘í•œ ì§€ì‹ì„ í•™ìŠµí•˜ì—¬ íŠ¹ì • ì§€ì‹ì— ëŒ€í•œ <strong>ì „ë¬¸í™”ê°€ ë¶€ì¡±</strong>.</li></ul></li></ol><h3 id=-í•´ê²°ì±…-deepseekmoe><strong>ğŸ“Œ í•´ê²°ì±…: DeepSeekMoE</strong></h3><ol><li><strong>Fine-Grained Expert Segmentation (ì „ë¬¸ê°€ ì„¸ë¶„í™”)</strong><br>â†’ ì „ë¬¸ê°€ì˜ í¬ê¸°ë¥¼ ì¤„ì´ê³  ê°œìˆ˜ë¥¼ ëŠ˜ë ¤ <strong>ë” ë‹¤ì–‘í•œ ì¡°í•©ì˜ ì „ë¬¸ê°€ë“¤ì´ í™œì„±í™”</strong>ë  ìˆ˜ ìˆë„ë¡ í•¨.</li><li><strong>Shared Expert Isolation (ê³µìœ  ì „ë¬¸ê°€ ê²©ë¦¬)</strong><br>â†’ ì¼ë¶€ ì „ë¬¸ê°€ë¥¼ í•­ìƒ í™œì„±í™”í•˜ì—¬ <strong>ê³µí†µ ì§€ì‹ì„ ì €ì¥í•˜ëŠ” ì—­í• </strong>ì„ í•˜ë„ë¡ ì„¤ì •.</li></ol><hr><h2 id=2-deepseekmoe-ì•Œê³ ë¦¬ì¦˜-êµ¬ì¡°><strong>2. DeepSeekMoE ì•Œê³ ë¦¬ì¦˜ êµ¬ì¡°</strong></h2><p>ê¸°ì¡´ GShardì™€ ë¹„êµí•˜ì—¬ DeepSeekMoEì˜ êµ¬ì¡°ë¥¼ ì •ë¦¬í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŒ.</p><table><thead><tr><th>ëª¨ë¸</th><th>ì „ë¬¸ê°€ ê°œìˆ˜</th><th>í™œì„±í™”ëœ ì „ë¬¸ê°€ ìˆ˜</th><th>ê³µìœ  ì „ë¬¸ê°€ ìˆ˜</th><th>ì „ë¬¸ê°€ ë‹¹ í¬ê¸°</th></tr></thead><tbody><tr><td>GShard</td><td>16ê°œ</td><td>2ê°œ</td><td>0ê°œ</td><td>1.0</td></tr><tr><td>DeepSeekMoE</td><td>64ê°œ</td><td>7ê°œ</td><td>1ê°œ</td><td>0.25</td></tr></tbody></table><p>DeepSeekMoEëŠ”:</p><ol><li><strong>ë” ì‘ì€ ì „ë¬¸ê°€ë¥¼ ë§ì´ ë‘ê³  (64ê°œ)</strong></li><li><strong>ë” ë‹¤ì–‘í•œ ì¡°í•©ì„ í™œì„±í™” (7ê°œ ì „ë¬¸ê°€)</strong></li><li><strong>ê³µìœ  ì „ë¬¸ê°€(1ê°œ)ë¡œ ê³µí†µ ì§€ì‹ì„ ë³´ê´€</strong>í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì¤‘ë³µì„ ì œê±°í•¨.</li></ol><hr><h2 id=3-deepseekmoe-ë™ì‘-ê³¼ì •-ì˜ˆì œ><strong>3. DeepSeekMoE ë™ì‘ ê³¼ì • ì˜ˆì œ</strong></h2><h3 id=1-ì…ë ¥-ì˜ˆì œ><strong>(1) ì…ë ¥ ì˜ˆì œ</strong></h3><p>ğŸ’¡ ì˜ˆì œ ì…ë ¥ ë¬¸ì¥:<br><strong>&ldquo;Paris is the capital of France.&rdquo;</strong><br>ğŸ’¡ ëª¨ë¸ êµ¬ì¡°:</p><ul><li>ì´ <strong>64ê°œ ì „ë¬¸ê°€</strong> ì¤‘ì—ì„œ 7ê°œ ì „ë¬¸ê°€ + ê³µìœ  ì „ë¬¸ê°€ 1ê°œê°€ í™œì„±í™”ë¨.</li></ul><h3 id=2-ì•Œê³ ë¦¬ì¦˜-ë™ì‘-ê³¼ì •><strong>(2) ì•Œê³ ë¦¬ì¦˜ ë™ì‘ ê³¼ì •</strong></h3><h4 id=step-1-í† í°í™”tokenization><strong>Step 1: í† í°í™”(Tokenization)</strong></h4><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-0 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-0 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-0><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>[&#34;Paris&#34;, &#34;is&#34;, &#34;the&#34;, &#34;capital&#34;, &#34;of&#34;, &#34;France&#34;, &#34;.&#34;]</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-0",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><p>ê° ë‹¨ì–´ëŠ” ê°œë³„ í† í°ìœ¼ë¡œ ë³€í™˜ë¨.</p><h4 id=step-2-ë¼ìš°í„°routerê°€-ì „ë¬¸ê°€-ì„ íƒ><strong>Step 2: ë¼ìš°í„°(Router)ê°€ ì „ë¬¸ê°€ ì„ íƒ</strong></h4><p>ê° í† í°ì„ ì²˜ë¦¬í•  ì „ë¬¸ê°€ë¥¼ ì„ íƒí•˜ëŠ” ê³¼ì •.</p><ul><li><strong>ê¸°ì¡´ GShard</strong>: 16ê°œ ì „ë¬¸ê°€ ì¤‘ <strong>ìƒìœ„ 2ê°œ</strong>ë¥¼ ì„ íƒ</li><li><strong>DeepSeekMoE</strong>: 64ê°œ ì „ë¬¸ê°€ ì¤‘ <strong>ê³µìœ  ì „ë¬¸ê°€ 1ê°œ + 7ê°œ ì „ë¬¸ê°€ ì„ íƒ</strong></li></ul><table><thead><tr><th>í† í°</th><th>ì„ íƒëœ ì „ë¬¸ê°€ (GShard)</th><th>ì„ íƒëœ ì „ë¬¸ê°€ (DeepSeekMoE)</th></tr></thead><tbody><tr><td>&ldquo;Paris&rdquo;</td><td>Expert 5, 10</td><td><strong>Expert 2, 14, 23, 31, 40, 51, 62</strong> + Shared</td></tr><tr><td>&ldquo;capital&rdquo;</td><td>Expert 3, 7</td><td><strong>Expert 5, 12, 20, 37, 44, 55, 63</strong> + Shared</td></tr><tr><td>&ldquo;France&rdquo;</td><td>Expert 1, 11</td><td><strong>Expert 6, 15, 25, 33, 48, 53, 61</strong> + Shared</td></tr></tbody></table><p>âœ… ê¸°ì¡´ GShardëŠ” <strong>2ê°œ ì „ë¬¸ê°€ë§Œ ì„ íƒ</strong>í•˜ë¯€ë¡œ íŠ¹ì • ì „ë¬¸ê°€ì— ê³¼ë¶€í•˜ê°€ ê±¸ë¦´ ê°€ëŠ¥ì„±ì´ ìˆìŒ.<br>âœ… DeepSeekMoEëŠ” <strong>7ê°œ ì „ë¬¸ê°€ê°€ í™œì„±í™”ë˜ë¯€ë¡œ ë” ì„¸ë°€í•œ ì§€ì‹ ë¶„í™”ê°€ ê°€ëŠ¥</strong>.</p><h4 id=step-3-ì „ë¬¸ê°€ë“¤ì´-ê³„ì‚°-ìˆ˜í–‰><strong>Step 3: ì „ë¬¸ê°€ë“¤ì´ ê³„ì‚° ìˆ˜í–‰</strong></h4><p>ê° ì „ë¬¸ê°€ë“¤ì€ ìì‹ ì´ í• ë‹¹ë°›ì€ í† í°ì„ ì²˜ë¦¬í•¨.</p><p>âœ… ì˜ˆë¥¼ ë“¤ì–´ &ldquo;Paris"ë¼ëŠ” ë‹¨ì–´ë¥¼ í•´ì„í•˜ëŠ” ê²½ìš°:</p><ul><li>Expert 2ëŠ” <strong>ì§€ë¦¬ì  ê°œë…</strong>ì„ í•™ìŠµ</li><li>Expert 14ëŠ” <strong>êµ­ê°€ì™€ ë„ì‹œ ê´€ê³„</strong>ë¥¼ í•™ìŠµ</li><li>Expert 23ì€ <strong>í”„ë‘ìŠ¤ì˜ ìˆ˜ë„ ì •ë³´</strong>ë¥¼ í•™ìŠµ</li><li>Shared ExpertëŠ” <strong>ì¼ë°˜ì ì¸ ë¬¸ë§¥ ì •ë³´</strong>ë¥¼ ì €ì¥</li></ul><h4 id=step-4-ìµœì¢…-ì¶œë ¥-ê²°í•©><strong>Step 4: ìµœì¢… ì¶œë ¥ ê²°í•©</strong></h4><p>ê° ì „ë¬¸ê°€ê°€ ìƒì„±í•œ ì¶œë ¥ì„ <strong>ê°€ì¤‘ í‰ê· (Weighted Sum)ìœ¼ë¡œ í•©ì‚°</strong>í•˜ì—¬ ìµœì¢… ì¶œë ¥ì„ ìƒì„±.</p><hr><h2 id=4-deepseekmoeì˜-ì¥ì -ìš”ì•½><strong>4. DeepSeekMoEì˜ ì¥ì  ìš”ì•½</strong></h2><h3 id=-ê¸°ì¡´-moe-ëŒ€ë¹„-ê°œì„ ì ><strong>ğŸ“Œ ê¸°ì¡´ MoE ëŒ€ë¹„ ê°œì„ ì </strong></h3><table><thead><tr><th></th><th>ê¸°ì¡´ GShard</th><th>DeepSeekMoE</th></tr></thead><tbody><tr><td><strong>ì „ë¬¸ê°€ ìˆ˜</strong></td><td>16ê°œ</td><td>64ê°œ</td></tr><tr><td><strong>í™œì„±í™” ì „ë¬¸ê°€ ìˆ˜</strong></td><td>2ê°œ</td><td>7ê°œ + ê³µìœ  1ê°œ</td></tr><tr><td><strong>ì „ë¬¸í™” ì •ë„</strong></td><td>ë‚®ìŒ (í•˜ë‚˜ì˜ ì „ë¬¸ê°€ê°€ ì—¬ëŸ¬ ê°œë…ì„ í¬í•¨)</td><td>ë†’ìŒ (ê° ì „ë¬¸ê°€ê°€ íŠ¹ì • ê°œë…ì„ ë‹´ë‹¹)</td></tr><tr><td><strong>ì¤‘ë³µ ì§€ì‹</strong></td><td>ë™ì¼í•œ ì •ë³´ë¥¼ ì—¬ëŸ¬ ì „ë¬¸ê°€ê°€ í•™ìŠµ</td><td>ê³µìœ  ì „ë¬¸ê°€ê°€ ê³µí†µ ì§€ì‹ ì €ì¥</td></tr><tr><td><strong>ê³„ì‚°ëŸ‰</strong></td><td>ë§ìŒ</td><td>ê¸°ì¡´ ëŒ€ë¹„ 40% ì ˆê°</td></tr><tr><td><strong>ì„±ëŠ¥</strong></td><td>LLaMA2 7B ìˆ˜ì¤€</td><td>ë™ì¼í•œ ì„±ëŠ¥ì„ 40% ì ì€ ê³„ì‚°ëŸ‰ìœ¼ë¡œ ë‹¬ì„±</td></tr></tbody></table><p>âœ… ì „ë¬¸ê°€ë“¤ì´ <strong>ë³´ë‹¤ íŠ¹í™”ëœ ì§€ì‹ì„ í•™ìŠµ</strong>í•˜ì—¬ ëª¨ë¸ì˜ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚´.<br>âœ… ê³µìœ  ì „ë¬¸ê°€ê°€ <strong>ì¤‘ë³µ í•™ìŠµì„ ì¤„ì—¬</strong> ê³„ì‚° íš¨ìœ¨ì„±ì„ ê°œì„ .<br>âœ… ë™ì¼í•œ ì„±ëŠ¥ì„ <strong>í›¨ì”¬ ì ì€ ì—°ì‚°ëŸ‰</strong>ìœ¼ë¡œ ë‹¬ì„± ê°€ëŠ¥.</p><hr><h2 id=5-ìµœì¢…-ì •ë¦¬><strong>5. ìµœì¢… ì •ë¦¬</strong></h2><p><strong>DeepSeekMoEëŠ” ê¸°ì¡´ GShard MoE ëª¨ë¸ì˜ í•œê³„ë¥¼ í•´ê²°í•˜ë©°, ì „ë¬¸ê°€ ë¶„í™”ë¥¼ ê·¹ëŒ€í™”í•˜ëŠ” í˜ì‹ ì ì¸ ì•„í‚¤í…ì²˜ë¥¼ ë„ì…í•¨.</strong></p><ol><li><strong>Fine-Grained Expert Segmentation</strong><ul><li>ê¸°ì¡´ë³´ë‹¤ ì „ë¬¸ê°€ ê°œìˆ˜ë¥¼ 4ë°°ë¡œ ì¦ê°€í•˜ì—¬ ë” ì„¸ë°€í•œ ì¡°í•©ì„ í•™ìŠµ.</li></ul></li><li><strong>Shared Expert Isolation</strong><ul><li>ê³µìœ  ì „ë¬¸ê°€ë¥¼ ë„ì…í•˜ì—¬ ì¤‘ë³µëœ ì •ë³´ í•™ìŠµì„ ë°©ì§€í•˜ê³  ê³„ì‚° íš¨ìœ¨ì„±ì„ í–¥ìƒ.</li></ul></li><li><strong>ë¼ìš°íŒ… ê°œì„ </strong><ul><li>ê¸°ì¡´ MoEëŠ” 2ê°œ ì „ë¬¸ê°€ë§Œ í™œì„±í™”í•˜ì§€ë§Œ, DeepSeekMoEëŠ” 7ê°œ + ê³µìœ  ì „ë¬¸ê°€ë¥¼ í™œìš©í•˜ì—¬ ì§€ì‹ ë¶„ì‚°ì„ ê·¹ëŒ€í™”.</li></ul></li><li><strong>ê³„ì‚°ëŸ‰ ì ˆê°</strong><ul><li><strong>ë™ì¼í•œ ì„±ëŠ¥ì„ ë‚´ë©´ì„œë„ ì—°ì‚°ëŸ‰ì„ 40% ì ˆê°</strong>í•˜ì—¬ ì‹¤ìš©ì„±ì´ ë†’ìŒ.</li></ul></li></ol><hr><h2 id=ê²°ë¡ -1><strong>ê²°ë¡ </strong></h2><p>DeepSeekMoEëŠ” ê¸°ì¡´ MoE ëª¨ë¸ì´ ê°€ì§„ <strong>ì „ë¬¸í™” ë¶€ì¡±ê³¼ ì¤‘ë³µ í•™ìŠµ ë¬¸ì œ</strong>ë¥¼ í•´ê²°í•˜ë©°,<br>ë” ì ì€ ì—°ì‚°ëŸ‰ìœ¼ë¡œ ë” ë†’ì€ ì„±ëŠ¥ì„ ë‚´ëŠ” í˜ì‹ ì ì¸ ì ‘ê·¼ ë°©ì‹ì„.<br>íŠ¹íˆ <strong>LLaMA2 7Bì™€ ìœ ì‚¬í•œ ì„±ëŠ¥ì„ 40%ì˜ ì—°ì‚°ëŸ‰ìœ¼ë¡œ ë‹¬ì„±í–ˆë‹¤ëŠ” ì </strong>ì—ì„œ ì‹¤ì œ ë°°í¬ ê°€ëŠ¥ì„±ì´ ë§¤ìš° ë†’ìŒ.</p><h1 id=q--ì´-ë…¼ë¬¸ì—ì„œ-ì‚¬ìš©í•˜ëŠ”-ë°©ë²•ì„-í•™ìŠµí•˜ê¸°-ìœ„í•˜ì—¬-ì–´ë–¤-ë°ì´í„°ì…‹ì´-í•„ìš”í• ê¹Œ-ê·¸ë¦¬ê³ -ì–´ë–»ê²Œ-í•™ìŠµì„-ì§„í–‰í•˜ë©´-ë ì§€-ì˜ˆì‹œë¥¼-ë“¤ì–´ì„œ-ì•„ì£¼-ìì„¸í•˜ê²Œ-ì„¤ëª…í•´ì¤˜>Q : ì´ ë…¼ë¬¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•˜ê¸° ìœ„í•˜ì—¬ ì–´ë–¤ ë°ì´í„°ì…‹ì´ í•„ìš”í• ê¹Œ? ê·¸ë¦¬ê³  ì–´ë–»ê²Œ í•™ìŠµì„ ì§„í–‰í•˜ë©´ ë ì§€ ì˜ˆì‹œë¥¼ ë“¤ì–´ì„œ ì•„ì£¼ ìì„¸í•˜ê²Œ ì„¤ëª…í•´ì¤˜</h1><h2 id=deepseekmoe-í•™ìŠµì„-ìœ„í•œ-ë°ì´í„°ì…‹ê³¼-í•™ìŠµ-ë°©ë²•><strong>DeepSeekMoE í•™ìŠµì„ ìœ„í•œ ë°ì´í„°ì…‹ê³¼ í•™ìŠµ ë°©ë²•</strong></h2><p>DeepSeekMoEëŠ” ê¸°ì¡´ Mixture-of-Experts(MoE) ëª¨ë¸ê³¼ ì°¨ë³„í™”ëœ **Fine-Grained Expert Segmentation(ì „ë¬¸ê°€ ì„¸ë¶„í™”)**ê³¼ <strong>Shared Expert Isolation(ê³µìœ  ì „ë¬¸ê°€ ê²©ë¦¬)</strong> ê¸°ë²•ì„ ì ìš©í•œ ëª¨ë¸ì´ë¯€ë¡œ, ì¼ë°˜ì ì¸ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ í•™ìŠµ ë°©ì‹ê³¼ ëª‡ ê°€ì§€ ì°¨ì´ì ì´ ìˆìŒ.</p><hr><h2 id=1-í•™ìŠµì—-í•„ìš”í•œ-ë°ì´í„°ì…‹><strong>1. í•™ìŠµì— í•„ìš”í•œ ë°ì´í„°ì…‹</strong></h2><p>DeepSeekMoEëŠ” ë‹¤ì–‘í•œ íƒœìŠ¤í¬ë¥¼ ì˜ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ <strong>ëŒ€ê·œëª¨ ë©€í‹°ëª¨ë‹¬ ë°ì´í„°ì…‹</strong>ì„ í™œìš©í•¨.<br>ë…¼ë¬¸ì—ì„œ ì‚¬ìš©ëœ í•™ìŠµ ë°ì´í„°ì˜ íŠ¹ì§•ì€ ë‹¤ìŒê³¼ ê°™ìŒ.</p><h3 id=-11-í•„ìš”-ë°ì´í„°ì…‹-ìœ í˜•><strong>ğŸ“Œ 1.1. í•„ìš” ë°ì´í„°ì…‹ ìœ í˜•</strong></h3><table><thead><tr><th>ë°ì´í„°ì…‹ ìœ í˜•</th><th>ì˜ˆì‹œ</th><th>í•„ìš”ì„±</th></tr></thead><tbody><tr><td><strong>ì›¹ í…ìŠ¤íŠ¸</strong></td><td>Common Crawl, C4</td><td>ì¼ë°˜ì ì¸ ìì—°ì–´ ì´í•´</td></tr><tr><td><strong>ë°±ê³¼ì‚¬ì „ ë° ë¬¸ì„œ</strong></td><td>Wikipedia, BooksCorpus</td><td>êµ¬ì¡°í™”ëœ ì§€ì‹ í•™ìŠµ</td></tr><tr><td><strong>ê³¼í•™ ë…¼ë¬¸</strong></td><td>ArXiv, PubMed</td><td>ì „ë¬¸ ì§€ì‹ í¬í•¨</td></tr><tr><td><strong>ì½”ë“œ ë°ì´í„°</strong></td><td>The Stack, GitHub ì½”ë“œ</td><td>ì½”ë“œ ì´í•´ ë° ìƒì„±</td></tr><tr><td><strong>ìˆ˜í•™ ë°ì´í„°</strong></td><td>MATH, GSM8K</td><td>ìˆ˜í•™ì  ì¶”ë¡  ëŠ¥ë ¥ ê°•í™”</td></tr><tr><td><strong>ì§ˆë¬¸-ì‘ë‹µ ë°ì´í„°</strong></td><td>TriviaQA, Natural Questions</td><td>ì§€ì‹ ê¸°ë°˜ QA í•™ìŠµ</td></tr><tr><td><strong>ëŒ€í™” ë°ì´í„°</strong></td><td>OpenAssistant, Alpaca</td><td>ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™” í•™ìŠµ</td></tr></tbody></table><p>ğŸ’¡ <strong>DeepSeekMoEëŠ” íŠ¹íˆ ìˆ˜í•™, ì½”ë“œ, ë…¼ë¦¬ ì¶”ë¡  ê´€ë ¨ ë°ì´í„°ë¥¼ ë” ë§ì´ í¬í•¨í•˜ì—¬ ì „ë¬¸ê°€ ë„¤íŠ¸ì›Œí¬ì˜ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë¨.</strong></p><hr><h2 id=2-í•™ìŠµ-ë°©ë²•-deepseekmoe-í•™ìŠµ-í”„ë¡œì„¸ìŠ¤><strong>2. í•™ìŠµ ë°©ë²•: DeepSeekMoE í•™ìŠµ í”„ë¡œì„¸ìŠ¤</strong></h2><p>DeepSeekMoEëŠ” <strong>ê¸°ì¡´ Transformer ëª¨ë¸ê³¼ ë‹¤ë¥¸ MoE êµ¬ì¡°</strong>ì´ë¯€ë¡œ í•™ìŠµ ê³¼ì •ë„ ë‹¬ë¼ì•¼ í•¨.<br>ì•„ë˜ëŠ” í•™ìŠµì„ ìœ„í•œ <strong>ë‹¨ê³„ë³„ í”„ë¡œì„¸ìŠ¤</strong>ë¥¼ ì•„ì£¼ ìì„¸íˆ ì„¤ëª…í•œ ê²ƒì„.</p><hr><h3 id=-21-ë°ì´í„°-ì „ì²˜ë¦¬-ë°-í† í°í™”><strong>ğŸ“Œ 2.1. ë°ì´í„° ì „ì²˜ë¦¬ ë° í† í°í™”</strong></h3><ol><li><p><strong>í…ìŠ¤íŠ¸ ì •ì œ ë° í•„í„°ë§</strong></p><ul><li>ì›¹ í¬ë¡¤ë§ ë°ì´í„°ëŠ” <strong>ì¤‘ë³µ ì œê±°</strong> ë° <strong>ë¶ˆí•„ìš”í•œ ë¬¸ì¥ í•„í„°ë§</strong> ìˆ˜í–‰.</li><li>ì½”ë“œ ë°ì´í„°ëŠ” <strong>ì‹¤í–‰ ê°€ëŠ¥í•œ ì½”ë“œë§Œ í¬í•¨</strong>í•˜ë„ë¡ ì •ì œ.</li><li>ìˆ˜í•™ ê³µì‹ì€ <strong>LaTeX í‘œí˜„ì„ ìœ ì§€</strong>í•˜ë©´ì„œ í•™ìŠµ.</li></ul></li><li><p><strong>í† í°í™”(Tokenization)</strong></p><ul><li><strong>Byte Pair Encoding (BPE) ê¸°ë°˜ í† í°í™”</strong> ìˆ˜í–‰.</li><li><strong>ë‹¨ì–´ ë‹¨ìœ„ê°€ ì•„ë‹ˆë¼ ì„œë¸Œì›Œë“œ ë‹¨ìœ„</strong>ë¡œ ì˜ê²Œ ìª¼ê°œì–´ í¬ê·€ ë‹¨ì–´ë„ í•™ìŠµ ê°€ëŠ¥í•˜ê²Œ í•¨.</li><li>ì¼ë°˜ì ì¸ ì–¸ì–´ ëª¨ë¸ë³´ë‹¤ <strong>í° 100K ë‹¨ì–´ ì‚¬ì „</strong>ì„ ì‚¬ìš©í•˜ì—¬ ë©€í‹°ëª¨ë‹¬ í•™ìŠµì„ ì§€ì›.</li></ul></li></ol><hr><h3 id=-22-moe-ëª¨ë¸ì˜-í•™ìŠµ-ì „ëµ><strong>ğŸ“Œ 2.2. MoE ëª¨ë¸ì˜ í•™ìŠµ ì „ëµ</strong></h3><p>DeepSeekMoE í•™ìŠµì€ ì¼ë°˜ì ì¸ Transformerì™€ ë‹¬ë¦¬ <strong>í† í°ë§ˆë‹¤ ì ì ˆí•œ ì „ë¬¸ê°€(Expert)ë¥¼ ì„ íƒí•˜ëŠ” ê³¼ì •ì´ ì¶”ê°€ë¨.</strong><br>ì´ ê³¼ì •ì—ì„œ <code>Fine-Grained Expert Segmentation</code> ë° <code>Shared Expert Isolation</code>ì„ í™œìš©í•¨.</p><h4 id=1-expert-ì„ íƒ-ê³¼ì •><strong>(1) Expert ì„ íƒ ê³¼ì •</strong></h4><p>ğŸ’¡ ì˜ˆì œ ë¬¸ì¥:<br><code>"The Eiffel Tower is located in Paris, France."</code></p><ol><li><p><strong>ë¼ìš°íŒ…(Routing) ê³¼ì •</strong></p><ul><li>ê° í† í°ì€ <strong>ë¼ìš°í„°(Router) ë„¤íŠ¸ì›Œí¬</strong>ë¥¼ í†µí•´ ì ì ˆí•œ ì „ë¬¸ê°€ì—ê²Œ í• ë‹¹ë¨.</li><li>ê¸°ì¡´ MoE(GShard ë“±)ëŠ” <strong>2ê°œ ì „ë¬¸ê°€ë§Œ í™œì„±í™”</strong>í•˜ì§€ë§Œ,<br>DeepSeekMoEëŠ” <strong>7ê°œ ì „ë¬¸ê°€ + ê³µìœ  ì „ë¬¸ê°€ 1ê°œë¥¼ í™œì„±í™”</strong>.</li></ul></li><li><p><strong>ì „ë¬¸ê°€ ê·¸ë£¹ ë¶„ë°° ì˜ˆì‹œ</strong></p><table><thead><tr><th>í† í°</th><th>ê¸°ì¡´ GShard (2ê°œ ì „ë¬¸ê°€)</th><th>DeepSeekMoE (7ê°œ ì „ë¬¸ê°€ + ê³µìœ )</th></tr></thead><tbody><tr><td>&ldquo;Eiffel&rdquo;</td><td>Expert 3, 7</td><td><strong>Expert 2, 14, 23, 31, 40, 51, 62 + Shared</strong></td></tr><tr><td>&ldquo;Paris&rdquo;</td><td>Expert 1, 5</td><td><strong>Expert 6, 15, 25, 33, 48, 53, 61 + Shared</strong></td></tr></tbody></table></li></ol><p>âœ… <strong>ê²°ê³¼ì ìœ¼ë¡œ ì „ë¬¸ê°€ë“¤ì´ ë”ìš± ì„¸ë°€í•œ ì •ë³´ë¥¼ í•™ìŠµí•˜ê²Œ ë¨.</strong><br>âœ… <strong>ì¤‘ë³µ í•™ìŠµì„ ì¤„ì´ê³ , ë³´ë‹¤ íš¨ê³¼ì ì¸ ì „ë¬¸ê°€ ì¡°í•©ì„ í˜•ì„± ê°€ëŠ¥.</strong></p><hr><h3 id=-23-ëª¨ë¸-í•™ìŠµ-ê³¼ì •><strong>ğŸ“Œ 2.3. ëª¨ë¸ í•™ìŠµ ê³¼ì •</strong></h3><p>MoE ëª¨ë¸ì„ í•™ìŠµí•˜ëŠ” ê³¼ì •ì€ ì¼ë°˜ì ì¸ Transformerì™€ ìœ ì‚¬í•˜ì§€ë§Œ, <strong>MoE êµ¬ì¡°ì˜ íŠ¹ì„±ìƒ ì¶”ê°€ì ì¸ Loss(ì†ì‹¤ í•¨ìˆ˜) í•­ëª©ì´ í•„ìš”í•¨</strong>.</p><h4 id=1-ì†ì‹¤-í•¨ìˆ˜-êµ¬ì„±><strong>(1) ì†ì‹¤ í•¨ìˆ˜ êµ¬ì„±</strong></h4><p>MoE ëª¨ë¸ì€ ê¸°ë³¸ì ì¸ <strong>í¬ë¡œìŠ¤ ì—”íŠ¸ë¡œí”¼ ì†ì‹¤(Cross-Entropy Loss)</strong> ì™¸ì—ë„ **ì „ë¬¸ê°€ ê· í˜• ì†ì‹¤(Balance Loss)**ì„ ì¶”ê°€ë¡œ ì‚¬ìš©.</p><ol><li><p><strong>í¬ë¡œìŠ¤ ì—”íŠ¸ë¡œí”¼ ì†ì‹¤ (ê¸°ë³¸ Loss)</strong></p><ul><li>ì¼ë°˜ì ì¸ ì–¸ì–´ ëª¨ë¸ê³¼ ë™ì¼í•˜ê²Œ, ì •ë‹µ ë¬¸ì¥ê³¼ ë¹„êµí•˜ì—¬ Loss ê³„ì‚°.</li></ul></li><li><p><strong>ì „ë¬¸ê°€ ê· í˜• ì†ì‹¤ (Balance Loss)</strong></p><ul><li>íŠ¹ì • ì „ë¬¸ê°€ì— <strong>í† í°ì´ ê³¼ë„í•˜ê²Œ ì§‘ì¤‘ë˜ëŠ” ë¬¸ì œ í•´ê²°</strong>.</li><li>ê° ì „ë¬¸ê°€ê°€ <strong>ê· ë“±í•˜ê²Œ ì„ íƒë  ìˆ˜ ìˆë„ë¡ Lossë¥¼ ì¶”ê°€</strong>í•˜ì—¬ ê· í˜•ì„ ë§ì¶¤.</li></ul></li><li><p><strong>ì¥ì¹˜ ìˆ˜ì¤€ ê· í˜• ì†ì‹¤ (Device-Level Balance Loss)</strong></p><ul><li>ì „ë¬¸ê°€ê°€ ì—¬ëŸ¬ GPU/TPUì—ì„œ ë¶„ì‚° í•™ìŠµë  ê²½ìš°,<br><strong>í•˜ë‚˜ì˜ GPUê°€ ê³¼ë¶€í•˜ë˜ì§€ ì•Šë„ë¡ Loss ì ìš©</strong>.</li></ul></li></ol><p>âœ… <strong>ì´ ê³¼ì •ì´ ì—†ìœ¼ë©´ ì¼ë¶€ ì „ë¬¸ê°€ê°€ ê³¼ë„í•˜ê²Œ í•™ìŠµë˜ê³ , ë‹¤ë¥¸ ì „ë¬¸ê°€ë“¤ì€ ì œëŒ€ë¡œ í›ˆë ¨ë˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ.</strong></p><hr><h3 id=-24-í•™ìŠµ-í•˜ì´í¼íŒŒë¼ë¯¸í„°><strong>ğŸ“Œ 2.4. í•™ìŠµ í•˜ì´í¼íŒŒë¼ë¯¸í„°</strong></h3><p>DeepSeekMoEì˜ ëŒ€í‘œì ì¸ í•™ìŠµ ì„¤ì •:</p><table><thead><tr><th>ì„¤ì • í•­ëª©</th><th>2B ëª¨ë¸</th><th>16B ëª¨ë¸</th><th>145B ëª¨ë¸</th></tr></thead><tbody><tr><td>Transformer ì¸µ ìˆ˜</td><td>9</td><td>28</td><td>62</td></tr><tr><td>Hidden í¬ê¸°</td><td>1280</td><td>2048</td><td>4096</td></tr><tr><td>Attention Head ê°œìˆ˜</td><td>10</td><td>16</td><td>32</td></tr><tr><td>ì „ë¬¸ê°€ ê°œìˆ˜</td><td>64</td><td>64</td><td>128</td></tr><tr><td>í™œì„± ì „ë¬¸ê°€ ìˆ˜</td><td>7+1</td><td>6+2</td><td>12+4</td></tr><tr><td>ë°°ì¹˜ í¬ê¸° (Batch Size)</td><td>2K</td><td>4.5K</td><td>4.5K</td></tr><tr><td>ìµœëŒ€ ì‹œí€€ìŠ¤ ê¸¸ì´</td><td>2K</td><td>4K</td><td>4K</td></tr><tr><td>í•™ìŠµë¥  (LR)</td><td>1.08e-3</td><td>4.2e-4</td><td>3.0e-4</td></tr></tbody></table><p>ğŸ’¡ <strong>ìŠ¤ì¼€ì¼ì´ ì»¤ì§ˆìˆ˜ë¡ ì „ë¬¸ê°€ ê°œìˆ˜ê°€ ì¦ê°€í•˜ë©°, ì „ë¬¸ê°€ í•œ ê°œì˜ í¬ê¸°ê°€ ì‘ì•„ì§.</strong></p><hr><h2 id=3-ìµœì¢…-ì •ë¦¬-í•™ìŠµ-ì „ëµ-ìš”ì•½><strong>3. ìµœì¢… ì •ë¦¬: í•™ìŠµ ì „ëµ ìš”ì•½</strong></h2><table><thead><tr><th>ë‹¨ê³„</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td><strong>1. ë°ì´í„°ì…‹ êµ¬ì¶•</strong></td><td>ì›¹, ìœ„í‚¤, ë…¼ë¬¸, ì½”ë“œ, ìˆ˜í•™ ë°ì´í„° í¬í•¨í•˜ì—¬ ë‹¤ì–‘í•œ ì§€ì‹ì„ ë°˜ì˜</td></tr><tr><td><strong>2. í† í°í™”(Tokenization)</strong></td><td>BPE ê¸°ë°˜ 100K í† í° ì‚¬ì „ ì‚¬ìš©</td></tr><tr><td><strong>3. ì „ë¬¸ê°€ ë¼ìš°íŒ…(Expert Routing)</strong></td><td>64ê°œ ì „ë¬¸ê°€ ì¤‘ 7ê°œ + ê³µìœ  ì „ë¬¸ê°€ í™œì„±í™”</td></tr><tr><td><strong>4. ì†ì‹¤ í•¨ìˆ˜ ì ìš©</strong></td><td>ì „ë¬¸ê°€ ê· í˜•ì„ ë§ì¶”ê¸° ìœ„í•´ Balance Loss ì¶”ê°€</td></tr><tr><td><strong>5. GPU ë¶„ì‚° í•™ìŠµ</strong></td><td>Device-Level Balance Lossë¥¼ ì‚¬ìš©í•˜ì—¬ GPU ê³¼ë¶€í•˜ ë°©ì§€</td></tr><tr><td><strong>6. ìŠ¤ì¼€ì¼ë§ ì „ëµ</strong></td><td>2B â†’ 16B â†’ 145B ëª¨ë¸ë¡œ í™•ì¥</td></tr></tbody></table><hr><h2 id=ê²°ë¡ -2><strong>ê²°ë¡ </strong></h2><ul><li>DeepSeekMoEëŠ” ê¸°ì¡´ MoE ëª¨ë¸ì´ ê°€ì§„ <strong>ì „ë¬¸í™” ë¶€ì¡±ê³¼ ì¤‘ë³µ í•™ìŠµ ë¬¸ì œë¥¼ í•´ê²°</strong>í•˜ëŠ” ìƒˆë¡œìš´ ì ‘ê·¼ë²•ì„ ì œì•ˆí•¨.</li><li>í•™ìŠµ ê³¼ì •ì—ì„œëŠ” <strong>ì „ë¬¸ê°€ ê°„ ê· í˜•ì„ ìœ ì§€í•˜ëŠ” ì¶”ê°€ì ì¸ Lossë¥¼ ì‚¬ìš©</strong>í•˜ì—¬ ì „ë¬¸ê°€ë“¤ì´ íš¨ìœ¨ì ìœ¼ë¡œ í•™ìŠµë˜ë„ë¡ í•¨.</li><li><strong>ëŒ€ê·œëª¨ ë°ì´í„°ì…‹ê³¼ ê³ ìœ í•œ MoE ë¼ìš°íŒ… ì „ëµ</strong>ì„ í™œìš©í•˜ì—¬ ìµœì ì˜ ì„±ëŠ¥ì„ ë‹¬ì„±.</li></ul><p>âœ… <strong>ê²°ê³¼ì ìœ¼ë¡œ, ê°™ì€ ê³„ì‚°ëŸ‰ ëŒ€ë¹„ ë†’ì€ ì„±ëŠ¥ì„ ìœ ì§€í•˜ë©´ì„œë„ ë” íš¨ìœ¨ì ì¸ ëª¨ë¸ì„ ë§Œë“¤ ìˆ˜ ìˆìŒ.</strong></p><h1 id=q--ì´-ë…¼ë¬¸ì—ì„œ-ì œì‹œí•œ-ê²°ê³¼ë¥¼-ìì„¸í•˜ê²Œ-ë³´ê³ -ë‹¤ë¥¸-ë°©ë²•ë¡ ì—-ë¹„í•˜ì—¬-íŠ¹ì¶œë‚œ-ì ê³¼-ë…¼ë¬¸ì—ì„œ-ì œê¸°í•˜ëŠ”-ì–´ë– í•œ-ë°©ë²•ì´-ì´ëŸ¬í•œ-ê²°ê³¼ë¥¼-ë„ì¶œí•˜ê²Œ-ë˜ì—ˆëŠ”ì§€-ë…¼ë¬¸ì—ì„œ-ì œì‹œí•˜ëŠ”-ì´ìœ ì™€-ë„ˆì˜-ìƒê°ì„-ì•Œë ¤ì¤˜>Q : ì´ ë…¼ë¬¸ì—ì„œ ì œì‹œí•œ ê²°ê³¼ë¥¼ ìì„¸í•˜ê²Œ ë³´ê³  ë‹¤ë¥¸ ë°©ë²•ë¡ ì— ë¹„í•˜ì—¬ íŠ¹ì¶œë‚œ ì ê³¼ ë…¼ë¬¸ì—ì„œ ì œê¸°í•˜ëŠ” ì–´ë– í•œ ë°©ë²•ì´ ì´ëŸ¬í•œ ê²°ê³¼ë¥¼ ë„ì¶œí•˜ê²Œ ë˜ì—ˆëŠ”ì§€ ë…¼ë¬¸ì—ì„œ ì œì‹œí•˜ëŠ” ì´ìœ ì™€ ë„ˆì˜ ìƒê°ì„ ì•Œë ¤ì¤˜</h1><h2 id=ë…¼ë¬¸ì—ì„œ-ì œì‹œí•œ-ê²°ê³¼-ë¶„ì„-ë°-ë¹„êµ><strong>ë…¼ë¬¸ì—ì„œ ì œì‹œí•œ ê²°ê³¼ ë¶„ì„ ë° ë¹„êµ</strong></h2><p>ë…¼ë¬¸ì—ì„œ ì œì‹œí•œ <strong>DeepSeekMoE</strong>ì˜ ê²°ê³¼ë¥¼ ìì„¸íˆ ì‚´í´ë³´ë©´, <strong>ê¸°ì¡´ MoE ëª¨ë¸(GShard, Switch Transformer) ë° Dense ëª¨ë¸(LLaMA2 ë“±) ëŒ€ë¹„ íŠ¹ì¶œë‚œ ì„±ëŠ¥ì„ ë³´ì´ë©°, ê³„ì‚°ëŸ‰ì„ ì¤„ì´ëŠ” ë° ì„±ê³µ</strong>í•œ ê²ƒì´ ê°€ì¥ í° íŠ¹ì§•ì„.<br>ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ <strong>íŠ¹ì¶œë‚œ ì ê³¼ ì´ë¥¼ ê°€ëŠ¥í•˜ê²Œ ë§Œë“  ë°©ë²•ë¡ , ê·¸ë¦¬ê³  ë…¼ë¬¸ì—ì„œ ì œì‹œí•˜ëŠ” ì´ìœ  ë° ë‚´ ìƒê°</strong>ì„ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•¨.</p><hr><h2 id=1-ë…¼ë¬¸ì—ì„œ-ì œì‹œí•œ-ì£¼ìš”-ê²°ê³¼><strong>1. ë…¼ë¬¸ì—ì„œ ì œì‹œí•œ ì£¼ìš” ê²°ê³¼</strong></h2><p>DeepSeekMoEì˜ ì„±ëŠ¥ì„ ìš”ì•½í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŒ.</p><h3 id=-deepseekmoe-16b-vs-ê¸°ì¡´-dense-ëª¨ë¸-llama2-7b-deepseek-7b><strong>ğŸ“Œ DeepSeekMoE 16B vs. ê¸°ì¡´ Dense ëª¨ë¸ (LLaMA2 7B, DeepSeek 7B)</strong></h3><table><thead><tr><th>ëª¨ë¸</th><th>ì´ íŒŒë¼ë¯¸í„° ìˆ˜</th><th>í™œì„±í™”ëœ íŒŒë¼ë¯¸í„° ìˆ˜</th><th>FLOPs (4K í† í°ë‹¹)</th><th>ì£¼ìš” ì„±ëŠ¥ ë¹„êµ</th></tr></thead><tbody><tr><td><strong>LLaMA2 7B</strong></td><td>6.7B</td><td>6.7B</td><td>187.9T</td><td>Baseline</td></tr><tr><td><strong>DeepSeek 7B (Dense)</strong></td><td>6.9B</td><td>6.9B</td><td>183.5T</td><td>LLaMA2ì™€ ë¹„ìŠ·</td></tr><tr><td><strong>DeepSeekMoE 16B</strong></td><td>16.4B</td><td>2.8B</td><td><strong>74.4T (â†“60%)</strong></td><td><strong>ë™ì¼í•œ ì„±ëŠ¥ì„ 40% ê³„ì‚°ëŸ‰ìœ¼ë¡œ ë‹¬ì„±</strong></td></tr></tbody></table><p>âœ… <strong>DeepSeekMoE 16BëŠ” LLaMA2 7Bì™€ ë¹„ìŠ·í•œ ì„±ëŠ¥ì„ ë³´ì´ë©´ì„œë„ ê³„ì‚°ëŸ‰ì´ 40%ë¡œ ì¤„ì–´ë“¤ì—ˆìŒ.</strong><br>âœ… <strong>í™œì„±í™”ë˜ëŠ” íŒŒë¼ë¯¸í„° ìˆ˜ê°€ 2.8Bë¡œ ë§¤ìš° ì ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ë†’ì€ ì„±ëŠ¥ì„ ìœ ì§€.</strong><br>âœ… <strong>íŠ¹íˆ ì½”ë“œ ìƒì„±, ìˆ˜í•™ì  ë¬¸ì œ í•´ê²°, ì§€ì‹ ê¸°ë°˜ QA ì„±ëŠ¥ì—ì„œ ê¸°ì¡´ ëª¨ë¸ë³´ë‹¤ ë›°ì–´ë‚œ ì„±ê³¼ë¥¼ ê¸°ë¡.</strong></p><hr><h3 id=-deepseekmoe-145b-vs-ê¸°ì¡´-gshard-137b-deepseek-67b-dense><strong>ğŸ“Œ DeepSeekMoE 145B vs. ê¸°ì¡´ GShard 137B, DeepSeek 67B (Dense)</strong></h3><table><thead><tr><th>ëª¨ë¸</th><th>ì´ íŒŒë¼ë¯¸í„° ìˆ˜</th><th>í™œì„±í™”ëœ íŒŒë¼ë¯¸í„° ìˆ˜</th><th>FLOPs (4K í† í°ë‹¹)</th><th>ì£¼ìš” ì„±ëŠ¥ ë¹„êµ</th></tr></thead><tbody><tr><td><strong>DeepSeek 67B (Dense)</strong></td><td>67.4B</td><td>67.4B</td><td>2057.5T</td><td>Baseline</td></tr><tr><td><strong>GShard 137B</strong></td><td>136.5B</td><td>21.6B</td><td>572.7T</td><td>ì„±ëŠ¥ ë¯¸í¡</td></tr><tr><td><strong>DeepSeekMoE 145B</strong></td><td>144.6B</td><td>22.2B</td><td><strong>585.6T (â†“71%)</strong></td><td><strong>Dense 67B ì„±ëŠ¥ì„ ìœ ì§€í•˜ë©° ì—°ì‚°ëŸ‰ 28.5%ë¡œ ì ˆê°</strong></td></tr></tbody></table><p>âœ… <strong>DeepSeekMoE 145BëŠ” 67B Dense ëª¨ë¸ê³¼ ë¹„ìŠ·í•œ ì„±ëŠ¥ì„ ë³´ì´ë©°, ì—°ì‚°ëŸ‰ì´ 28.5%ì— ë¶ˆê³¼í•¨.</strong><br>âœ… <strong>GShard 137B ëŒ€ë¹„ í™•ì—°í•œ ì„±ëŠ¥ ì°¨ì´ë¥¼ ë³´ì´ë©°, MoE ëª¨ë¸ë¡œì„œ ë” ë†’ì€ íš¨ìœ¨ì„±ì„ ì¦ëª….</strong><br>âœ… <strong>íŠ¹íˆ TriviaQA(ì§€ì‹ ê¸°ë°˜ QA)ì™€ Natural Questionsì—ì„œ ê°•ë ¥í•œ ì„±ëŠ¥ì„ ë³´ì„.</strong></p><hr><h2 id=2-deepseekmoeê°€-ê¸°ì¡´-ëª¨ë¸ë³´ë‹¤-íŠ¹ì¶œë‚œ-ì ><strong>2. DeepSeekMoEê°€ ê¸°ì¡´ ëª¨ë¸ë³´ë‹¤ íŠ¹ì¶œë‚œ ì </strong></h2><p>ê¸°ì¡´ MoE ëª¨ë¸ê³¼ ë¹„êµí–ˆì„ ë•Œ, DeepSeekMoEëŠ” <strong>ë” ë†’ì€ ì „ë¬¸í™”(Specialization)ë¥¼ ë‹¬ì„±í•˜ê³ , ê³„ì‚°ëŸ‰ì„ íšê¸°ì ìœ¼ë¡œ ì¤„ì„</strong>.</p><h3 id=-ê¸°ì¡´-gshard-switch-transformerì™€ì˜-ì°¨ì´ì ><strong>ğŸ“Œ ê¸°ì¡´ GShard, Switch Transformerì™€ì˜ ì°¨ì´ì </strong></h3><table><thead><tr><th>ë¹„êµ í•­ëª©</th><th>ê¸°ì¡´ GShard</th><th>Switch Transformer</th><th><strong>DeepSeekMoE</strong></th></tr></thead><tbody><tr><td><strong>í™œì„±í™” ì „ë¬¸ê°€ ìˆ˜</strong></td><td>2ê°œ</td><td>1ê°œ</td><td><strong>7ê°œ + ê³µìœ  ì „ë¬¸ê°€ 1ê°œ</strong></td></tr><tr><td><strong>ì „ë¬¸ê°€ ì„¸ë¶„í™”</strong></td><td>ì—†ìŒ</td><td>ì—†ìŒ</td><td><strong>64ê°œ ì „ë¬¸ê°€ (ë” ì‘ê³  ì •ë°€í•¨)</strong></td></tr><tr><td><strong>ê³µìœ  ì „ë¬¸ê°€ (Shared Expert)</strong></td><td>ì—†ìŒ</td><td>ì—†ìŒ</td><td><strong>ê³µìœ  ì „ë¬¸ê°€ ì¡´ì¬ (ì¤‘ë³µ í•™ìŠµ ë°©ì§€)</strong></td></tr><tr><td><strong>ê³„ì‚°ëŸ‰ ê°ì†Œ íš¨ê³¼</strong></td><td>ì¼ë¶€ ê°ì†Œ</td><td>ì¼ë¶€ ê°ì†Œ</td><td><strong>40~71% ê°ì†Œ (ìµœê³  ìˆ˜ì¤€)</strong></td></tr><tr><td><strong>ì„±ëŠ¥ ê°œì„ </strong></td><td>ì œí•œì </td><td>ì œí•œì </td><td><strong>Dense ëª¨ë¸ ì„±ëŠ¥ì„ ìœ ì§€í•˜ë©° íš¨ìœ¨ì„± ì¦ê°€</strong></td></tr></tbody></table><p>âœ… <strong>GShard, Switch TransformerëŠ” ê° í† í°ë‹¹ 1~2ê°œì˜ ì „ë¬¸ê°€ë§Œ í™œì„±í™”í–ˆì§€ë§Œ, DeepSeekMoEëŠ” 7ê°œ + ê³µìœ  ì „ë¬¸ê°€ë¥¼ í™œìš©í•˜ì—¬ í›¨ì”¬ ì„¸ë°€í•œ ì¡°í•©ì„ êµ¬ì„±í•  ìˆ˜ ìˆì—ˆìŒ.</strong><br>âœ… <strong>ê³µìœ  ì „ë¬¸ê°€(Shared Experts) ë„ì…ìœ¼ë¡œ ì¤‘ë³µ í•™ìŠµì„ ë°©ì§€í•˜ì—¬ íš¨ìœ¨ì„±ì„ ë†’ì˜€ìŒ.</strong><br>âœ… <strong>ì „ì²´ì ì¸ ê³„ì‚°ëŸ‰ì„ 40~71% ì¤„ì´ë©´ì„œë„ Dense ëª¨ë¸ê³¼ ë™ë“±í•œ ì„±ëŠ¥ì„ ìœ ì§€í•œ ê²ƒì´ ê°€ì¥ íŠ¹ì¶œë‚¨.</strong></p><hr><h2 id=3-ë…¼ë¬¸ì—ì„œ-ì œì‹œí•˜ëŠ”-í•µì‹¬-ì›ì¸-ì™œ-ì´ëŸ°-ê²°ê³¼ê°€-ë‚˜ì™”ëŠ”ê°€><strong>3. ë…¼ë¬¸ì—ì„œ ì œì‹œí•˜ëŠ” í•µì‹¬ ì›ì¸ (ì™œ ì´ëŸ° ê²°ê³¼ê°€ ë‚˜ì™”ëŠ”ê°€?)</strong></h2><p>ë…¼ë¬¸ì—ì„œëŠ” DeepSeekMoEê°€ <strong>ê¸°ì¡´ ëª¨ë¸ ëŒ€ë¹„ ë†’ì€ íš¨ìœ¨ì„±ì„ ê°€ì§€ëŠ” ì´ìœ </strong>ë¥¼ í¬ê²Œ ì„¸ ê°€ì§€ë¡œ ì„¤ëª…í•¨.</p><h3 id=-ì›ì¸-1-fine-grained-expert-segmentation><strong>ğŸ“Œ ì›ì¸ 1: Fine-Grained Expert Segmentation</strong></h3><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p>ì „ë¬¸ê°€ë¥¼ ë” ì‘ì€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ê³ , ë” ë§ì€ ì „ë¬¸ê°€ë¥¼ í™œì„±í™”í•˜ì—¬ ì§€ì‹ì˜ ì „ë¬¸í™”ë¥¼ ê·¹ëŒ€í™”.</p></div></blockquote><p>âœ… ê¸°ì¡´ ëª¨ë¸ì€ 16ê°œ ì „ë¬¸ê°€ ì¤‘ 2ê°œë§Œ í™œì„±í™” â†’ <strong>ì „ë¬¸ê°€ê°€ ê³¼ë¶€í•˜ë¥¼ ë°›ìŒ.</strong><br>âœ… DeepSeekMoEëŠ” 64ê°œ ì „ë¬¸ê°€ ì¤‘ 7ê°œ + ê³µìœ  ì „ë¬¸ê°€ë¥¼ í™œì„±í™” â†’ <strong>ë‹¤ì–‘í•œ ì¡°í•©ìœ¼ë¡œ ì„¸ë°€í•œ í•™ìŠµ ê°€ëŠ¥.</strong><br>âœ… ê²°ê³¼ì ìœ¼ë¡œ, íŠ¹ì • ì „ë¬¸ê°€ì— ì§‘ì¤‘ë˜ëŠ” í˜„ìƒì„ ë°©ì§€í•˜ê³  ë” ê· í˜• ì¡íŒ í•™ìŠµì„ ì œê³µ.</p><hr><h3 id=-ì›ì¸-2-shared-expert-isolation><strong>ğŸ“Œ ì›ì¸ 2: Shared Expert Isolation</strong></h3><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p>ì¼ë¶€ ì „ë¬¸ê°€ë¥¼ ê³µìœ  ì „ë¬¸ê°€ë¡œ ì§€ì •í•˜ì—¬ ì¤‘ë³µ í•™ìŠµì„ ë°©ì§€í•˜ê³ , í•„ìš”í•  ë•Œ ê³µí†µ ì •ë³´ë¥¼ ì œê³µ.</p></div></blockquote><p>âœ… ê¸°ì¡´ MoE ëª¨ë¸ì—ì„œëŠ” ì—¬ëŸ¬ ì „ë¬¸ê°€ê°€ <strong>ê°™ì€ ì •ë³´(ì˜ˆ: ë¬¸ë²•, ê¸°ë³¸ ì§€ì‹)ë¥¼ í•™ìŠµí•˜ì—¬ ì¤‘ë³µ ë°œìƒ.</strong><br>âœ… DeepSeekMoEëŠ” ê³µìœ  ì „ë¬¸ê°€ë¥¼ í†µí•´ <strong>ê³µí†µ ì§€ì‹ì„ ë³„ë„ë¡œ ì €ì¥</strong> â†’ ê°œë³„ ì „ë¬¸ê°€ë“¤ì€ ë³´ë‹¤ íŠ¹ìˆ˜í™”ëœ ì§€ì‹ í•™ìŠµ ê°€ëŠ¥.<br>âœ… ê²°ê³¼ì ìœ¼ë¡œ, <strong>ì „ì²´ì ì¸ ê³„ì‚° íš¨ìœ¨ì„±ì´ ì¦ê°€</strong>í•˜ê³ , <strong>ëª¨ë“  ì „ë¬¸ê°€ê°€ ìµœì í™”ëœ ì§€ì‹ì„ ë³´ìœ </strong>í•  ìˆ˜ ìˆì—ˆìŒ.</p><hr><h3 id=-ì›ì¸-3-routing--load-balance-optimization><strong>ğŸ“Œ ì›ì¸ 3: Routing & Load Balance Optimization</strong></h3><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p>ì „ë¬¸ê°€ ê· í˜• ì†ì‹¤(Balance Loss) ë° ì¥ì¹˜ ìˆ˜ì¤€ ê· í˜• ì†ì‹¤(Device-Level Balance Loss)ì„ í™œìš©í•˜ì—¬ ì „ë¬¸ê°€ê°€ ë¶ˆê· í˜•í•˜ê²Œ ì„ íƒë˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°.</p></div></blockquote><p>âœ… ê¸°ì¡´ MoE ëª¨ë¸ì€ íŠ¹ì • ì „ë¬¸ê°€ì— í† í°ì´ ëª°ë¦¬ë©´ì„œ <strong>ì¼ë¶€ ì „ë¬¸ê°€ê°€ ê±°ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ.</strong><br>âœ… DeepSeekMoEëŠ” Balance Lossë¥¼ í™œìš©í•˜ì—¬ <strong>ê° ì „ë¬¸ê°€ê°€ ê³ ë¥´ê²Œ í•™ìŠµë  ìˆ˜ ìˆë„ë¡ ìœ ë„.</strong><br>âœ… Device-Level Balance Lossë¡œ ë‹¤ì¤‘ GPU/TPU í•™ìŠµ ì‹œ <strong>íŠ¹ì • ì¥ì¹˜ê°€ ê³¼ë¶€í•˜ë¥¼ ë°›ëŠ” ë¬¸ì œë¥¼ í•´ê²°.</strong><br>âœ… ê²°ê³¼ì ìœ¼ë¡œ, <strong>ë” ì•ˆì •ì ì¸ í•™ìŠµì´ ê°€ëŠ¥í•˜ê³ , í•™ìŠµëœ ì „ë¬¸ê°€ë“¤ì´ ì‹¤ì œë¡œ ê³ ë¥´ê²Œ í™œìš©ë¨.</strong></p><hr><h2 id=4-ë‚´-ìƒê°-ë…¼ë¬¸ì—ì„œ-ì œì‹œí•œ-ì´ìœ ì—-ëŒ€í•œ-ì¶”ê°€-ë¶„ì„><strong>4. ë‚´ ìƒê° (ë…¼ë¬¸ì—ì„œ ì œì‹œí•œ ì´ìœ ì— ëŒ€í•œ ì¶”ê°€ ë¶„ì„)</strong></h2><p>ë…¼ë¬¸ì˜ ê²°ê³¼ëŠ” <strong>í•©ë¦¬ì ì´ë©°, ê¸°ì¡´ MoE ëª¨ë¸ì˜ ë‹¨ì ì„ ë§¤ìš° íš¨ê³¼ì ìœ¼ë¡œ í•´ê²°</strong>í–ˆë‹¤ê³  íŒë‹¨ë¨.<br>í•˜ì§€ë§Œ ëª‡ ê°€ì§€ ì¶”ê°€ì ì¸ ë¶„ì„ì´ í•„ìš”í•¨.</p><ol><li><p><strong>Fine-Tuning ì„±ëŠ¥ ê°œì„  í•„ìš”</strong></p><ul><li>ê¸°ì¡´ MoE ëª¨ë¸ì˜ í•œê³„ ì¤‘ í•˜ë‚˜ëŠ” <strong>Fine-Tuningì´ ì–´ë µë‹¤ëŠ” ê²ƒ</strong>ì¸ë°, ë…¼ë¬¸ì—ì„œëŠ” ì´ë¥¼ ì¶©ë¶„íˆ ë‹¤ë£¨ì§€ ì•ŠìŒ.</li><li>MoE ëª¨ë¸ì€ ì‚¬ì „ í•™ìŠµì—ì„œëŠ” ê°•ë ¥í•˜ì§€ë§Œ, <strong>ë¯¸ì„¸ ì¡°ì •(Instruction Tuning) ê³¼ì •ì—ì„œ Overfitting ë˜ëŠ” Underfitting ë¬¸ì œê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ë†’ìŒ.</strong></li></ul></li><li><p><strong>ì „ë¬¸ê°€ í™œì„±í™” ê°œìˆ˜ ìµœì í™” ì—°êµ¬ í•„ìš”</strong></p><ul><li>ë…¼ë¬¸ì—ì„œëŠ” 7ê°œ ì „ë¬¸ê°€ + ê³µìœ  ì „ë¬¸ê°€ë¥¼ í™œì„±í™”í–ˆì§€ë§Œ, <strong>ë” ì ê±°ë‚˜ ë§ì€ ì „ë¬¸ê°€ë¥¼ í™œì„±í™”í–ˆì„ ë•Œì˜ íš¨ê³¼ì— ëŒ€í•œ ì—°êµ¬ëŠ” ë¶€ì¡±í•¨.</strong></li><li>ì‹¤ì œë¡œ íŠ¹ì • íƒœìŠ¤í¬ì—ì„œëŠ” <strong>ë‹¤ë¥¸ ìµœì ì˜ ì¡°í•©ì´ ì¡´ì¬í•  ê°€ëŠ¥ì„±</strong>ì´ ë†’ìŒ.</li></ul></li></ol><p>âœ… <strong>í•˜ì§€ë§Œ ì „ë°˜ì ìœ¼ë¡œ DeepSeekMoEì˜ ì ‘ê·¼ë²•ì€ ë§¤ìš° ë›°ì–´ë‚˜ë©°, ê¸°ì¡´ Dense ëª¨ë¸ ëŒ€ë¹„ ì—°ì‚°ëŸ‰ì„ ëŒ€í­ ì¤„ì´ë©´ì„œë„ ë†’ì€ ì„±ëŠ¥ì„ ìœ ì§€í•œ ì ì—ì„œ ì‹¤ìš©ì„±ì´ í¬ë‹¤ê³  íŒë‹¨ë¨.</strong></p><h1 id=q--ì´-ë…¼ë¬¸ì—ì„œ-ì œì‹œëœ-ë°©ë²•ì„-ì‹¤ì œë¡œ-ì‚¬ìš©í•˜ë ¤ë©´-ê¸°ì¡´-ë°©ë²•ì—ì„œ-ì–´ë– í•œ-êµ¬í˜„ì´-ì¶”ê°€ì ìœ¼ë¡œ-í•„ìš”í•˜ê³ -ì´ëŸ¬í•œ-êµ¬í˜„ì—-ì†Œëª¨ë˜ëŠ”-ê³µìˆ˜-ë°-ì—°ì‚°ì—-í•„ìš”í•œ-ì»´í“¨íŒ…-ìì›ì˜-í¬ê¸°ì—-ëŒ€í•´ì„œ-ê³„ì‚°í•´ì¤„-ìˆ˜-ìˆê² ë‹ˆ>Q : ì´ ë…¼ë¬¸ì—ì„œ ì œì‹œëœ ë°©ë²•ì„ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ë ¤ë©´ ê¸°ì¡´ ë°©ë²•ì—ì„œ ì–´ë– í•œ êµ¬í˜„ì´ ì¶”ê°€ì ìœ¼ë¡œ í•„ìš”í•˜ê³  ì´ëŸ¬í•œ êµ¬í˜„ì— ì†Œëª¨ë˜ëŠ” ê³µìˆ˜ ë° ì—°ì‚°ì— í•„ìš”í•œ ì»´í“¨íŒ… ìì›ì˜ í¬ê¸°ì— ëŒ€í•´ì„œ ê³„ì‚°í•´ì¤„ ìˆ˜ ìˆê² ë‹ˆ?</h1><h2 id=deepseekmoeë¥¼-ì‹¤ì œë¡œ-êµ¬í˜„í•˜ê¸°-ìœ„í•œ-ì¶”ê°€-ìš”êµ¬ì‚¬í•­-ë°-ìì›-ë¶„ì„><strong>DeepSeekMoEë¥¼ ì‹¤ì œë¡œ êµ¬í˜„í•˜ê¸° ìœ„í•œ ì¶”ê°€ ìš”êµ¬ì‚¬í•­ ë° ìì› ë¶„ì„</strong></h2><p>DeepSeekMoEëŠ” ê¸°ì¡´ Transformer ê¸°ë°˜ MoE ëª¨ë¸ë³´ë‹¤ <strong>ë” ì„¸ë°€í•œ ì „ë¬¸ê°€ ì¡°í•©ì„ í™œì„±í™”í•˜ê³ , ê³µìœ  ì „ë¬¸ê°€ë¥¼ ë„ì…</strong>í•˜ëŠ” ê²ƒì´ í•µì‹¬ ì°¨ë³„ì ì„.<br>ì´ë¥¼ ì‹¤ì œ êµ¬í˜„í•˜ë ¤ë©´ ê¸°ì¡´ GShard ë˜ëŠ” Switch Transformer ê¸°ë°˜ MoE ëª¨ë¸ ëŒ€ë¹„ ëª‡ ê°€ì§€ ì¶”ê°€ì ì¸ êµ¬í˜„ì´ í•„ìš”í•˜ë©°,<br>ì´ëŸ¬í•œ êµ¬í˜„ì— í•„ìš”í•œ <strong>ê³µìˆ˜ ë° ì»´í“¨íŒ… ìì›ì˜ ìš”êµ¬ëŸ‰</strong>ì„ ë¶„ì„í•˜ì—¬ ê³„ì‚°í•´ ë³´ê² ìŒ.</p><hr><h2 id=1-ê¸°ì¡´-ë°©ë²•-ëŒ€ë¹„-ì¶”ê°€ì ìœ¼ë¡œ-í•„ìš”í•œ-êµ¬í˜„-ìš”ì†Œ><strong>1. ê¸°ì¡´ ë°©ë²• ëŒ€ë¹„ ì¶”ê°€ì ìœ¼ë¡œ í•„ìš”í•œ êµ¬í˜„ ìš”ì†Œ</strong></h2><p>DeepSeekMoEë¥¼ ì‹¤ì œë¡œ ë„ì…í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì¶”ê°€ì ì¸ ìš”ì†Œê°€ í•„ìš”í•¨.</p><table><thead><tr><th>êµ¬í˜„ ìš”ì†Œ</th><th>ê¸°ì¡´ GShard MoE</th><th>DeepSeekMoE ì¶”ê°€ ìš”êµ¬ì‚¬í•­</th></tr></thead><tbody><tr><td><strong>ì „ë¬¸ê°€ êµ¬ì¡°</strong></td><td>ì „ë¬¸ê°€ 16ê°œ (í° ë‹¨ìœ„)</td><td>ì „ë¬¸ê°€ 64ê°œ (ì„¸ë¶„í™”)</td></tr><tr><td><strong>ë¼ìš°íŒ… ì•Œê³ ë¦¬ì¦˜</strong></td><td>í† í°ë‹¹ 2ê°œ ì „ë¬¸ê°€ ì„ íƒ</td><td>í† í°ë‹¹ 7ê°œ + ê³µìœ  ì „ë¬¸ê°€ 1ê°œ ì„ íƒ</td></tr><tr><td><strong>ì „ë¬¸ê°€ ê· í˜• ì†ì‹¤</strong></td><td>ì—†ìŒ</td><td>ì¶”ê°€ í•„ìš”</td></tr><tr><td><strong>ê³µìœ  ì „ë¬¸ê°€ ìœ ì§€</strong></td><td>ì—†ìŒ</td><td>í•­ìƒ í™œì„±í™”</td></tr><tr><td><strong>ì¥ì¹˜ ê°„ ë¶€í•˜ ê· í˜•</strong></td><td>ë‹¨ìˆœ ë¶„ë°°</td><td>ì¶”ê°€ Loss ì ìš©</td></tr></tbody></table><p>âœ… <strong>DeepSeekMoEëŠ” ê¸°ì¡´ GShard ëŒ€ë¹„ ì „ë¬¸ê°€ êµ¬ì¡°ê°€ ë”ìš± ì„¸ë¶„í™”ë˜ì—ˆê¸° ë•Œë¬¸ì—, ì „ë¬¸ê°€ ìˆ˜ê°€ 4ë°° ì¦ê°€í•˜ë©° ë¼ìš°íŒ… ë°©ì‹ì´ ë³µì¡í•´ì§.</strong><br>âœ… <strong>íŠ¹íˆ ì „ë¬¸ê°€ ê· í˜• ì†ì‹¤(Balance Loss)ê³¼ ê³µìœ  ì „ë¬¸ê°€ì˜ ìœ ì§€ê°€ ìƒˆë¡œìš´ ìš”ì†Œë¡œ ì¶”ê°€ë˜ì–´ì•¼ í•¨.</strong><br>âœ… <strong>ê¸°ì¡´ MoE ëª¨ë¸ ëŒ€ë¹„ ë¶€í•˜ ê· í˜•ì„ ë§ì¶”ê¸° ìœ„í•œ ì¶”ê°€ì ì¸ ì—°ì‚°ì´ í•„ìš”í•¨.</strong></p><hr><h2 id=2-ì¶”ê°€ì ì¸-êµ¬í˜„-ê³µìˆ˜-ë¶„ì„><strong>2. ì¶”ê°€ì ì¸ êµ¬í˜„ ê³µìˆ˜ ë¶„ì„</strong></h2><p>ì´ì œ DeepSeekMoEì˜ ì¶”ê°€ êµ¬í˜„ì— ëŒ€í•œ ê°œë°œ ê³µìˆ˜ë¥¼ ë¶„ì„í•´ ë³´ê² ìŒ.</p><table><thead><tr><th>êµ¬í˜„ ìš”ì†Œ</th><th>ì˜ˆìƒ ì¶”ê°€ êµ¬í˜„ ì‹œê°„</th><th>ë‚œì´ë„</th></tr></thead><tbody><tr><td><strong>ì „ë¬¸ê°€ ì„¸ë¶„í™” (Fine-Grained Expert Segmentation)</strong></td><td>3~4ì£¼</td><td>ì¤‘</td></tr><tr><td><strong>ë¼ìš°íŒ… ìµœì í™” (Routing Optimization)</strong></td><td>4~6ì£¼</td><td>ë†’ìŒ</td></tr><tr><td><strong>ì „ë¬¸ê°€ ê· í˜• ì†ì‹¤ ì¶”ê°€ (Balance Loss Implementation)</strong></td><td>2ì£¼</td><td>ì¤‘</td></tr><tr><td><strong>ê³µìœ  ì „ë¬¸ê°€ ìœ ì§€ (Shared Expert Isolation)</strong></td><td>3ì£¼</td><td>ë†’ìŒ</td></tr><tr><td><strong>ì¥ì¹˜ ê°„ ë¶€í•˜ ê· í˜• (Device Load Balance Optimization)</strong></td><td>4~6ì£¼</td><td>ë†’ìŒ</td></tr><tr><td><strong>ë³‘ë ¬ ì²˜ë¦¬ ìµœì í™” (Parallelization Optimization)</strong></td><td>6~8ì£¼</td><td>ë†’ìŒ</td></tr></tbody></table><p>ğŸ’¡ <strong>ì´ ì˜ˆìƒ ê°œë°œ ê³µìˆ˜: ì•½ 22<del>30ì£¼ (5</del>7ê°œì›”, 4~5ëª…ì˜ ì—”ì§€ë‹ˆì–´ê°€ ë³‘ë ¬ ê°œë°œ ì‹œ 3ê°œì›” ë‚´ì™¸)</strong><br>ğŸ’¡ <strong>ê°€ì¥ ì–´ë ¤ìš´ ë¶€ë¶„ì€ &ldquo;ë¼ìš°íŒ… ìµœì í™”&rdquo; ë° &ldquo;ì¥ì¹˜ ê°„ ë¶€í•˜ ê· í˜•"ì„ ë§ì¶”ëŠ” ê²ƒì´ë©°, ê¸°ì¡´ GShard ëŒ€ë¹„ ë” ë†’ì€ ë¶€í•˜ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë³‘ë ¬ ìµœì í™”ê°€ í•„ìˆ˜ì ì„.</strong></p><hr><h2 id=3-ì¶”ê°€-ì—°ì‚°ëŸ‰-ë°-gpu-ìì›-ë¶„ì„><strong>3. ì¶”ê°€ ì—°ì‚°ëŸ‰ ë° GPU ìì› ë¶„ì„</strong></h2><p>DeepSeekMoEëŠ” <strong>ë” ë§ì€ ì „ë¬¸ê°€ë¥¼ í™œìš©</strong>í•˜ê¸° ë•Œë¬¸ì— <strong>ì¶”ê°€ì ì¸ ì—°ì‚°ëŸ‰ì´ í•„ìš”</strong>í•˜ë©°,<br>íŠ¹íˆ <strong>ë¼ìš°íŒ…(ì „ë¬¸ê°€ ì„ íƒ) ë° ì „ë¬¸ê°€ ê· í˜• ì†ì‹¤(Balance Loss) ê³„ì‚°</strong>ì´ ì—°ì‚°ëŸ‰ ì¦ê°€ì˜ í•µì‹¬ ìš”ì†Œì„.</p><h3 id=-ì—°ì‚°ëŸ‰-ë¹„êµ-flops-ê¸°ì¤€><strong>ğŸ“Œ ì—°ì‚°ëŸ‰ ë¹„êµ (FLOPs ê¸°ì¤€)</strong></h3><table><thead><tr><th>ëª¨ë¸</th><th>ì´ íŒŒë¼ë¯¸í„° ìˆ˜</th><th>í™œì„±í™”ëœ íŒŒë¼ë¯¸í„° ìˆ˜</th><th>FLOPs (4K í† í°ë‹¹)</th></tr></thead><tbody><tr><td><strong>LLaMA2 7B</strong></td><td>6.7B</td><td>6.7B</td><td>187.9T</td></tr><tr><td><strong>DeepSeek 7B (Dense)</strong></td><td>6.9B</td><td>6.9B</td><td>183.5T</td></tr><tr><td><strong>GShard 16B</strong></td><td>16B</td><td>4B</td><td>105T</td></tr><tr><td><strong>DeepSeekMoE 16B</strong></td><td>16.4B</td><td>2.8B</td><td><strong>74.4T (â†“60%)</strong></td></tr><tr><td><strong>DeepSeekMoE 145B</strong></td><td>144.6B</td><td>22.2B</td><td><strong>585.6T (â†“71%)</strong></td></tr></tbody></table><p>âœ… <strong>DeepSeekMoE 16BëŠ” LLaMA2 7B ëŒ€ë¹„ 60% ë‚®ì€ ì—°ì‚°ëŸ‰ìœ¼ë¡œ ë™ì¼í•œ ì„±ëŠ¥ì„ ë‹¬ì„±í•¨.</strong><br>âœ… <strong>DeepSeekMoE 145BëŠ” 67B Dense ëª¨ë¸ê³¼ ìœ ì‚¬í•œ ì„±ëŠ¥ì„ ë³´ì´ë©´ì„œë„ ì—°ì‚°ëŸ‰ì´ 28.5%ë¡œ ì ˆê°ë¨.</strong><br>âœ… <strong>ì¦‰, ê¸°ì¡´ MoE ëŒ€ë¹„ ì „ë¬¸ê°€ ì„ íƒ ë°©ì‹ì´ íš¨ìœ¨ì ìœ¼ë¡œ ë³€ê²½ë˜ë©´ì„œ, ì—°ì‚°ëŸ‰ ì ˆê°ì´ ê°€ëŠ¥í–ˆìŒ.</strong></p><hr><h3 id=-ì‹¤ì œ-í•™ìŠµì—-í•„ìš”í•œ-gpu-ìì›-ê³„ì‚°><strong>ğŸ“Œ ì‹¤ì œ í•™ìŠµì— í•„ìš”í•œ GPU ìì› ê³„ì‚°</strong></h3><p>ì´ì œ DeepSeekMoEë¥¼ í•™ìŠµí•˜ëŠ” ë° í•„ìš”í•œ <strong>GPU ìì›ì„ ê³„ì‚°</strong>í•´ ë³´ê² ìŒ.</p><h4 id=1-16b-ëª¨ë¸-ê¸°ì¤€-í›ˆë ¨-ë°ì´í„°-2t-í† í°><strong>(1) 16B ëª¨ë¸ ê¸°ì¤€ (í›ˆë ¨ ë°ì´í„°: 2T í† í°)</strong></h4><ul><li>ë°°ì¹˜ í¬ê¸°: 4.5K ì‹œí€€ìŠ¤ (ìµœëŒ€ ì‹œí€€ìŠ¤ ê¸¸ì´ 4K)</li><li>1 step ë‹¹ ì—°ì‚°ëŸ‰: 74.4T FLOPs</li><li>ì´ í•™ìŠµ ìŠ¤í…: 106,449 steps</li><li>í•„ìš” FLOPs: <strong>74.4T Ã— 106,449 = 7.92 Ã— 10Â¹â¸ FLOPs</strong></li></ul><p>âœ… <strong>A100 GPU (312 TFLOPs) ê¸°ì¤€ â†’ 7.92 Ã— 10Â¹â¸ FLOPs / 312 Ã— 10Â¹Â² FLOPs/s â‰ˆ 25,384 GPU ì‹œê°„</strong><br>âœ… <strong>H800 GPU (1000 TFLOPs) ê¸°ì¤€ â†’ 7.92 Ã— 10Â¹â¸ FLOPs / 1000 Ã— 10Â¹Â² FLOPs/s â‰ˆ 7,920 GPU ì‹œê°„</strong><br>âœ… <strong>ë§Œì•½ 256ê°œ A100 GPUë¥¼ ì‚¬ìš©í•˜ë©´ ì•½ 99ì‹œê°„ (4.1ì¼) ì†Œìš”ë¨.</strong></p><h4 id=2-145b-ëª¨ë¸-ê¸°ì¤€-í›ˆë ¨-ë°ì´í„°-245b-í† í°><strong>(2) 145B ëª¨ë¸ ê¸°ì¤€ (í›ˆë ¨ ë°ì´í„°: 245B í† í°)</strong></h4><ul><li>ë°°ì¹˜ í¬ê¸°: 4.5K ì‹œí€€ìŠ¤ (ìµœëŒ€ ì‹œí€€ìŠ¤ ê¸¸ì´ 4K)</li><li>1 step ë‹¹ ì—°ì‚°ëŸ‰: 585.6T FLOPs</li><li>ì´ í•™ìŠµ ìŠ¤í…: 13,000 steps</li><li>í•„ìš” FLOPs: <strong>585.6T Ã— 13,000 = 7.62 Ã— 10Â¹â¸ FLOPs</strong></li></ul><p>âœ… <strong>A100 GPU ê¸°ì¤€ â†’ ì•½ 24,423 GPU ì‹œê°„</strong><br>âœ… <strong>H800 GPU ê¸°ì¤€ â†’ ì•½ 7,620 GPU ì‹œê°„</strong><br>âœ… <strong>256ê°œ A100 GPU ê¸°ì¤€ â†’ ì•½ 95ì‹œê°„ (4ì¼) ì†Œìš”ë¨.</strong></p><hr><h2 id=4-ìµœì¢…-ê²°ë¡ -deepseekmoe-êµ¬í˜„-ë°-ì—°ì‚°ëŸ‰-í‰ê°€><strong>4. ìµœì¢… ê²°ë¡ : DeepSeekMoE êµ¬í˜„ ë° ì—°ì‚°ëŸ‰ í‰ê°€</strong></h2><p>DeepSeekMoEë¥¼ ê¸°ì¡´ ëª¨ë¸ì—ì„œ êµ¬í˜„í•˜ë ¤ë©´ ë‹¤ìŒì´ ì¶”ê°€ë˜ì–´ì•¼ í•¨.</p><h3 id=-ì¶”ê°€-êµ¬í˜„-í•„ìš”-ìš”ì†Œ><strong>ğŸ“Œ ì¶”ê°€ êµ¬í˜„ í•„ìš” ìš”ì†Œ</strong></h3><ol><li><strong>Fine-Grained Expert Segmentation (ì „ë¬¸ê°€ ì„¸ë¶„í™”)</strong></li><li><strong>Shared Expert Isolation (ê³µìœ  ì „ë¬¸ê°€ ìœ ì§€)</strong></li><li><strong>Balance Loss ì ìš© (ì „ë¬¸ê°€ ë¶ˆê· í˜• í•´ê²°)</strong></li><li><strong>ì¥ì¹˜ ê°„ ë¶€í•˜ ê· í˜• ìµœì í™” (ë©€í‹° GPU ë¶„ì‚° í•™ìŠµ í•„ìš”)</strong></li></ol><p>ğŸ’¡ <strong>ê°œë°œ ê³µìˆ˜:</strong> ì•½ <strong>22~30ì£¼</strong> (5<del>7ê°œì›”)<br>ğŸ’¡ <strong>ì¶”ê°€ ì—°ì‚°ëŸ‰:</strong> ê¸°ì¡´ MoE ëª¨ë¸ ëŒ€ë¹„ <strong>ë¼ìš°íŒ… ìµœì í™”ë¡œ ì—°ì‚°ëŸ‰ ê°ì†Œ íš¨ê³¼</strong> ìˆìŒ.<br>ğŸ’¡ <strong>í•™ìŠµ ë¹„ìš©:</strong> A100 GPU 256ê°œ ì‚¬ìš© ì‹œ **ì•½ 4</del>5ì¼ í•™ìŠµ ê°€ëŠ¥**.</p><h3 id=-deepseekmoeì˜-ê°€ì¥-í°-ì¥ì ><strong>ğŸ“Œ DeepSeekMoEì˜ ê°€ì¥ í° ì¥ì </strong></h3><p>âœ… <strong>GShard ëŒ€ë¹„ ê³„ì‚°ëŸ‰ì„ 40~71% ì¤„ì¼ ìˆ˜ ìˆìŒ.</strong><br>âœ… <strong>Dense ëª¨ë¸ ëŒ€ë¹„ 2~3ë°° ì‘ì€ í™œì„±í™” íŒŒë¼ë¯¸í„°ë¡œ ë¹„ìŠ·í•œ ì„±ëŠ¥ ìœ ì§€ ê°€ëŠ¥.</strong><br>âœ… <strong>ë‹¨ì¼ 40GB GPUì—ì„œë„ ë°°í¬ ê°€ëŠ¥í•˜ë„ë¡ ìµœì í™” ê°€ëŠ¥.</strong></p><p>âœ… <strong>ê²°ë¡ ì ìœ¼ë¡œ, DeepSeekMoEëŠ” ì—°ì‚° íš¨ìœ¨ì„±ì´ ë›°ì–´ë‚˜ë©°, ëŒ€ê·œëª¨ ëª¨ë¸ì„ í•™ìŠµí•˜ëŠ” ë° ê¸°ì¡´ ë°©ë²•ë³´ë‹¤ í›¨ì”¬ ì ì€ ë¹„ìš©ìœ¼ë¡œ íš¨ê³¼ì ì¸ ê²°ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆìŒ.</strong></p><h1 id=q--ì´-ë…¼ë¬¸ì˜-ì…ë ¥ë°ì´í„°ì™€-ì¶”ë¡ -ê³¼ì •ì—-ëŒ€í•´ì„œ-ì˜ˆì‹œë¥¼-ë“¤ì–´-ì•„ì£¼-ìì„¸í•˜ê²Œ-ì„¤ëª…í•´-ì£¼ê² ë‹ˆ-ì¶”ê°€ì ìœ¼ë¡œ-ëª¨ë¸ì•„í‚¤í…ì²˜ì˜-êµ¬ì„±-ë°-ëª¨ë¸ì„-êµ¬ì„±í•˜ëŠ”-ì—°ì‚°ê³¼-ë©”ëª¨ë¦¬-ìš”êµ¬ëŸ‰-ì»´í“¨íŒ…-ìš”êµ¬ëŸ‰-ëŒ€í•´ì„œë„-ì„¤ëª…í•´ì¤˜>Q : ì´ ë…¼ë¬¸ì˜ ì…ë ¥ë°ì´í„°ì™€ ì¶”ë¡  ê³¼ì •ì— ëŒ€í•´ì„œ ì˜ˆì‹œë¥¼ ë“¤ì–´ ì•„ì£¼ ìì„¸í•˜ê²Œ ì„¤ëª…í•´ ì£¼ê² ë‹ˆ? ì¶”ê°€ì ìœ¼ë¡œ ëª¨ë¸ì•„í‚¤í…ì²˜ì˜ êµ¬ì„± ë° ëª¨ë¸ì„ êµ¬ì„±í•˜ëŠ” ì—°ì‚°ê³¼ ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ ì»´í“¨íŒ… ìš”êµ¬ëŸ‰ ëŒ€í•´ì„œë„ ì„¤ëª…í•´ì¤˜</h1><h1 id=deepseekmoeì˜-ì…ë ¥-ë°ì´í„°-ë°-ì¶”ë¡ -ê³¼ì •-ë¶„ì„><strong>DeepSeekMoEì˜ ì…ë ¥ ë°ì´í„° ë° ì¶”ë¡  ê³¼ì • ë¶„ì„</strong></h1><p>DeepSeekMoEì˜ ë™ì‘ ì›ë¦¬ë¥¼ ëª…í™•íˆ ì´í•´í•˜ê¸° ìœ„í•´, <strong>ì…ë ¥ ë°ì´í„° ì²˜ë¦¬, ì¶”ë¡  ê³¼ì •, ëª¨ë¸ ì•„í‚¤í…ì²˜, ê·¸ë¦¬ê³  ì—°ì‚° ë° ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰</strong>ê¹Œì§€ ìì„¸íˆ ë¶„ì„í•˜ê² ìŒ.</p><hr><h2 id=1-deepseekmoeì˜-ì…ë ¥-ë°ì´í„°-ì²˜ë¦¬-ê³¼ì •><strong>1. DeepSeekMoEì˜ ì…ë ¥ ë°ì´í„° ì²˜ë¦¬ ê³¼ì •</strong></h2><p>DeepSeekMoEëŠ” <strong>ê¸°ì¡´ Transformer ê¸°ë°˜ MoE ëª¨ë¸</strong>ê³¼ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ì…ë ¥ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ì§€ë§Œ,<br>í† í°ì´ ì „ë¬¸ê°€(Experts)ì—ê²Œ ë¶„ë°°ë˜ëŠ” ê³¼ì •ì—ì„œ ëª‡ ê°€ì§€ ì¤‘ìš”í•œ ì°¨ì´ì ì´ ì¡´ì¬í•¨.</p><h3 id=-11-ì…ë ¥-ë°ì´í„°-ì˜ˆì œ><strong>ğŸ“Œ 1.1 ì…ë ¥ ë°ì´í„° ì˜ˆì œ</strong></h3><p>ğŸ’¡ <strong>ì˜ˆì œ ë¬¸ì¥:</strong></p><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p>&ldquo;The Eiffel Tower is located in Paris, France.&rdquo;</p></div></blockquote><p>ğŸ’¡ <strong>í† í°í™”(Tokenization) ê³¼ì •:</strong><br>DeepSeekMoEëŠ” BPE(Byte Pair Encoding) ê¸°ë°˜ <strong>100K ë‹¨ì–´ ì‚¬ì „</strong>ì„ ì‚¬ìš©í•˜ì—¬ í† í°í™”í•¨.</p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-1 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-1 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-1><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>[&#34;The&#34;, &#34;Eiffel&#34;, &#34;Tower&#34;, &#34;is&#34;, &#34;located&#34;, &#34;in&#34;, &#34;Paris&#34;, &#34;,&#34;, &#34;France&#34;, &#34;.&#34;]</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-1",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><hr><h2 id=2-deepseekmoeì˜-ì¶”ë¡ -ê³¼ì •><strong>2. DeepSeekMoEì˜ ì¶”ë¡  ê³¼ì •</strong></h2><p>ì…ë ¥ ë¬¸ì¥ì´ ë“¤ì–´ì˜¤ë©´, DeepSeekMoEëŠ” <strong>ì „ë¬¸ê°€ë¥¼ ì„ íƒí•˜ì—¬ ì—°ì‚°ì„ ìˆ˜í–‰í•œ í›„ ìµœì¢… ì¶œë ¥ì„ ìƒì„±</strong>í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•¨.<br>ì´ì œ <strong>í† í°ì´ ì „ë¬¸ê°€ë¥¼ ì„ íƒí•˜ê³  ê³„ì‚°ë˜ëŠ” ê³¼ì •</strong>ì„ í•˜ë‚˜ì”© ìì„¸íˆ ì„¤ëª…í•˜ê² ìŒ.</p><hr><h3 id=-21-ë¼ìš°íŒ…-routing---ì „ë¬¸ê°€-ì„ íƒ-ê³¼ì •><strong>ğŸ“Œ 2.1. ë¼ìš°íŒ… (Routing) - ì „ë¬¸ê°€ ì„ íƒ ê³¼ì •</strong></h3><p>DeepSeekMoEëŠ” ê¸°ì¡´ MoE ëª¨ë¸ê³¼ ë‹¬ë¦¬ <strong>Fine-Grained Expert Segmentation</strong> ë° <strong>Shared Expert Isolation</strong>ì„ ì ìš©í•˜ì—¬ <strong>ê° í† í°ì´ ë” ì„¸ë°€í•œ ì „ë¬¸ê°€ ì¡°í•©ì„ ì„ íƒí•˜ë„ë¡ ìµœì í™”ë¨.</strong></p><ol><li><p><strong>ê° í† í°ì´ ë¼ìš°í„°(Router)ì— ì˜í•´ ì „ë¬¸ê°€ì—ê²Œ ë°°ì •ë¨</strong></p><ul><li>ê¸°ì¡´ GShard MoE: <strong>16ê°œ ì „ë¬¸ê°€ ì¤‘ 2ê°œ í™œì„±í™”</strong></li><li><strong>DeepSeekMoE:</strong> <strong>64ê°œ ì „ë¬¸ê°€ ì¤‘ 7ê°œ + ê³µìœ  ì „ë¬¸ê°€ 1ê°œ í™œì„±í™”</strong></li></ul></li><li><p><strong>ë¼ìš°íŒ… ì˜ˆì‹œ</strong></p><ul><li>&ldquo;Eiffel&rdquo; â†’ <strong>Expert 2, 14, 23, 31, 40, 51, 62 + Shared</strong></li><li>&ldquo;Paris&rdquo; â†’ <strong>Expert 6, 15, 25, 33, 48, 53, 61 + Shared</strong></li><li>&ldquo;France&rdquo; â†’ <strong>Expert 3, 9, 22, 30, 41, 52, 60 + Shared</strong></li></ul></li></ol><p>âœ… <strong>ê° í† í°ì´ ë” ë§ì€ ì „ë¬¸ê°€ë¥¼ í™œìš©í•  ìˆ˜ ìˆì–´, ë³´ë‹¤ ì •í™•í•œ í•™ìŠµì´ ê°€ëŠ¥í•¨.</strong><br>âœ… <strong>ê³µìœ  ì „ë¬¸ê°€(Shared Expert)ëŠ” ê³µí†µ ì§€ì‹ì„ ì €ì¥í•˜ì—¬ ì¤‘ë³µ ê³„ì‚°ì„ ì¤„ì—¬ì¤Œ.</strong></p><hr><h3 id=-22-í™œì„±í™”ëœ-ì „ë¬¸ê°€ì—ì„œ-ì—°ì‚°-ìˆ˜í–‰><strong>ğŸ“Œ 2.2. í™œì„±í™”ëœ ì „ë¬¸ê°€ì—ì„œ ì—°ì‚° ìˆ˜í–‰</strong></h3><p>ê° í† í°ì€ **ì„ íƒëœ ì „ë¬¸ê°€ì—ì„œ ê³„ì‚°(Feed-Forward ì—°ì‚°)**ì„ ìˆ˜í–‰í•¨.</p><p>ğŸ’¡ <strong>ê¸°ì¡´ MoE ëª¨ë¸ (GShard)ê³¼ ë¹„êµ</strong></p><table><thead><tr><th></th><th>ê¸°ì¡´ GShard</th><th>DeepSeekMoE</th></tr></thead><tbody><tr><td><strong>í™œì„±í™”ëœ ì „ë¬¸ê°€ ê°œìˆ˜</strong></td><td>2ê°œ</td><td>7ê°œ + ê³µìœ  ì „ë¬¸ê°€ 1ê°œ</td></tr><tr><td><strong>ì „ë¬¸ê°€ë³„ FFN í¬ê¸°</strong></td><td>í¬ë‹¤</td><td>ì‘ë‹¤ (64ê°œë¡œ ìª¼ê°œì§)</td></tr><tr><td><strong>ì—°ì‚°ëŸ‰</strong></td><td>í¬ë‹¤ (ë§ì€ ì¤‘ë³µ)</td><td>ì ë‹¤ (ì„¸ë°€í•œ ì¡°í•©)</td></tr></tbody></table><p>âœ… <strong>DeepSeekMoEëŠ” ì „ë¬¸ê°€ë¥¼ ë” ì‘ê²Œ ìª¼ê°œê³  ë” ë§ì€ ì „ë¬¸ê°€ë¥¼ í™œì„±í™”í•˜ì—¬ ë³´ë‹¤ ì •êµí•œ ì—°ì‚°ì„ ìˆ˜í–‰.</strong></p><hr><h3 id=-23-ì „ë¬¸ê°€ì˜-ì¶œë ¥-ê²°í•©-weighted-sum><strong>ğŸ“Œ 2.3. ì „ë¬¸ê°€ì˜ ì¶œë ¥ ê²°í•© (Weighted Sum)</strong></h3><p>ê° ì „ë¬¸ê°€ì—ì„œ ë‚˜ì˜¨ ì¶œë ¥ ê°’ì„ <strong>ê°€ì¤‘ í‰ê· (Weighted Sum)ìœ¼ë¡œ ì¡°í•©</strong>í•˜ì—¬ ìµœì¢… ì¶œë ¥ì„ ë§Œë“¦.</p><ol><li><p><strong>ê° ì „ë¬¸ê°€ì˜ ì¶œë ¥ ê³„ì‚°</strong></p><ul><li>Expert 2 â†’ 0.12 ê°€ì¤‘ì¹˜</li><li>Expert 14 â†’ 0.18 ê°€ì¤‘ì¹˜</li><li>Expert 23 â†’ 0.15 ê°€ì¤‘ì¹˜</li><li>â€¦</li><li>Shared Expert â†’ 0.20 ê°€ì¤‘ì¹˜</li></ul></li><li><p><strong>ì¶œë ¥ ê²°í•© ê³µì‹</strong>
[
h_{\text{output}} = \sum_{i \in \text{Selected Experts}} \text{Weight}_i \times \text{Expert Output}_i
]</p></li></ol><p>âœ… <strong>ìµœì ì˜ ì¡°í•©ì„ ë§Œë“¤ì–´ì„œ ë”ìš± ì •í™•í•œ ì •ë³´ë¥¼ ìƒì„± ê°€ëŠ¥.</strong></p><hr><h2 id=3-ëª¨ë¸-ì•„í‚¤í…ì²˜-ë°-ì—°ì‚°-ìš”êµ¬ëŸ‰><strong>3. ëª¨ë¸ ì•„í‚¤í…ì²˜ ë° ì—°ì‚° ìš”êµ¬ëŸ‰</strong></h2><p>DeepSeekMoEëŠ” ê¸°ì¡´ MoE ëª¨ë¸ê³¼ ìœ ì‚¬í•œ Transformer ê¸°ë°˜ ì•„í‚¤í…ì²˜ì´ì§€ë§Œ,<br>ë‹¤ìŒê³¼ ê°™ì€ ì°¨ë³„ì ì´ ìˆìŒ.</p><h3 id=-31-ëª¨ë¸-ì•„í‚¤í…ì²˜-ê°œìš”><strong>ğŸ“Œ 3.1. ëª¨ë¸ ì•„í‚¤í…ì²˜ ê°œìš”</strong></h3><p>DeepSeekMoEëŠ” ê¸°ì¡´ Transformerì˜ FFN(Feed-Forward Network)ì„ <strong>Mixture-of-Experts (MoE) ë ˆì´ì–´ë¡œ ëŒ€ì²´</strong>í•˜ì—¬ ê³„ì‚°ëŸ‰ì„ ì¤„ì„.</p><h4 id=1-ê¸°ì¡´-transformer-ì•„í‚¤í…ì²˜><strong>(1) ê¸°ì¡´ Transformer ì•„í‚¤í…ì²˜</strong></h4><ul><li><strong>Multi-Head Attention (MHA)</strong></li><li><strong>Feed-Forward Network (FFN)</strong></li><li><strong>Layer Normalization</strong></li></ul><h4 id=2-deepseekmoe-ì•„í‚¤í…ì²˜><strong>(2) DeepSeekMoE ì•„í‚¤í…ì²˜</strong></h4><ul><li><strong>Multi-Head Attention (MHA)</strong></li><li><strong>Mixture-of-Experts (MoE) ë ˆì´ì–´</strong><ul><li>Fine-Grained Expert Segmentation</li><li>Shared Expert Isolation</li></ul></li><li><strong>Layer Normalization</strong></li><li><strong>Balance Loss ì¶”ê°€ (ì „ë¬¸ê°€ ê°„ ë¶€í•˜ ê· í˜• ìœ ì§€)</strong></li></ul><p>âœ… <strong>MoE ë ˆì´ì–´ë¥¼ í™œìš©í•˜ì—¬ ì—°ì‚°ëŸ‰ì„ ì¤„ì´ë©´ì„œë„ ì„±ëŠ¥ì„ ìœ ì§€í•˜ëŠ” ê²ƒì´ í•µì‹¬ ì°¨ë³„ì .</strong></p><hr><h3 id=-32-ì—°ì‚°ëŸ‰-ë¶„ì„-flops><strong>ğŸ“Œ 3.2. ì—°ì‚°ëŸ‰ ë¶„ì„ (FLOPs)</strong></h3><p>DeepSeekMoEëŠ” ê¸°ì¡´ Dense Transformerì™€ MoE ëª¨ë¸ ëŒ€ë¹„ ì—°ì‚°ëŸ‰ì´ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ ë¶„ì„í•´ ë³´ê² ìŒ.</p><table><thead><tr><th>ëª¨ë¸</th><th>ì´ íŒŒë¼ë¯¸í„° ìˆ˜</th><th>í™œì„±í™”ëœ íŒŒë¼ë¯¸í„° ìˆ˜</th><th>FLOPs (4K í† í°ë‹¹)</th></tr></thead><tbody><tr><td><strong>LLaMA2 7B</strong></td><td>6.7B</td><td>6.7B</td><td>187.9T</td></tr><tr><td><strong>DeepSeek 7B (Dense)</strong></td><td>6.9B</td><td>6.9B</td><td>183.5T</td></tr><tr><td><strong>GShard 16B</strong></td><td>16B</td><td>4B</td><td>105T</td></tr><tr><td><strong>DeepSeekMoE 16B</strong></td><td>16.4B</td><td>2.8B</td><td><strong>74.4T (â†“60%)</strong></td></tr><tr><td><strong>DeepSeekMoE 145B</strong></td><td>144.6B</td><td>22.2B</td><td><strong>585.6T (â†“71%)</strong></td></tr></tbody></table><p>âœ… <strong>Dense ëª¨ë¸ ëŒ€ë¹„ MoE ëª¨ë¸ì€ ì—°ì‚°ëŸ‰ì´ ì ì§€ë§Œ ì„±ëŠ¥ì€ ìœ ì§€ë¨.</strong><br>âœ… <strong>íŠ¹íˆ DeepSeekMoEëŠ” ê¸°ì¡´ MoE ëŒ€ë¹„ ë¼ìš°íŒ… ìµœì í™” ë•ë¶„ì— ì¶”ê°€ ì—°ì‚°ëŸ‰ ì¦ê°€ ì—†ì´ íš¨ìœ¨ì ì¸ ì—°ì‚°ì´ ê°€ëŠ¥í•¨.</strong></p><hr><h3 id=-33-ë©”ëª¨ë¦¬-ìš”êµ¬ëŸ‰-ë¶„ì„><strong>ğŸ“Œ 3.3. ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ ë¶„ì„</strong></h3><p>DeepSeekMoEëŠ” <strong>í™œì„±í™”ë˜ëŠ” ì „ë¬¸ê°€ ìˆ˜ê°€ ë§ê¸° ë•Œë¬¸ì—</strong> ê¸°ì¡´ MoEë³´ë‹¤ ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ì´ ì¦ê°€í•  ê°€ëŠ¥ì„±ì´ ìˆìŒ.</p><table><thead><tr><th>ëª¨ë¸</th><th>GPU ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ (40GB ê¸°ì¤€)</th></tr></thead><tbody><tr><td>LLaMA2 7B</td><td>40GB (1 GPU ê°€ëŠ¥)</td></tr><tr><td>DeepSeekMoE 16B</td><td>40GB (1 GPU ê°€ëŠ¥)</td></tr><tr><td>DeepSeekMoE 145B</td><td>8x 80GB A100 í•„ìš”</td></tr></tbody></table><p>âœ… <strong>DeepSeekMoE 16BëŠ” ë‹¨ì¼ 40GB GPUì—ì„œ ì‹¤í–‰ ê°€ëŠ¥.</strong><br>âœ… <strong>DeepSeekMoE 145BëŠ” A100 8ê°œ ì´ìƒì˜ GPUê°€ í•„ìš”í•¨.</strong></p><hr><h2 id=4-ìµœì¢…-ì •ë¦¬><strong>4. ìµœì¢… ì •ë¦¬</strong></h2><table><thead><tr><th>í•­ëª©</th><th>ê¸°ì¡´ MoE (GShard)</th><th>DeepSeekMoE</th></tr></thead><tbody><tr><td><strong>í™œì„±í™” ì „ë¬¸ê°€ ê°œìˆ˜</strong></td><td>2ê°œ</td><td>7ê°œ + ê³µìœ  1ê°œ</td></tr><tr><td><strong>ì—°ì‚°ëŸ‰</strong></td><td>ë†’ìŒ</td><td>40~71% ê°ì†Œ</td></tr><tr><td><strong>ì „ë¬¸ê°€ ê· í˜• ìœ ì§€</strong></td><td>ì—†ìŒ</td><td>Balance Loss ì¶”ê°€</td></tr><tr><td><strong>GPU ìš”êµ¬ëŸ‰</strong></td><td>A100 8ê°œ</td><td>ë™ì¼ ì„±ëŠ¥ ëŒ€ë¹„ ì ìŒ</td></tr><tr><td><strong>ì¶”ë¡  ì†ë„</strong></td><td>ëŠë¦¼</td><td>ë¹ ë¦„ (ìµœì í™”ëœ ë¼ìš°íŒ…)</td></tr></tbody></table><p>âœ… <strong>DeepSeekMoEëŠ” ë™ì¼í•œ ì„±ëŠ¥ì„ ìœ ì§€í•˜ë©´ì„œë„ ì—°ì‚°ëŸ‰ì„ í¬ê²Œ ì¤„ì˜€ìœ¼ë©°, ì¶”ë¡  ì†ë„ ë˜í•œ ê°œì„ ë¨.</strong></p><h1 id=q--ì´-ë…¼ë¬¸ì˜-í•œê³„ë¥¼-ê·¹ë³µí•˜ê¸°-ìœ„í•œ-ë°©ë²•ìœ¼ë¡œ-ì–´ë–¤-ì—°êµ¬íë¦„ì´-ìˆëŠ”ì§€-ì •ë¦¬í•´ì„œ-ìì„¸í•˜ê²Œ-ì„¤ëª…í•´-ì¤˜>Q : ì´ ë…¼ë¬¸ì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œ ì–´ë–¤ ì—°êµ¬íë¦„ì´ ìˆëŠ”ì§€ ì •ë¦¬í•´ì„œ ìì„¸í•˜ê²Œ ì„¤ëª…í•´ ì¤˜</h1><h2 id=deepseekmoeì˜-í•œê³„ë¥¼-ê·¹ë³µí•˜ê¸°-ìœ„í•œ-ì—°êµ¬-íë¦„-ì •ë¦¬><strong>DeepSeekMoEì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•œ ì—°êµ¬ íë¦„ ì •ë¦¬</strong></h2><p>DeepSeekMoEëŠ” <strong>ì „ë¬¸ê°€ ì„¸ë¶„í™”(Fine-Grained Expert Segmentation)</strong> ë° **ê³µìœ  ì „ë¬¸ê°€(Shared Expert Isolation)**ë¥¼ í†µí•´ ê¸°ì¡´ MoE ëª¨ë¸ë³´ë‹¤ ë” íš¨ìœ¨ì ì¸ ì „ë¬¸ê°€ í™œìš©ê³¼ ê³„ì‚°ëŸ‰ ê°ì†Œë¥¼ ë‹¬ì„±í–ˆìŒ.<br>ê·¸ëŸ¬ë‚˜ ë‹¤ìŒê³¼ ê°™ì€ ëª‡ ê°€ì§€ í•œê³„ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, ì´ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•œ ì—°êµ¬ íë¦„ì„ ë¶„ì„í•´ ë³´ê² ìŒ.</p><hr><h2 id=1-deepseekmoeì˜-ì£¼ìš”-í•œê³„ì ><strong>1. DeepSeekMoEì˜ ì£¼ìš” í•œê³„ì </strong></h2><h3 id=-1-fine-tuningë¯¸ì„¸ì¡°ì •-ì„±ëŠ¥-ì €í•˜-ë¬¸ì œ><strong>ğŸ“Œ (1) Fine-Tuning(ë¯¸ì„¸ì¡°ì •) ì„±ëŠ¥ ì €í•˜ ë¬¸ì œ</strong></h3><p><strong>ğŸ” ë¬¸ì œì :</strong></p><ul><li>ê¸°ì¡´ MoE ëª¨ë¸ë“¤ì€ **ì‚¬ì „ í•™ìŠµ(Pretraining)**ì—ì„œëŠ” ê°•ë ¥í•˜ì§€ë§Œ,<br><strong>ë¯¸ì„¸ ì¡°ì •(Instruction Tuning, Supervised Fine-Tuning, RLHF ë“±) ê³¼ì •ì—ì„œ ì„±ëŠ¥ ì €í•˜</strong>ê°€ ë°œìƒí•¨.</li><li>ì „ë¬¸ê°€ë“¤ì˜ ì„ íƒ(Routing)ì´ í•™ìŠµ ì¤‘ì— ë™ì ìœ¼ë¡œ ë³€í™”í•˜ì—¬ <strong>Overfitting í˜¹ì€ Underfitting ë¬¸ì œê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ë†’ìŒ.</strong></li></ul><p><strong>ğŸ”¬ í•´ê²° ì—°êµ¬ íë¦„:</strong></p><ol><li><p><strong>MoE ëª¨ë¸ì˜ Fine-Tuning ì•ˆì •í™” ì—°êµ¬</strong></p><ul><li><strong>StableMoE (Dai et al., 2022)</strong>: ì „ë¬¸ê°€ ì„ íƒì„ ë” ì¼ì •í•˜ê²Œ ìœ ì§€í•˜ëŠ” ë¼ìš°íŒ… ì•ˆì •í™” ê¸°ë²•ì„ ë„ì….</li><li><strong>Expert-Freezing (Rajbhandari et al., 2022)</strong>: íŠ¹ì • ì „ë¬¸ê°€ë¥¼ ê³ ì •í•˜ê³ , ì¼ë¶€ ì „ë¬¸ê°€ë§Œ ë¯¸ì„¸ ì¡°ì •í•˜ëŠ” ë°©ë²•ì„ í™œìš©.</li></ul></li><li><p><strong>LoRA & Adapter ê¸°ë°˜ MoE Fine-Tuning</strong></p><ul><li>ê¸°ì¡´ MoE ëª¨ë¸ì—ì„œ <strong>ì „ë¬¸ê°€ ì „ì²´ë¥¼ í•™ìŠµì‹œí‚¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, LoRA(ì ì‘í˜• ì €ì°¨ì› í•™ìŠµ)ë‚˜ Adapter Layers(ì ì‘í˜• ì¤‘ê°„ì¸µ)ë¥¼ í™œìš©í•˜ì—¬ ë¯¸ì„¸ ì¡°ì •ì„ ìˆ˜í–‰</strong>.</li><li>MoEì˜ ì¥ì ì„ ìœ ì§€í•˜ë©´ì„œë„ <strong>ì†ŒëŸ‰ì˜ íŒŒë¼ë¯¸í„°ë§Œ ì¡°ì •í•˜ì—¬ Overfittingì„ ë°©ì§€í•  ìˆ˜ ìˆìŒ.</strong></li></ul></li></ol><p>âœ… <strong>ì—°êµ¬ ë°©í–¥:</strong></p><ul><li><strong>ì „ë¬¸ê°€ ì„ íƒì„ ë” ì¼ì •í•˜ê²Œ ìœ ì§€í•˜ëŠ” ë°©ë²•</strong>ì´ í•„ìš”í•¨.</li><li><strong>LoRA/Adapter ê¸°ë°˜ Fine-Tuningì„ ê²°í•©í•˜ì—¬ ê²½ëŸ‰í™”ëœ ë¯¸ì„¸ ì¡°ì •ì´ ê°€ëŠ¥í•˜ë„ë¡ í•´ì•¼ í•¨.</strong></li></ul><hr><h3 id=-2-ì „ë¬¸ê°€-ì„ íƒrouting-íš¨ìœ¨ì„±-ë¬¸ì œ><strong>ğŸ“Œ (2) ì „ë¬¸ê°€ ì„ íƒ(Routing) íš¨ìœ¨ì„± ë¬¸ì œ</strong></h3><p><strong>ğŸ” ë¬¸ì œì :</strong></p><ul><li>í˜„ì¬ DeepSeekMoEëŠ” <strong>í† í°ë‹¹ 7ê°œ ì „ë¬¸ê°€ + ê³µìœ  ì „ë¬¸ê°€ 1ê°œë¥¼ í™œì„±í™”</strong>í•˜ëŠ” êµ¬ì¡°ë¥¼ ê°€ì§.</li><li>í•˜ì§€ë§Œ íŠ¹ì • íƒœìŠ¤í¬(ì˜ˆ: ë‹¨ìˆœ ë¬¸ë²• íƒœìŠ¤í¬)ì—ì„œëŠ” 7ê°œ ì „ë¬¸ê°€ë¥¼ ëª¨ë‘ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìŒ.</li><li>**ë™ì ì¸ ì „ë¬¸ê°€ ì„ íƒ(Dynamic Routing)**ì´ ë¶€ì¡±í•˜ì—¬ ë¹„íš¨ìœ¨ì ì¸ ì—°ì‚°ì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆìŒ.</li></ul><p><strong>ğŸ”¬ í•´ê²° ì—°êµ¬ íë¦„:</strong></p><ol><li><p><strong>Dynamic MoE Routing ê¸°ë²• ì—°êµ¬</strong></p><ul><li><strong>Expert-Choice MoE (Zhou et al., 2022)</strong>: í† í°ì´ ì „ë¬¸ê°€ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, <strong>ì „ë¬¸ê°€ê°€ ìì‹ ì´ ì²˜ë¦¬í•  í† í°ì„ ì„ íƒ</strong>í•˜ë„ë¡ ë³€ê²½.</li><li><strong>Load-Balanced Routing (Shazeer et al., 2017)</strong>: ì „ë¬¸ê°€ ê°„ì˜ ë¶ˆê· í˜• ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ìƒˆë¡œìš´ Routing Loss ì ìš©.</li></ul></li><li><p><strong>Hierarchical MoE êµ¬ì¡° ì ìš©</strong></p><ul><li>ì „ë¬¸ê°€ë¥¼ <strong>ê¸°ë³¸ ì „ë¬¸ê°€(Basic Experts)ì™€ ê³ ê¸‰ ì „ë¬¸ê°€(Advanced Experts)ë¡œ ë‚˜ëˆ„ì–´ ë‹¤ë‹¨ê³„ ì„ íƒ</strong>ì„ ìˆ˜í–‰.</li><li>ê¸°ë³¸ì ì¸ ë¬¸ë²• ì²˜ë¦¬ ë“± ë‹¨ìˆœí•œ ì‘ì—…ì€ ê¸°ë³¸ ì „ë¬¸ê°€ì—ì„œ ìˆ˜í–‰í•˜ê³ , ë³µì¡í•œ ë…¼ë¦¬ ì¶”ë¡ ì€ ê³ ê¸‰ ì „ë¬¸ê°€ì—ì„œ ìˆ˜í–‰í•˜ë„ë¡ ì„¤ê³„.</li></ul></li></ol><p>âœ… <strong>ì—°êµ¬ ë°©í–¥:</strong></p><ul><li><strong>ë™ì ì¸ ì „ë¬¸ê°€ ì„ íƒ(Dynamic Routing)ì„ ë„ì…í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì „ë¬¸ê°€ í™œì„±í™”ë¥¼ ì¤„ì´ëŠ” ë°©í–¥</strong>ìœ¼ë¡œ ì—°êµ¬ê°€ ì§„í–‰ë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ.</li></ul><hr><h3 id=-3-ì „ë¬¸ê°€-ê°„-í•™ìŠµ-ë¶ˆê· í˜•-ë¬¸ì œ><strong>ğŸ“Œ (3) ì „ë¬¸ê°€ ê°„ í•™ìŠµ ë¶ˆê· í˜• ë¬¸ì œ</strong></h3><p><strong>ğŸ” ë¬¸ì œì :</strong></p><ul><li>ì¼ë¶€ ì „ë¬¸ê°€ê°€ <strong>ì§€ë‚˜ì¹˜ê²Œ ë§ì€ ë°ì´í„°ë¥¼ ì²˜ë¦¬</strong>í•˜ê³ ,<br>ì¼ë¶€ ì „ë¬¸ê°€ë“¤ì€ **ì¶©ë¶„í•œ í•™ìŠµì´ ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ(Expert Load Imbalance)**ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ.</li><li>íŠ¹íˆ íŠ¹ì • íƒœìŠ¤í¬(ì˜ˆ: Named Entity Recognition)ì—ì„œëŠ” <strong>íŠ¹ì • ì „ë¬¸ê°€ë“¤ë§Œ ìì£¼ ì„ íƒë˜ëŠ” ë¬¸ì œ</strong>ê°€ ìˆìŒ.</li></ul><p><strong>ğŸ”¬ í•´ê²° ì—°êµ¬ íë¦„:</strong></p><ol><li><p><strong>Regularization ê¸°ë²• ì ìš©</strong></p><ul><li>ì „ë¬¸ê°€ ì„ íƒì´ íŠ¹ì • ì „ë¬¸ê°€ì— ê³¼í•˜ê²Œ ëª°ë¦¬ëŠ” í˜„ìƒì„ ë§‰ê¸° ìœ„í•´ <strong>Regularization Loss</strong>ë¥¼ ì¶”ê°€ ì ìš©.</li><li>ì˜ˆ: <strong>MoE Sparsity Regularization (Roller et al., 2021)</strong> â†’ ì „ë¬¸ê°€ë“¤ì´ ê· ë“±í•˜ê²Œ ì„ íƒë˜ë„ë¡ ì†ì‹¤ í•¨ìˆ˜ë¥¼ ì¡°ì •.</li></ul></li><li><p><strong>Adaptive Expert Balancing</strong></p><ul><li>ì¼ì • ì‹œê°„ì´ ì§€ë‚˜ë©´ <strong>ì˜ í™œìš©ë˜ì§€ ì•ŠëŠ” ì „ë¬¸ê°€ë¥¼ ê°•ì œì ìœ¼ë¡œ ì—…ë°ì´íŠ¸</strong>í•˜ëŠ” í•™ìŠµ ì „ëµ ë„ì….</li><li>Gating Networkë¥¼ í™œìš©í•˜ì—¬ <strong>ì „ë¬¸ê°€ì˜ ê°€ì¤‘ì¹˜ë¥¼ ì¡°ì •</strong>í•˜ê³ , ë¶ˆê· í˜•ì´ ì‹¬í•´ì§€ë©´ <strong>Routing Strategyë¥¼ ë™ì ìœ¼ë¡œ ë³€ê²½</strong>.</li></ul></li></ol><p>âœ… <strong>ì—°êµ¬ ë°©í–¥:</strong></p><ul><li>ì „ë¬¸ê°€ ê°„ ê· í˜•ì„ ìœ ì§€í•˜ëŠ” ìƒˆë¡œìš´ Regularization ê¸°ë²• ê°œë°œ.</li><li>ì „ë¬¸ê°€ë¥¼ í•™ìŠµ ì¤‘ì— ì ì ˆí•˜ê²Œ ì¡°ì •í•˜ëŠ” Adaptive MoE êµ¬ì¡° ì—°êµ¬.</li></ul><hr><h3 id=-4-ëª¨ë¸ì˜-í™•ì¥ì„±scalability-ë°-ë©”ëª¨ë¦¬-ì‚¬ìš©-ë¬¸ì œ><strong>ğŸ“Œ (4) ëª¨ë¸ì˜ í™•ì¥ì„±(Scalability) ë° ë©”ëª¨ë¦¬ ì‚¬ìš© ë¬¸ì œ</strong></h3><p><strong>ğŸ” ë¬¸ì œì :</strong></p><ul><li>DeepSeekMoE 145B ëª¨ë¸ì„ í•™ìŠµí•˜ë ¤ë©´ <strong>ìµœì†Œ 8ê°œ ì´ìƒì˜ 80GB A100 GPUê°€ í•„ìš”</strong>í•˜ë©°,<br>GPT-4 ë“±ì˜ ì´ˆê±°ëŒ€ ëª¨ë¸ì„ êµ¬ì¶•í•˜ë ¤ë©´ ë”ìš± ë§ì€ ë©”ëª¨ë¦¬ê°€ í•„ìš”í•¨.</li><li>MoE ëª¨ë¸ì€ íŒŒë¼ë¯¸í„° ìˆ˜ëŠ” ë§ì§€ë§Œ, <strong>í™œì„±í™”ë˜ëŠ” íŒŒë¼ë¯¸í„° ìˆ˜ê°€ ì ì–´ ë©”ëª¨ë¦¬ í• ë‹¹ì´ ë¹„íš¨ìœ¨ì </strong>.</li></ul><p><strong>ğŸ”¬ í•´ê²° ì—°êµ¬ íë¦„:</strong></p><ol><li><p><strong>Sparse Activation Optimization</strong></p><ul><li>ì¼ë¶€ MoE ëª¨ë¸ë“¤ì€ <strong>ì „ë¬¸ê°€ë¥¼ ì—¬ëŸ¬ GPUì— ë¶„ì‚°í•  ë•Œ, íš¨ìœ¨ì ìœ¼ë¡œ GPU ë©”ëª¨ë¦¬ë¥¼ í™œìš©í•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œ</strong>ê°€ ìˆìŒ.</li><li>ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **DeepSpeed-MoE (Rajbhandari et al., 2022)**ëŠ” ì „ë¬¸ê°€ ê°„ <strong>ë™ì  ë¶€í•˜ ê· í˜•ì„ ë§ì¶”ëŠ” ìµœì í™” ê¸°ë²•</strong>ì„ ì ìš©.</li></ul></li><li><p><strong>Expert Compression ê¸°ë²•</strong></p><ul><li>ì „ë¬¸ê°€ ê°œìˆ˜ê°€ ë§ì„ ê²½ìš°, <strong>ë¹„ìŠ·í•œ ì „ë¬¸ê°€ë¥¼ í´ëŸ¬ìŠ¤í„°ë§í•˜ì—¬ ëª¨ë¸ì„ ê²½ëŸ‰í™”</strong>í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.</li><li>ì˜ˆ: <strong>Soft MoE Clustering (Zoph et al., 2022)</strong> â†’ ë¹„ìŠ·í•œ ì „ë¬¸ê°€ë“¤ì„ ë³‘í•©í•˜ëŠ” ê¸°ë²• ë„ì….</li></ul></li></ol><p>âœ… <strong>ì—°êµ¬ ë°©í–¥:</strong></p><ul><li><strong>Sparse Activationì„ ë”ìš± ìµœì í™”í•˜ì—¬ GPU ë©”ëª¨ë¦¬ í™œìš©ë„ë¥¼ ë†’ì´ëŠ” ì—°êµ¬</strong>ê°€ í•„ìš”í•¨.</li><li><strong>ë¹„ìŠ·í•œ ì „ë¬¸ê°€ë¥¼ í´ëŸ¬ìŠ¤í„°ë§í•˜ì—¬ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ëŠ” ë°©ë²•</strong>ë„ ìœ ìš©í•  ê²ƒìœ¼ë¡œ ë³´ì„.</li></ul><hr><h2 id=5-ê²°ë¡ -deepseekmoeì˜-í•œê³„ë¥¼-ê·¹ë³µí•˜ëŠ”-ì—°êµ¬-íë¦„-ìš”ì•½><strong>5. ê²°ë¡ : DeepSeekMoEì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ëŠ” ì—°êµ¬ íë¦„ ìš”ì•½</strong></h2><table><thead><tr><th>í•œê³„ì </th><th>í•´ê²° ì—°êµ¬ íë¦„</th><th>ì—°êµ¬ ë°©í–¥</th></tr></thead><tbody><tr><td><strong>Fine-Tuning ì„±ëŠ¥ ì €í•˜</strong></td><td>StableMoE, LoRA ì ìš©</td><td>ì „ë¬¸ê°€ ì„ íƒ ì•ˆì •í™”</td></tr><tr><td><strong>Routing íš¨ìœ¨ì„± ë¶€ì¡±</strong></td><td>Expert-Choice MoE, Dynamic Routing</td><td>ì „ë¬¸ê°€ ì„ íƒ ìµœì í™”</td></tr><tr><td><strong>ì „ë¬¸ê°€ í•™ìŠµ ë¶ˆê· í˜•</strong></td><td>Regularization Loss, Adaptive Expert Balancing</td><td>ì „ë¬¸ê°€ í™œìš© ê· í˜• ìœ ì§€</td></tr><tr><td><strong>Scalability & ë©”ëª¨ë¦¬ ë¬¸ì œ</strong></td><td>DeepSpeed-MoE, Sparse Activation ìµœì í™”</td><td>GPU ë©”ëª¨ë¦¬ í™œìš© ìµœì í™”</td></tr></tbody></table><p>âœ… <strong>ê²°ë¡ ì ìœ¼ë¡œ, DeepSeekMoEì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ì„œëŠ” ë™ì ì¸ ì „ë¬¸ê°€ ì„ íƒ(Dynamic Routing)ê³¼ ì ì‘í˜• ì „ë¬¸ê°€ ê· í˜•(Adaptive Balancing)ì„ í¬í•¨í•œ ìƒˆë¡œìš´ MoE ê¸°ë²•ë“¤ì´ í•„ìš”í•¨.</strong><br>âœ… <strong>íŠ¹íˆ ë¯¸ì„¸ ì¡°ì • ì•ˆì •í™”(Fine-Tuning Stability)ì™€ ëª¨ë¸ì˜ í™•ì¥ì„±(Scalability)ì„ ê°œì„ í•˜ëŠ” ì—°êµ¬ê°€ ì•ìœ¼ë¡œ ë”ìš± ì¤‘ìš”í•´ì§ˆ ê²ƒìœ¼ë¡œ ì˜ˆìƒë¨.</strong></p><h1 id=q--deepseekmoeì—ì„œ-fine-grained-expert-segmentationê³¼-shared-expert-isolationì´-ê¸°ì¡´-moe-ëª¨ë¸gshard-switch-transformer-ë“±-ëŒ€ë¹„-ì–´ë–¤-êµ¬ì¡°ì -ì´ì ì„-ì œê³µí•˜ë©°-ì„±ëŠ¥-í–¥ìƒì˜-ì£¼ìš”-ì›ì¸ì€-ë¬´ì—‡ì¸ê°€>Q : <strong>DeepSeekMoEì—ì„œ Fine-Grained Expert Segmentationê³¼ Shared Expert Isolationì´ ê¸°ì¡´ MoE ëª¨ë¸(GShard, Switch Transformer ë“±) ëŒ€ë¹„ ì–´ë–¤ êµ¬ì¡°ì  ì´ì ì„ ì œê³µí•˜ë©°, ì„±ëŠ¥ í–¥ìƒì˜ ì£¼ìš” ì›ì¸ì€ ë¬´ì—‡ì¸ê°€?</strong></h1><h2 id=fine-grained-expert-segmentation--shared-expert-isolationì˜-êµ¬ì¡°ì -ì´ì ê³¼-ì„±ëŠ¥-í–¥ìƒì˜-ì£¼ìš”-ì›ì¸><strong>Fine-Grained Expert Segmentation & Shared Expert Isolationì˜ êµ¬ì¡°ì  ì´ì ê³¼ ì„±ëŠ¥ í–¥ìƒì˜ ì£¼ìš” ì›ì¸</strong></h2><p>DeepSeekMoEëŠ” ê¸°ì¡´ MoE ëª¨ë¸(GShard, Switch Transformer ë“±)ê³¼ ë¹„êµí•˜ì—¬ <strong>ë” ì„¸ë°€í•œ ì „ë¬¸ê°€ ì„ íƒê³¼ ê³µí†µ ì§€ì‹ì˜ íš¨ê³¼ì ì¸ ì €ì¥</strong>ì„ ëª©í‘œë¡œ í•¨. ì´ë¥¼ ìœ„í•´ <strong>Fine-Grained Expert Segmentation(ì „ë¬¸ê°€ ì„¸ë¶„í™”)</strong> ë° **Shared Expert Isolation(ê³µìœ  ì „ë¬¸ê°€ ê²©ë¦¬)**ì„ ë„ì…í–ˆìœ¼ë©°, ì´ëŸ¬í•œ ê¸°ë²•ì´ ê¸°ì¡´ MoE ëª¨ë¸ ëŒ€ë¹„ ê°€ì§€ëŠ” êµ¬ì¡°ì  ì´ì ê³¼ ì„±ëŠ¥ í–¥ìƒì˜ ì´ìœ ë¥¼ ë¶„ì„í•´ë³´ê² ìŒ.</p><hr><h2 id=1-fine-grained-expert-segmentation-ì „ë¬¸ê°€-ì„¸ë¶„í™”ì˜-êµ¬ì¡°ì -ì´ì ><strong>1. Fine-Grained Expert Segmentation (ì „ë¬¸ê°€ ì„¸ë¶„í™”)ì˜ êµ¬ì¡°ì  ì´ì </strong></h2><p><strong>ğŸ” ê¸°ì¡´ MoE(GShard, Switch Transformer)ì˜ ë¬¸ì œì </strong></p><ul><li>ê¸°ì¡´ MoE ëª¨ë¸(GShard, Switch Transformer ë“±)ì€ ì¼ë°˜ì ìœ¼ë¡œ **16ê°œ ì „ë¬¸ê°€ ì¤‘ 2ê°œë¥¼ í™œì„±í™”(Top-2 Routing)**í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©.</li><li>ê·¸ëŸ¬ë‚˜, <strong>ê° ì „ë¬¸ê°€ì˜ ê·œëª¨ê°€ í¬ë‹¤ ë³´ë‹ˆ í•˜ë‚˜ì˜ ì „ë¬¸ê°€ê°€ ë„ˆë¬´ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ í•™ìŠµ</strong>í•´ì•¼ í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒ.</li><li>ì´ë¡œ ì¸í•´, ì „ë¬¸ê°€ í•˜ë‚˜ê°€ <strong>ë„ˆë¬´ ë§ì€ ì§€ì‹(Generalized Knowledge)ì„ ê°€ì§€ê²Œ ë˜ì–´ íŠ¹ì • ë¶„ì•¼ì— ìµœì í™”ë˜ì§€ ì•ŠìŒ.</strong></li><li>ë˜í•œ, <strong>ì „ë¬¸ê°€ ê°„ì˜ ì§€ì‹ ì¤‘ë³µ</strong>ì´ ë°œìƒí•˜ì—¬ <strong>íš¨ìœ¨ì„±ì´ ë–¨ì–´ì§.</strong></li></ul><p><strong>âœ… DeepSeekMoEì˜ Fine-Grained Expert Segmentation í•´ê²°ì±…</strong></p><ul><li>ê¸°ì¡´ 16ê°œ ì „ë¬¸ê°€ ëŒ€ì‹  <strong>64ê°œ ì‘ì€ ì „ë¬¸ê°€ë¡œ ì„¸ë¶„í™”</strong>í•˜ì—¬, <strong>ê° ì „ë¬¸ê°€ê°€ íŠ¹ì • ë¶„ì•¼ì— íŠ¹í™”ëœ í•™ìŠµì´ ê°€ëŠ¥</strong>í•˜ë„ë¡ ì„¤ê³„.</li><li>ì´ë ‡ê²Œ í•˜ë©´ <strong>í•œ ì „ë¬¸ê°€ê°€ ë” ì§‘ì¤‘ëœ ì •ë³´ë¥¼ í•™ìŠµí•  ìˆ˜ ìˆì–´, ë¶„ì‚°ëœ ì „ë¬¸ê°€ í•™ìŠµ(Expert Specialization)ì´ ê°€ëŠ¥í•´ì§.</strong></li><li>ê¸°ì¡´ ëª¨ë¸ ëŒ€ë¹„ <strong>ë” ë‹¤ì–‘í•œ ì „ë¬¸ê°€ ì¡°í•©ì´ í™œì„±í™”ë  ìˆ˜ ìˆì–´, ë” ì •í™•í•œ ì§€ì‹ í•™ìŠµê³¼ ì¡°í•©ì´ ê°€ëŠ¥.</strong></li><li>íŠ¹ì • íƒœìŠ¤í¬ì—ì„œ í•„ìš”í•œ ì „ë¬¸ê°€ ì¡°í•©ì„ <strong>ë” ìœ ì—°í•˜ê²Œ ì„ íƒí•  ìˆ˜ ìˆì–´ ìµœì ì˜ ì„±ëŠ¥ì„ ë‹¬ì„± ê°€ëŠ¥.</strong></li></ul><p><strong>ğŸ“Œ ì˜ˆì œ ë¹„êµ</strong></p><table><thead><tr><th>ëª¨ë¸</th><th>ì „ë¬¸ê°€ ê°œìˆ˜</th><th>í™œì„±í™”ëœ ì „ë¬¸ê°€ ìˆ˜</th><th>ì „ë¬¸ê°€ í¬ê¸°(FFN ì°¨ì›)</th><th>ì „ë¬¸ê°€ ì¡°í•© ê°€ëŠ¥ì„±</th></tr></thead><tbody><tr><td>GShard</td><td>16ê°œ</td><td>2ê°œ</td><td>í¬ë‹¤</td><td>120ê°œ ì¡°í•© (16C2)</td></tr><tr><td>DeepSeekMoE</td><td>64ê°œ</td><td>7ê°œ + ê³µìœ  1ê°œ</td><td>ì‘ë‹¤</td><td><strong>4,426,165,368ê°œ ì¡°í•© (64C7)</strong></td></tr></tbody></table><p>âœ… <strong>ì „ë¬¸ê°€ ì¡°í•© ê°€ëŠ¥ì„±ì´ ê¸°ì¡´ MoE ëª¨ë¸ ëŒ€ë¹„ í›¨ì”¬ ì¦ê°€í•˜ì—¬, ë” ìœ ì—°í•˜ê³  ì •í™•í•œ ì§€ì‹ ë¶„ë°°ê°€ ê°€ëŠ¥í•´ì§.</strong><br>âœ… <strong>í•œ ì „ë¬¸ê°€ê°€ íŠ¹ì • ì§€ì‹ì— ì§‘ì¤‘í•  ìˆ˜ ìˆì–´, &ldquo;í˜¼í•©ëœ ì§€ì‹(Hybrid Knowledge)&rdquo; ë¬¸ì œë¥¼ í•´ê²° ê°€ëŠ¥.</strong></p><hr><h2 id=2-shared-expert-isolation-ê³µìœ -ì „ë¬¸ê°€-ê²©ë¦¬ì˜-êµ¬ì¡°ì -ì´ì ><strong>2. Shared Expert Isolation (ê³µìœ  ì „ë¬¸ê°€ ê²©ë¦¬)ì˜ êµ¬ì¡°ì  ì´ì </strong></h2><p><strong>ğŸ” ê¸°ì¡´ MoE ëª¨ë¸ì˜ ë¬¸ì œì </strong></p><ul><li>ê¸°ì¡´ MoE ëª¨ë¸(GShard, Switch Transformer)ì—ì„œëŠ” <strong>ê° ì „ë¬¸ê°€ê°€ ë…ë¦½ì ìœ¼ë¡œ í•™ìŠµ</strong>ë˜ë©°,<br>íŠ¹ì • ì „ë¬¸ê°€ë“¤ì´ ê°™ì€ ì¢…ë¥˜ì˜ ì§€ì‹ì„ ì¤‘ë³µ í•™ìŠµí•˜ëŠ” ë¬¸ì œê°€ ë°œìƒ.</li><li>ì˜ˆë¥¼ ë“¤ì–´, <strong>ê¸°ë³¸ì ì¸ ë¬¸ë²•, ê¸°ì´ˆ ìƒì‹, ê³µí†µì ì¸ ì–¸ì–´ íŒ¨í„´ ë“±ì€ ëª¨ë“  ì „ë¬¸ê°€ê°€ ê³µí†µì ìœ¼ë¡œ í•™ìŠµí•´ì•¼ í•˜ì§€ë§Œ</strong>,<br>ê¸°ì¡´ ëª¨ë¸ì—ì„œëŠ” <strong>ê° ì „ë¬¸ê°€ê°€ ê°œë³„ì ìœ¼ë¡œ ì´ëŸ° ì§€ì‹ì„ í•™ìŠµí•˜ê²Œ ë¨.</strong></li><li>ì´ë¡œ ì¸í•´ <strong>ì „ë¬¸ê°€ ê°„ ì¤‘ë³µëœ ê³„ì‚°ì´ ë°œìƒí•˜ì—¬, íŒŒë¼ë¯¸í„° íš¨ìœ¨ì„±ì´ ì €í•˜ë¨.</strong></li></ul><p><strong>âœ… DeepSeekMoEì˜ Shared Expert Isolation í•´ê²°ì±…</strong></p><ul><li>ì¼ë¶€ ì „ë¬¸ê°€ë¥¼ <strong>ê³µìœ  ì „ë¬¸ê°€(Shared Experts)ë¡œ ì§€ì •í•˜ì—¬ í•­ìƒ í™œì„±í™”</strong>ë˜ë„ë¡ êµ¬ì„±.</li><li>ê³µìœ  ì „ë¬¸ê°€ë“¤ì€ <strong>ì–¸ì–´ì˜ ê¸°ì´ˆì ì¸ ì§€ì‹ê³¼ ê³µí†µì ì¸ ë¬¸ë²• íŒ¨í„´ì„ ì €ì¥</strong>í•˜ì—¬ ì¤‘ë³µ í•™ìŠµì„ ë°©ì§€í•¨.</li><li>ê·¸ ì™¸ì˜ ì „ë¬¸ê°€ë“¤ì€ <strong>ë” íŠ¹í™”ëœ íƒœìŠ¤í¬ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„</strong>í•˜ì—¬ ì „ì²´ì ì¸ í•™ìŠµ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•¨.</li></ul><p><strong>ğŸ“Œ ì˜ˆì œ ë¹„êµ</strong></p><table><thead><tr><th>ëª¨ë¸</th><th>ê³µìœ  ì „ë¬¸ê°€ ìˆ˜</th><th>ì „ë¬¸ê°€ ê°„ ì¤‘ë³µ í•™ìŠµ ì—¬ë¶€</th><th>íš¨ìœ¨ì„±</th></tr></thead><tbody><tr><td>GShard</td><td>ì—†ìŒ</td><td>ìˆìŒ (ê° ì „ë¬¸ê°€ê°€ ê³µí†µ ì§€ì‹ì„ ì¤‘ë³µ í•™ìŠµ)</td><td>ë‚®ìŒ</td></tr><tr><td>DeepSeekMoE</td><td>1~2ê°œ</td><td>ì—†ìŒ (ê³µìœ  ì „ë¬¸ê°€ê°€ ê³µí†µ ì§€ì‹ì„ ì €ì¥)</td><td>ë†’ìŒ</td></tr></tbody></table><p>âœ… <strong>ê³µìœ  ì „ë¬¸ê°€ê°€ ê³µí†µ ì§€ì‹ì„ ì €ì¥í•˜ë¯€ë¡œ, ë‹¤ë¥¸ ì „ë¬¸ê°€ë“¤ì€ ë”ìš± íŠ¹í™”ëœ ì§€ì‹ì„ í•™ìŠµ ê°€ëŠ¥.</strong><br>âœ… <strong>ì¤‘ë³µëœ ê³„ì‚°ì„ ì¤„ì—¬ ëª¨ë¸ì˜ íŒŒë¼ë¯¸í„° í™œìš©ë„ë¥¼ ì¦ê°€ì‹œí‚¤ê³ , ê³„ì‚°ëŸ‰ì„ ê°ì†Œì‹œí‚¬ ìˆ˜ ìˆìŒ.</strong></p><hr><h2 id=3-ì„±ëŠ¥-í–¥ìƒì˜-ì£¼ìš”-ì›ì¸><strong>3. ì„±ëŠ¥ í–¥ìƒì˜ ì£¼ìš” ì›ì¸</strong></h2><p>Fine-Grained Expert Segmentation ë° Shared Expert Isolationì´ ê²°í•©ë˜ë©´ì„œ <strong>ê¸°ì¡´ MoE ëª¨ë¸ ëŒ€ë¹„ ì„±ëŠ¥ì´ í–¥ìƒë˜ëŠ” ì£¼ìš” ì›ì¸ì€ ë‹¤ìŒê³¼ ê°™ìŒ.</strong></p><h3 id=1-ì „ë¬¸ê°€-ê°„-ì§€ì‹ì´-ë”-ëª…í™•í•˜ê²Œ-ë¶„ë¦¬ë¨><strong>(1) ì „ë¬¸ê°€ ê°„ ì§€ì‹ì´ ë” ëª…í™•í•˜ê²Œ ë¶„ë¦¬ë¨</strong></h3><ul><li>ê¸°ì¡´ ëª¨ë¸ì—ì„œëŠ” í•˜ë‚˜ì˜ ì „ë¬¸ê°€ê°€ ì—¬ëŸ¬ ê°œë…ì„ í˜¼í•©í•´ì„œ í•™ìŠµí–ˆì§€ë§Œ,<br>DeepSeekMoEì—ì„œëŠ” ì „ë¬¸ê°€ê°€ íŠ¹ì • íƒœìŠ¤í¬ì— ë” íŠ¹í™”ë¨.</li><li>ê²°ê³¼ì ìœ¼ë¡œ, <strong>ì „ë¬¸ê°€ë“¤ì´ ê°ê¸° ë‹¤ë¥¸ ë¶„ì•¼ì—ì„œ ìµœì ì˜ ì„±ëŠ¥ì„ ë°œíœ˜</strong>í•  ìˆ˜ ìˆìŒ.</li></ul><h3 id=2-ì „ë¬¸ê°€-ì„ íƒroutingì´-ë”-íš¨ê³¼ì ìœ¼ë¡œ-ì‘ë™><strong>(2) ì „ë¬¸ê°€ ì„ íƒ(Routing)ì´ ë” íš¨ê³¼ì ìœ¼ë¡œ ì‘ë™</strong></h3><ul><li>ê¸°ì¡´ ëª¨ë¸ì€ 16ê°œ ì¤‘ 2ê°œë¥¼ ì„ íƒí•˜ì—¬ <strong>ì ì ˆí•œ ì „ë¬¸ê°€ë¥¼ ì„ íƒí•˜ëŠ” ì¡°í•©ì´ ì œí•œì </strong>.</li><li>DeepSeekMoEëŠ” 64ê°œ ì¤‘ 7ê°œ + ê³µìœ  ì „ë¬¸ê°€ 1ê°œë¥¼ í™œì„±í™”í•˜ì—¬ <strong>ë” ë‹¤ì–‘í•œ ì „ë¬¸ê°€ ì¡°í•©ì„ í™œìš© ê°€ëŠ¥</strong>.</li><li>ê²°ê³¼ì ìœ¼ë¡œ <strong>ë” ì •êµí•œ ì§€ì‹ ì¡°í•©ì´ ê°€ëŠ¥í•´ì§</strong>.</li></ul><h3 id=3-ê³µí†µ-ì§€ì‹-ì €ì¥ìœ¼ë¡œ-ë¶ˆí•„ìš”í•œ-ì¤‘ë³µ-ì œê±°><strong>(3) ê³µí†µ ì§€ì‹ ì €ì¥ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ì¤‘ë³µ ì œê±°</strong></h3><ul><li>ê³µìœ  ì „ë¬¸ê°€ê°€ ê³µí†µ ì§€ì‹ì„ ì €ì¥í•˜ì—¬, ê¸°ì¡´ ëª¨ë¸ì—ì„œ ë°œìƒí–ˆë˜ <strong>ì „ë¬¸ê°€ ê°„ ì¤‘ë³µ í•™ìŠµ ë¬¸ì œë¥¼ í•´ê²°</strong>.</li><li>ì´ëŠ” <strong>ê³„ì‚°ëŸ‰ì„ ì¤„ì´ëŠ” ë™ì‹œì— íŒŒë¼ë¯¸í„° í™œìš©ë„ë¥¼ ë†’ì´ëŠ” íš¨ê³¼</strong>ë¥¼ ê°€ì ¸ì˜´.</li></ul><h3 id=4-ì—°ì‚°ëŸ‰-ê°ì†Œ-íš¨ê³¼><strong>(4) ì—°ì‚°ëŸ‰ ê°ì†Œ íš¨ê³¼</strong></h3><ul><li>Fine-Grained Expert Segmentation ë° Shared Expert Isolationì´ ì ìš©ë˜ë©´ì„œ,<br>Dense ëª¨ë¸ ë° ê¸°ì¡´ MoE ëª¨ë¸ ëŒ€ë¹„ <strong>ì—°ì‚°ëŸ‰ì´ 40~71% ê°ì†Œ</strong>í•¨.</li></ul><table><thead><tr><th>ëª¨ë¸</th><th>ì´ íŒŒë¼ë¯¸í„° ìˆ˜</th><th>í™œì„±í™”ëœ íŒŒë¼ë¯¸í„° ìˆ˜</th><th>FLOPs (4K í† í°ë‹¹)</th></tr></thead><tbody><tr><td><strong>LLaMA2 7B</strong></td><td>6.7B</td><td>6.7B</td><td>187.9T</td></tr><tr><td><strong>DeepSeek 7B (Dense)</strong></td><td>6.9B</td><td>6.9B</td><td>183.5T</td></tr><tr><td><strong>GShard 16B</strong></td><td>16B</td><td>4B</td><td>105T</td></tr><tr><td><strong>DeepSeekMoE 16B</strong></td><td>16.4B</td><td>2.8B</td><td><strong>74.4T (â†“60%)</strong></td></tr><tr><td><strong>DeepSeekMoE 145B</strong></td><td>144.6B</td><td>22.2B</td><td><strong>585.6T (â†“71%)</strong></td></tr></tbody></table><p>âœ… <strong>DeepSeekMoEëŠ” ë™ì¼í•œ ì„±ëŠ¥ì„ ìœ ì§€í•˜ë©´ì„œë„ ì—°ì‚°ëŸ‰ì„ í¬ê²Œ ì¤„ì´ëŠ” ë° ì„±ê³µí•¨.</strong><br>âœ… <strong>ì´ëŸ¬í•œ ì—°ì‚°ëŸ‰ ê°ì†ŒëŠ” ì‹¤ì œ ëª¨ë¸ í•™ìŠµ ë° ë°°í¬ ë¹„ìš©ì„ ì¤„ì´ëŠ” ë° í° ê¸°ì—¬ë¥¼ í•¨.</strong></p><hr><h2 id=4-ê²°ë¡ -deepseekmoeì˜-êµ¬ì¡°ì -ì´ì -ë°-ì„±ëŠ¥-í–¥ìƒì˜-í•µì‹¬-ì›ì¸><strong>4. ê²°ë¡ : DeepSeekMoEì˜ êµ¬ì¡°ì  ì´ì  ë° ì„±ëŠ¥ í–¥ìƒì˜ í•µì‹¬ ì›ì¸</strong></h2><table><thead><tr><th>ìš”ì†Œ</th><th>ê¸°ì¡´ MoE (GShard)</th><th><strong>DeepSeekMoE</strong></th></tr></thead><tbody><tr><td><strong>ì „ë¬¸ê°€ ìˆ˜</strong></td><td>16ê°œ</td><td>64ê°œ</td></tr><tr><td><strong>í™œì„±í™” ì „ë¬¸ê°€ ìˆ˜</strong></td><td>2ê°œ</td><td>7ê°œ + ê³µìœ  ì „ë¬¸ê°€ 1ê°œ</td></tr><tr><td><strong>ì§€ì‹ ë¶„í™” (Specialization)</strong></td><td>ì œí•œì </td><td>ê³ ë„ë¡œ ì„¸ë¶„í™”ë¨</td></tr><tr><td><strong>ì¤‘ë³µ í•™ìŠµ (Redundancy)</strong></td><td>ìˆìŒ</td><td>ì—†ìŒ (ê³µìœ  ì „ë¬¸ê°€ í™œìš©)</td></tr><tr><td><strong>ì—°ì‚°ëŸ‰ ê°ì†Œ íš¨ê³¼</strong></td><td>ì œí•œì </td><td>ìµœëŒ€ 71% ê°ì†Œ</td></tr></tbody></table><p>âœ… <strong>Fine-Grained Expert Segmentationì„ í†µí•´ ì „ë¬¸ê°€ì˜ ì „ë¬¸ì„±ì„ ê·¹ëŒ€í™”í•˜ê³ , ë‹¤ì–‘í•œ ì¡°í•©ì„ í™œìš© ê°€ëŠ¥.</strong><br>âœ… <strong>Shared Expert Isolationì„ í†µí•´ ë¶ˆí•„ìš”í•œ ì¤‘ë³µ í•™ìŠµì„ ì¤„ì´ê³ , ì—°ì‚°ëŸ‰ì„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆìŒ.</strong><br>âœ… <strong>ê²°ê³¼ì ìœ¼ë¡œ, ê¸°ì¡´ GShard MoE ëŒ€ë¹„ í›¨ì”¬ íš¨ìœ¨ì ì´ë©°, Dense ëª¨ë¸ê³¼ ìœ ì‚¬í•œ ì„±ëŠ¥ì„ 40~71% ì ì€ ê³„ì‚°ëŸ‰ìœ¼ë¡œ ë‹¬ì„± ê°€ëŠ¥.</strong></p><h1 id=q--deepseekmoeì˜-routing-algorithmì—ì„œ-ê°-í† í°ì´-ì „ë¬¸ê°€ë¥¼-ì„ íƒí•˜ëŠ”-ë°©ì‹ì´-ê¸°ì¡´-moe-ëª¨ë¸ê³¼-ì–´ë–»ê²Œ-ë‹¤ë¥´ë©°-ì´-ë°©ì‹ì´-ê³„ì‚°ëŸ‰-ê°ì†Œ-ë°-ì„±ëŠ¥-í–¥ìƒì—-ì–´ë–»ê²Œ-ê¸°ì—¬í•˜ëŠ”ê°€>Q : <strong>DeepSeekMoEì˜ Routing Algorithmì—ì„œ ê° í† í°ì´ ì „ë¬¸ê°€ë¥¼ ì„ íƒí•˜ëŠ” ë°©ì‹ì´ ê¸°ì¡´ MoE ëª¨ë¸ê³¼ ì–´ë–»ê²Œ ë‹¤ë¥´ë©°, ì´ ë°©ì‹ì´ ê³„ì‚°ëŸ‰ ê°ì†Œ ë° ì„±ëŠ¥ í–¥ìƒì— ì–´ë–»ê²Œ ê¸°ì—¬í•˜ëŠ”ê°€?</strong></h1><h2 id=deepseekmoeì˜-routing-algorithm-ê¸°ì¡´-moe-ëª¨ë¸ê³¼ì˜-ì°¨ì´ì -ë°-ì„±ëŠ¥-í–¥ìƒì˜-ì´ìœ ><strong>DeepSeekMoEì˜ Routing Algorithm: ê¸°ì¡´ MoE ëª¨ë¸ê³¼ì˜ ì°¨ì´ì  ë° ì„±ëŠ¥ í–¥ìƒì˜ ì´ìœ </strong></h2><p>DeepSeekMoEì˜ **Routing Algorithm(ì „ë¬¸ê°€ ì„ íƒ ë°©ì‹)**ì€ ê¸°ì¡´ MoE ëª¨ë¸(GShard, Switch Transformer ë“±)ê³¼ ë¹„êµí•˜ì—¬ <strong>ë” ì„¸ë°€í•œ ì „ë¬¸ê°€ ì¡°í•©ì„ í™œì„±í™”í•˜ê³ , ê³„ì‚°ëŸ‰ì„ ì¤„ì´ë©°, ì„±ëŠ¥ì„ í–¥ìƒ</strong>ì‹œí‚¤ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•¨.<br>ì´ì œ, <strong>ê¸°ì¡´ MoE ëª¨ë¸ê³¼ì˜ ì°¨ì´ì ê³¼ DeepSeekMoEì˜ ì „ë¬¸ê°€ ì„ íƒ ë°©ì‹ì´ ì–´ë–»ê²Œ ì—°ì‚°ëŸ‰ ê°ì†Œ ë° ì„±ëŠ¥ í–¥ìƒì— ê¸°ì—¬í•˜ëŠ”ì§€</strong>ë¥¼ ìì„¸íˆ ë¶„ì„í•˜ê² ìŒ.</p><hr><h2 id=1-ê¸°ì¡´-moe-ëª¨ë¸gshard-switch-transformerì˜-routing-algorithm><strong>1. ê¸°ì¡´ MoE ëª¨ë¸(GShard, Switch Transformer)ì˜ Routing Algorithm</strong></h2><p>ê¸°ì¡´ MoE ëª¨ë¸ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ Routing Algorithmì„ ì‚¬ìš©í•¨.</p><h3 id=-1-ê¸°ì¡´-moe-ëª¨ë¸ì˜-ì „ë¬¸ê°€-ì„ íƒ-ë°©ì‹><strong>ğŸ“Œ (1) ê¸°ì¡´ MoE ëª¨ë¸ì˜ ì „ë¬¸ê°€ ì„ íƒ ë°©ì‹</strong></h3><ul><li><p><strong>GShard (Lepikhin et al., 2021)</strong></p><ul><li>ê° í† í°ì´ <strong>16ê°œ ì „ë¬¸ê°€ ì¤‘ 2ê°œ(Top-2 Routing)ë¥¼ ì„ íƒ</strong>í•˜ì—¬ FFN ì—°ì‚°ì„ ìˆ˜í–‰.</li><li>ì „ë¬¸ê°€ì˜ **ê²Œì´íŠ¸ ê°’(Gating Score)**ì„ ê¸°ì¤€ìœ¼ë¡œ ìƒìœ„ 2ê°œ ì „ë¬¸ê°€ë¥¼ ì„ íƒí•¨.</li><li>ì „ë¬¸ê°€ê°€ 16ê°œë°–ì— ì—†ê¸° ë•Œë¬¸ì— <strong>ì¡°í•©ì˜ ë‹¤ì–‘ì„±ì´ ë¶€ì¡±</strong>í•¨.</li></ul></li><li><p><strong>Switch Transformer (Fedus et al., 2021)</strong></p><ul><li>GShardì™€ ë‹¬ë¦¬, <strong>ê° í† í°ì´ 1ê°œì˜ ì „ë¬¸ê°€(Top-1 Routing)ë§Œ ì„ íƒ</strong>í•˜ë„ë¡ ë³€ê²½í•˜ì—¬ <strong>ì—°ì‚°ëŸ‰ì„ ì¤„ì„.</strong></li><li>í•˜ì§€ë§Œ <strong>ì „ë¬¸ê°€ ê°„ ì§€ì‹ ì¤‘ì²© ë¬¸ì œ(Knowledge Redundancy)ê°€ ì‹¬í™”ë¨</strong>.</li></ul></li></ul><h3 id=-2-ê¸°ì¡´-moe-ëª¨ë¸ì˜-ë¬¸ì œì ><strong>ğŸ“Œ (2) ê¸°ì¡´ MoE ëª¨ë¸ì˜ ë¬¸ì œì </strong></h3><ol><li><p><strong>ì œí•œëœ ì „ë¬¸ê°€ ì„ íƒ ë²”ìœ„</strong></p><ul><li>GShardëŠ” <strong>16ê°œ ì „ë¬¸ê°€ ì¤‘ 2ê°œë§Œ í™œì„±í™”</strong>, Switch TransformerëŠ” <strong>1ê°œë§Œ í™œì„±í™”</strong>í•˜ë¯€ë¡œ,<br>ê° í† í°ì´ <strong>ë” ì„¸ë°€í•œ ì „ë¬¸ê°€ ì¡°í•©ì„ í™œìš©í•˜ê¸° ì–´ë ¤ì›€</strong>.</li></ul></li><li><p><strong>ì „ë¬¸ê°€ ê°„ ì§€ì‹ ì¤‘ì²© ë¬¸ì œ</strong></p><ul><li>íŠ¹ì • ì „ë¬¸ê°€ë“¤ì´ ì—¬ëŸ¬ íƒœìŠ¤í¬ë¥¼ ì²˜ë¦¬í•´ì•¼ í•˜ë¯€ë¡œ,<br><strong>í•˜ë‚˜ì˜ ì „ë¬¸ê°€ê°€ ë‹¤ì–‘í•œ ì§€ì‹ì„ í˜¼í•© í•™ìŠµí•˜ëŠ” ë¬¸ì œ(Knowledge Hybridity)ê°€ ë°œìƒ</strong>.</li></ul></li><li><p><strong>ì „ë¬¸ê°€ ê°„ ë¶€í•˜ ë¶ˆê· í˜•(Expert Imbalance)</strong></p><ul><li>ì¼ë¶€ ì „ë¬¸ê°€ì—ê²Œ <strong>í† í°ì´ ì§‘ì¤‘(Routing Collapse)ë˜ëŠ” ë¬¸ì œ</strong>ê°€ ë°œìƒí•˜ì—¬,<br><strong>ìì£¼ ì„ íƒë˜ì§€ ì•ŠëŠ” ì „ë¬¸ê°€ë“¤ì€ ì¶©ë¶„íˆ í•™ìŠµë˜ì§€ ì•ŠìŒ.</strong></li></ul></li></ol><p>âœ… <strong>ê²°ë¡ :</strong> ê¸°ì¡´ MoE ëª¨ë¸ì˜ ì „ë¬¸ê°€ ì„ íƒ ë°©ì‹ì€ <strong>ì „ë¬¸ê°€ ê°„ ì§€ì‹ ì¤‘ì²© ë¬¸ì œì™€ ë¶€í•˜ ë¶ˆê· í˜• ë¬¸ì œë¥¼ í•´ê²°í•˜ì§€ ëª»í•¨.</strong><br>âœ… <strong>íŠ¹íˆ, Top-1 Routing ë°©ì‹ì€ ê³„ì‚°ëŸ‰ì€ ê°ì†Œí–ˆì§€ë§Œ ì „ë¬¸ê°€ ê°„ ì¤‘ë³µ í•™ìŠµì´ ì‹¬í™”ë¨.</strong></p><hr><h2 id=2-deepseekmoeì˜-routing-algorithm-ë”-ì„¸ë°€í•œ-ì „ë¬¸ê°€-ì¡°í•©-í™œìš©><strong>2. DeepSeekMoEì˜ Routing Algorithm: ë” ì„¸ë°€í•œ ì „ë¬¸ê°€ ì¡°í•© í™œìš©</strong></h2><p>DeepSeekMoEëŠ” <strong>Fine-Grained Expert Segmentation(ì „ë¬¸ê°€ ì„¸ë¶„í™”)</strong> ë° **Shared Expert Isolation(ê³µìœ  ì „ë¬¸ê°€ ê²©ë¦¬)**ì„ ì ìš©í•œ ìƒˆë¡œìš´ Routing Algorithmì„ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ ë¬¸ì œë¥¼ í•´ê²°í•¨.</p><h3 id=-1-deepseekmoeì˜-ì „ë¬¸ê°€-ì„ íƒ-ë°©ì‹><strong>ğŸ“Œ (1) DeepSeekMoEì˜ ì „ë¬¸ê°€ ì„ íƒ ë°©ì‹</strong></h3><ul><li>ê¸°ì¡´ì˜ <strong>16ê°œ ì „ë¬¸ê°€ ì¤‘ 2ê°œ ì„ íƒ(Top-2 Routing)</strong> ë°©ì‹ ëŒ€ì‹ ,<br>**64ê°œ ì „ë¬¸ê°€ ì¤‘ 7ê°œ + ê³µìœ  ì „ë¬¸ê°€ 1ê°œë¥¼ í™œì„±í™”(Top-7+Shared Routing)**í•˜ëŠ” ë°©ì‹ì„ ë„ì….</li><li>ë¼ìš°íŒ… ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ì´ ì´ë£¨ì–´ì§.</li></ul><ol><li><p><strong>ê° í† í°ì´ ì „ë¬¸ê°€ ì„ íƒì„ ìœ„í•´ Gating Scoreë¥¼ ê³„ì‚°</strong></p><ul><li>ê¸°ì¡´ MoE ëª¨ë¸ì²˜ëŸ¼, í† í°ê³¼ ì „ë¬¸ê°€ ê°„ì˜ ìœ ì‚¬ë„ë¥¼ Softmaxë¡œ ë³€í™˜í•˜ì—¬ <strong>Gating Score</strong>ë¥¼ ìƒì„±.</li></ul></li><li><p><strong>Top-7 ì „ë¬¸ê°€ + ê³µìœ  ì „ë¬¸ê°€ 1ê°œë¥¼ ì„ íƒ</strong></p><ul><li>ê¸°ì¡´ì²˜ëŸ¼ <strong>ìƒìœ„ 2ê°œë§Œ ì„ íƒí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, 7ê°œ + ê³µìœ  ì „ë¬¸ê°€ë¥¼ í™œì„±í™”</strong>í•˜ì—¬ <strong>ë” ë‹¤ì–‘í•œ ì „ë¬¸ê°€ ì¡°í•© í™œìš© ê°€ëŠ¥.</strong></li></ul></li><li><p><strong>ê° ì „ë¬¸ê°€ì—ì„œ FFN ì—°ì‚° ìˆ˜í–‰ í›„, ê°€ì¤‘ í•©ì‚°í•˜ì—¬ ìµœì¢… ì¶œë ¥ ìƒì„±</strong></p><ul><li>ì„ íƒëœ ì „ë¬¸ê°€ë“¤ì´ ê°œë³„ì ìœ¼ë¡œ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ê³ ,<br>ìµœì¢…ì ìœ¼ë¡œ <strong>ê° ì „ë¬¸ê°€ì˜ ì¶œë ¥ ê°’ì„ ê°€ì¤‘ í‰ê· (Weighted Sum)í•˜ì—¬ ìµœì¢… ì¶œë ¥ì„ ìƒì„±.</strong></li></ul></li></ol><h3 id=-2-ì˜ˆì œ-ë¹„êµ><strong>ğŸ“Œ (2) ì˜ˆì œ ë¹„êµ</strong></h3><p>ğŸ’¡ <strong>ì˜ˆì œ ë¬¸ì¥:</strong> <code>"The Eiffel Tower is located in Paris, France."</code></p><table><thead><tr><th>í† í°</th><th>ê¸°ì¡´ GShard (2ê°œ ì „ë¬¸ê°€ ì„ íƒ)</th><th><strong>DeepSeekMoE (7ê°œ + ê³µìœ  ì „ë¬¸ê°€ ì„ íƒ)</strong></th></tr></thead><tbody><tr><td>&ldquo;Eiffel&rdquo;</td><td>Expert 3, 7</td><td><strong>Expert 2, 14, 23, 31, 40, 51, 62 + Shared</strong></td></tr><tr><td>&ldquo;Paris&rdquo;</td><td>Expert 1, 5</td><td><strong>Expert 6, 15, 25, 33, 48, 53, 61 + Shared</strong></td></tr><tr><td>&ldquo;France&rdquo;</td><td>Expert 4, 11</td><td><strong>Expert 3, 9, 22, 30, 41, 52, 60 + Shared</strong></td></tr></tbody></table><p>âœ… <strong>ë” ë‹¤ì–‘í•œ ì „ë¬¸ê°€ ì¡°í•©ì´ ê°€ëŠ¥í•´ì§€ë©´ì„œ, ë³´ë‹¤ ì •êµí•œ í•™ìŠµì´ ê°€ëŠ¥í•´ì§.</strong><br>âœ… <strong>ì „ë¬¸ê°€ë“¤ì´ íŠ¹ì • íƒœìŠ¤í¬ì— íŠ¹í™”ë˜ë©´ì„œ ì„±ëŠ¥ì´ í–¥ìƒë¨.</strong></p><hr><h2 id=3-deepseekmoeì˜-routing-algorithmì´-ê³„ì‚°ëŸ‰-ê°ì†Œ-ë°-ì„±ëŠ¥-í–¥ìƒì—-ê¸°ì—¬í•˜ëŠ”-ì´ìœ ><strong>3. DeepSeekMoEì˜ Routing Algorithmì´ ê³„ì‚°ëŸ‰ ê°ì†Œ ë° ì„±ëŠ¥ í–¥ìƒì— ê¸°ì—¬í•˜ëŠ” ì´ìœ </strong></h2><p>DeepSeekMoEì˜ ìƒˆë¡œìš´ ì „ë¬¸ê°€ ì„ íƒ ë°©ì‹ì€ ê¸°ì¡´ ëª¨ë¸ ëŒ€ë¹„ <strong>ê³„ì‚°ëŸ‰ì„ ì¤„ì´ë©´ì„œë„ ì„±ëŠ¥ì„ í–¥ìƒ</strong>ì‹œí‚¤ëŠ” ë° ê¸°ì—¬í•¨.</p><h3 id=-1-ê³„ì‚°ëŸ‰-ê°ì†Œ-íš¨ê³¼><strong>ğŸ“Œ (1) ê³„ì‚°ëŸ‰ ê°ì†Œ íš¨ê³¼</strong></h3><table><thead><tr><th>ëª¨ë¸</th><th>ì´ íŒŒë¼ë¯¸í„° ìˆ˜</th><th>í™œì„±í™”ëœ íŒŒë¼ë¯¸í„° ìˆ˜</th><th>FLOPs (4K í† í°ë‹¹)</th></tr></thead><tbody><tr><td><strong>LLaMA2 7B</strong></td><td>6.7B</td><td>6.7B</td><td>187.9T</td></tr><tr><td><strong>DeepSeek 7B (Dense)</strong></td><td>6.9B</td><td>6.9B</td><td>183.5T</td></tr><tr><td><strong>GShard 16B</strong></td><td>16B</td><td>4B</td><td>105T</td></tr><tr><td><strong>DeepSeekMoE 16B</strong></td><td>16.4B</td><td>2.8B</td><td><strong>74.4T (â†“60%)</strong></td></tr><tr><td><strong>DeepSeekMoE 145B</strong></td><td>144.6B</td><td>22.2B</td><td><strong>585.6T (â†“71%)</strong></td></tr></tbody></table><p>âœ… <strong>ë” ë§ì€ ì „ë¬¸ê°€ë¥¼ í™œì„±í™”í–ˆì§€ë§Œ, ê°œë³„ ì „ë¬¸ê°€ì˜ í¬ê¸°ë¥¼ ì¤„ì—¬ ì´ ê³„ì‚°ëŸ‰ì´ ê¸°ì¡´ë³´ë‹¤ ê°ì†Œ.</strong><br>âœ… <strong>Dense ëª¨ë¸ ëŒ€ë¹„ ìµœëŒ€ 71%ì˜ ì—°ì‚°ëŸ‰ ê°ì†Œ íš¨ê³¼ë¥¼ ë‹¬ì„±.</strong></p><hr><h3 id=-2-ì„±ëŠ¥-í–¥ìƒ-íš¨ê³¼><strong>ğŸ“Œ (2) ì„±ëŠ¥ í–¥ìƒ íš¨ê³¼</strong></h3><ol><li><p><strong>ë” ì„¸ë°€í•œ ì „ë¬¸ê°€ ì¡°í•© í™œìš© â†’ ì§€ì‹ì˜ ì „ë¬¸í™”(Specialization) ì¦ê°€</strong></p><ul><li>ê¸°ì¡´ ëª¨ë¸ì€ 2ê°œ ì „ë¬¸ê°€ë§Œ ì‚¬ìš©í–ˆì§€ë§Œ, DeepSeekMoEëŠ” <strong>ë” ë‹¤ì–‘í•œ ì „ë¬¸ê°€ ì¡°í•©ì„ í™œìš© ê°€ëŠ¥.</strong></li><li>ê²°ê³¼ì ìœ¼ë¡œ, <strong>ì „ë¬¸ê°€ë“¤ì´ íŠ¹ì • ë¶„ì•¼ì— íŠ¹í™”ëœ í•™ìŠµì„ í•  ìˆ˜ ìˆì–´ ì„±ëŠ¥ì´ í–¥ìƒë¨.</strong></li></ul></li><li><p><strong>ê³µìœ  ì „ë¬¸ê°€ í™œìš© â†’ ê³µí†µ ì§€ì‹ ì¤‘ë³µ í•™ìŠµ ê°ì†Œ</strong></p><ul><li>ê³µìœ  ì „ë¬¸ê°€ê°€ ê³µí†µ ì§€ì‹ì„ ì €ì¥í•¨ìœ¼ë¡œì¨ <strong>ë¶ˆí•„ìš”í•œ ì¤‘ë³µ ì—°ì‚°ì´ ê°ì†Œ</strong>í•˜ê³ ,<br>ë‹¤ë¥¸ ì „ë¬¸ê°€ë“¤ì´ ë” íŠ¹í™”ëœ í•™ìŠµì„ í•  ìˆ˜ ìˆë„ë¡ ìœ ë„ë¨.</li></ul></li><li><p><strong>ì „ë¬¸ê°€ ê°„ ë¶€í•˜ ê· í˜• ìœ ì§€ â†’ í•™ìŠµ íš¨ìœ¨ì„± ì¦ê°€</strong></p><ul><li>Balance Lossë¥¼ ì¶”ê°€ ì ìš©í•˜ì—¬ íŠ¹ì • ì „ë¬¸ê°€ì— ë¼ìš°íŒ…ì´ ê³¼í•˜ê²Œ ì§‘ì¤‘ë˜ì§€ ì•Šë„ë¡ ìœ ë„.</li><li>ê²°ê³¼ì ìœ¼ë¡œ <strong>ëª¨ë“  ì „ë¬¸ê°€ê°€ ì¶©ë¶„í•œ í•™ìŠµ ê¸°íšŒë¥¼ ê°€ì§€ê²Œ ë˜ì–´ ëª¨ë¸ì´ ë” ê°•ê±´í•˜ê²Œ í•™ìŠµë¨.</strong></li></ul></li></ol><hr><h2 id=4-ê²°ë¡ -deepseekmoeì˜-routing-algorithmì´-ê°€ì§€ëŠ”-ì°¨ë³„ì ><strong>4. ê²°ë¡ : DeepSeekMoEì˜ Routing Algorithmì´ ê°€ì§€ëŠ” ì°¨ë³„ì </strong></h2><table><thead><tr><th>ìš”ì†Œ</th><th>ê¸°ì¡´ MoE (GShard)</th><th><strong>DeepSeekMoE</strong></th></tr></thead><tbody><tr><td><strong>ì „ë¬¸ê°€ ì„ íƒ ê°œìˆ˜</strong></td><td>2ê°œ (Top-2 Routing)</td><td>7ê°œ + ê³µìœ  ì „ë¬¸ê°€ 1ê°œ</td></tr><tr><td><strong>ì§€ì‹ ë¶„í™”</strong></td><td>ì œí•œì  (ì§€ì‹ ì¤‘ì²© ë°œìƒ)</td><td>ì„¸ë°€í•œ ì „ë¬¸ê°€ í•™ìŠµ ê°€ëŠ¥</td></tr><tr><td><strong>ì—°ì‚°ëŸ‰ ê°ì†Œ íš¨ê³¼</strong></td><td>ì œí•œì </td><td>ìµœëŒ€ 71% ê°ì†Œ</td></tr><tr><td><strong>ì „ë¬¸ê°€ ê· í˜• ìœ ì§€</strong></td><td>ì—†ìŒ</td><td>Balance Loss ì ìš©</td></tr></tbody></table><p>âœ… <strong>DeepSeekMoEì˜ ìƒˆë¡œìš´ ì „ë¬¸ê°€ ì„ íƒ ë°©ì‹ì€ ê³„ì‚°ëŸ‰ì„ ì¤„ì´ë©´ì„œë„ ë” ì •êµí•œ í•™ìŠµì´ ê°€ëŠ¥í•˜ë„ë¡ í•¨.</strong><br>âœ… <strong>ê²°ê³¼ì ìœ¼ë¡œ, ê¸°ì¡´ GShard MoE ëŒ€ë¹„ í›¨ì”¬ íš¨ìœ¨ì ì´ë©°, Dense ëª¨ë¸ê³¼ ìœ ì‚¬í•œ ì„±ëŠ¥ì„ 40~71% ì ì€ ê³„ì‚°ëŸ‰ìœ¼ë¡œ ë‹¬ì„± ê°€ëŠ¥.</strong></p><h1 id=q-deepseekmoeëŠ”-ê¸°ì¡´-moe-ëª¨ë¸-ëŒ€ë¹„-fine-tuninginstruction-tuning-rlhf-ê³¼ì •ì—ì„œ-ì–´ë–¤-ì¥ì ê³¼-ë‹¨ì ì„-ê°€ì§€ë©°-fine-tuning-ì‹œ-ë°œìƒí• -ìˆ˜-ìˆëŠ”-ì „ë¬¸ê°€-ì„ íƒ-ë¶ˆì•ˆì •ì„±-ë¬¸ì œë¥¼-í•´ê²°í•˜ê¸°-ìœ„í•´-ì–´ë–¤-ì¶”ê°€ì ì¸-ê¸°ë²•ì´-í•„ìš”í• ê¹Œ>Q <strong>DeepSeekMoEëŠ” ê¸°ì¡´ MoE ëª¨ë¸ ëŒ€ë¹„ Fine-Tuning(Instruction Tuning, RLHF) ê³¼ì •ì—ì„œ ì–´ë–¤ ì¥ì ê³¼ ë‹¨ì ì„ ê°€ì§€ë©°, Fine-Tuning ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì „ë¬¸ê°€ ì„ íƒ ë¶ˆì•ˆì •ì„± ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì–´ë–¤ ì¶”ê°€ì ì¸ ê¸°ë²•ì´ í•„ìš”í• ê¹Œ?</strong></h1><h2 id=deepseekmoeì˜-fine-tuninginstruction-tuning-rlhf-ê³¼ì •ì—ì„œì˜-ì¥ë‹¨ì -ë°-í•´ê²°-ë°©ì•ˆ><strong>DeepSeekMoEì˜ Fine-Tuning(Instruction Tuning, RLHF) ê³¼ì •ì—ì„œì˜ ì¥ë‹¨ì  ë° í•´ê²° ë°©ì•ˆ</strong></h2><p>DeepSeekMoEëŠ” ê¸°ì¡´ Mixture-of-Experts(MoE) ëª¨ë¸ë³´ë‹¤ íš¨ìœ¨ì ì¸ <strong>Fine-Grained Expert Segmentation(ì „ë¬¸ê°€ ì„¸ë¶„í™”)</strong> ë° **Shared Expert Isolation(ê³µìœ  ì „ë¬¸ê°€ ê²©ë¦¬)**ì„ ë„ì…í•˜ì—¬ ì‚¬ì „ í•™ìŠµ(Pretraining)ì—ì„œ ê°•ë ¥í•œ ì„±ëŠ¥ì„ ë³´ì„.<br>ê·¸ëŸ¬ë‚˜, <strong>Fine-Tuning(Instruction Tuning, RLHF) ê³¼ì •ì—ì„œ ê¸°ì¡´ MoE ëª¨ë¸ê³¼ ìœ ì‚¬í•œ ë¬¸ì œë¥¼ ê²ªì„ ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë©°</strong>,<br>ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ <strong>ìƒˆë¡œìš´ ê¸°ë²•ì´ í•„ìš”</strong>í•¨.</p><hr><h2 id=1-deepseekmoeì˜-fine-tuning-ê³¼ì •ì—ì„œì˜-ì¥ì ê³¼-ë‹¨ì ><strong>1. DeepSeekMoEì˜ Fine-Tuning ê³¼ì •ì—ì„œì˜ ì¥ì ê³¼ ë‹¨ì </strong></h2><p>DeepSeekMoEê°€ ê¸°ì¡´ MoE ëª¨ë¸ ëŒ€ë¹„ <strong>Instruction Tuning, RLHF ë“±ì˜ Fine-Tuning ê³¼ì •ì—ì„œ ê°€ì§€ëŠ” ì¥ì ê³¼ ë‹¨ì </strong>ì„ ë¶„ì„í•´ ë³´ê² ìŒ.</p><h3 id=-1-fine-tuning-ì‹œ-deepseekmoeì˜-ì¥ì ><strong>ğŸ“Œ (1) Fine-Tuning ì‹œ DeepSeekMoEì˜ ì¥ì </strong></h3><ol><li><p><strong>Fine-Grained Expert Segmentation ë•ë¶„ì— ë¯¸ì„¸ ì¡°ì • ì‹œì—ë„ ë” ì •í™•í•œ ì „ë¬¸ê°€ ì¡°í•© í™œìš© ê°€ëŠ¥</strong></p><ul><li>ê¸°ì¡´ MoE ëª¨ë¸ì€ <strong>ì „ë¬¸ê°€ ê°œìˆ˜ê°€ ì ì–´ íŠ¹ì • íƒœìŠ¤í¬ì—ì„œ ìµœì ì˜ ì „ë¬¸ê°€ ì¡°í•©ì„ ì°¾ê¸° ì–´ë ¤ì›€</strong>.</li><li>DeepSeekMoEëŠ” <strong>64ê°œ ì „ë¬¸ê°€ ì¤‘ 7ê°œ + ê³µìœ  ì „ë¬¸ê°€ë¥¼ ì„ íƒí•˜ëŠ” êµ¬ì¡°</strong>ì´ë¯€ë¡œ, Fine-Tuning ì‹œ <strong>ë” ë‹¤ì–‘í•œ ì „ë¬¸ê°€ ì¡°í•©ì„ í™œìš© ê°€ëŠ¥</strong>.</li><li>ë”°ë¼ì„œ, <strong>íƒœìŠ¤í¬ë³„ ìµœì ì˜ ì „ë¬¸ê°€ ì„ íƒì´ ê°€ëŠ¥í•˜ì—¬ ë¯¸ì„¸ ì¡°ì • ì„±ëŠ¥ì´ ë” ë›°ì–´ë‚  ê°€ëŠ¥ì„±ì´ ë†’ìŒ.</strong></li></ul></li><li><p><strong>ê³µìœ  ì „ë¬¸ê°€(Shared Experts)ë¥¼ í™œìš©í•˜ì—¬ ë¯¸ì„¸ ì¡°ì • ì‹œ ê³µí†µ ì •ë³´ ìœ ì§€ ê°€ëŠ¥</strong></p><ul><li>ì¼ë°˜ì ì¸ MoE ëª¨ë¸ì—ì„œëŠ” **Fine-Tuning ì‹œ ê¸°ì¡´ í•™ìŠµëœ ì§€ì‹ì´ ì™œê³¡ë˜ëŠ” ë¬¸ì œ(Forgetting Problem)**ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆìŒ.</li><li>ê·¸ëŸ¬ë‚˜ DeepSeekMoEì—ì„œëŠ” <strong>ê³µìœ  ì „ë¬¸ê°€ê°€ ê³µí†µ ì§€ì‹ì„ ì €ì¥</strong>í•˜ë¯€ë¡œ, <strong>Fine-Tuning ì¤‘ì—ë„ ê¸°ì´ˆì ì¸ ì–¸ì–´ ì§€ì‹ì´ ìœ ì§€ë¨</strong>.</li><li>íŠ¹íˆ, Instruction Tuning ê³¼ì •ì—ì„œëŠ” <strong>í”„ë¡¬í”„íŠ¸ ì²˜ë¦¬ ë° ê¸°ì´ˆì ì¸ ë¬¸ë§¥ ì´í•´ê°€ ì¤‘ìš”í•œë°, ê³µìœ  ì „ë¬¸ê°€ ë•ë¶„ì— ì´ëŸ¬í•œ ì„±ëŠ¥ì´ ìœ ì§€ë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ.</strong></li></ul></li><li><p><strong>ë” ì ì€ í™œì„±í™” íŒŒë¼ë¯¸í„°ë¡œ Dense ëª¨ë¸ê³¼ ìœ ì‚¬í•œ Fine-Tuning ì„±ëŠ¥ ê°€ëŠ¥</strong></p><ul><li>ê¸°ì¡´ Dense ëª¨ë¸(LLaMA2 ë“±)ì€ ëª¨ë“  íŒŒë¼ë¯¸í„°ë¥¼ Fine-Tuningí•´ì•¼ í•˜ì§€ë§Œ,<br>DeepSeekMoEëŠ” <strong>í™œì„±í™”ëœ ì „ë¬¸ê°€(2.8B/16B, 22.2B/145B)ë§Œ í•™ìŠµì„ ì§„í–‰</strong>.</li><li><strong>ìµœì†Œí•œì˜ ì—°ì‚°ëŸ‰ìœ¼ë¡œë„ Fine-Tuningì´ ê°€ëŠ¥í•˜ì—¬ í•™ìŠµ ë¹„ìš©ì„ ì ˆê°í•  ìˆ˜ ìˆìŒ.</strong></li></ul></li></ol><p>âœ… <strong>ê²°ë¡ :</strong> Fine-Tuning ì‹œì—ë„ ë‹¤ì–‘í•œ ì „ë¬¸ê°€ ì¡°í•©ì„ í™œìš©í•  ìˆ˜ ìˆìœ¼ë©°, ê³µìœ  ì „ë¬¸ê°€ ë•ë¶„ì— ê¸°ì¡´ ì§€ì‹ ìœ ì§€ê°€ ìš©ì´í•¨.<br>âœ… <strong>Dense ëª¨ë¸ê³¼ ë¹„êµí•˜ë©´, ë” ì ì€ ì—°ì‚°ëŸ‰ìœ¼ë¡œë„ ë†’ì€ ì„±ëŠ¥ì„ ìœ ì§€ ê°€ëŠ¥.</strong></p><hr><h3 id=-2-fine-tuning-ì‹œ-deepseekmoeì˜-ë‹¨ì ><strong>ğŸ“Œ (2) Fine-Tuning ì‹œ DeepSeekMoEì˜ ë‹¨ì </strong></h3><ol><li><p><strong>ì „ë¬¸ê°€ ì„ íƒ ë¶ˆì•ˆì •ì„±(Routing Instability) ë¬¸ì œ</strong></p><ul><li>ê¸°ì¡´ MoE ëª¨ë¸ì—ì„œë„ Fine-Tuning ê³¼ì •ì—ì„œ <strong>ì „ë¬¸ê°€ ì„ íƒ(Routing)ì´ ë¶ˆì•ˆì •í•´ì§€ëŠ” ë¬¸ì œ</strong>ê°€ ë³´ê³ ë¨.</li><li><strong>íŠ¹ì • ì „ë¬¸ê°€ë“¤ì´ ê³¼ë„í•˜ê²Œ í™œì„±í™”ë˜ê±°ë‚˜(Expert Overload), ë°˜ëŒ€ë¡œ ì¼ë¶€ ì „ë¬¸ê°€ë“¤ì´ ê±°ì˜ ì„ íƒë˜ì§€ ì•ŠëŠ” ë¬¸ì œ(Expert Underuse)ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ.</strong></li><li>DeepSeekMoEëŠ” ë” ë§ì€ ì „ë¬¸ê°€ë¥¼ í™œìš©í•˜ê¸° ë•Œë¬¸ì— <strong>Fine-Tuning ì‹œ ì´ëŸ¬í•œ ë¶ˆì•ˆì •ì„±ì´ ë” ì‹¬í•´ì§ˆ ê°€ëŠ¥ì„±ì´ ìˆìŒ</strong>.</li></ul></li><li><p><strong>MoE ëª¨ë¸ íŠ¹ìœ ì˜ Fine-Tuning ì¼ë°˜í™” ì„±ëŠ¥ ì €í•˜</strong></p><ul><li>Dense ëª¨ë¸(LLaMA2, GPT ë“±)ì€ Fine-Tuning í›„ì—ë„ <strong>ì¼ë°˜ì ì¸ íƒœìŠ¤í¬ì—ì„œ ì„±ëŠ¥ ì €í•˜ê°€ ì ìŒ</strong>.</li><li>ê·¸ëŸ¬ë‚˜ ê¸°ì¡´ MoE ëª¨ë¸ì€ Fine-Tuning í›„ <strong>íŠ¹ì • ì „ë¬¸ê°€ë“¤ì´ íŠ¹ì • íƒœìŠ¤í¬ì— ê³¼ë„í•˜ê²Œ ì ì‘(Overspecialization)í•˜ì—¬ ì¼ë°˜í™” ì„±ëŠ¥ì´ ë–¨ì–´ì§ˆ ê°€ëŠ¥ì„±ì´ ë†’ìŒ</strong>.</li><li>DeepSeekMoE ì—­ì‹œ <strong>Fine-Tuning í›„ ì¼ë°˜í™” ì„±ëŠ¥ ì €í•˜ ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë©°, í•´ê²°ì±…ì´ í•„ìš”í•¨.</strong></li></ul></li><li><p><strong>Fine-Tuning ì‹œ ë™ì  ë¼ìš°íŒ…(Routing Dynamics)ìœ¼ë¡œ ì¸í•œ í•™ìŠµ ë¶ˆì•ˆì •ì„±</strong></p><ul><li>MoE ëª¨ë¸ì˜ Fine-Tuningì—ì„œëŠ” <strong>ê¸°ì¡´ì— ì‚¬ì „ í•™ìŠµëœ ì „ë¬¸ê°€ ì¡°í•©ì´ ë³€í•˜ë©´ì„œ ë¼ìš°íŒ…ì´ ê¸‰ê²©í•˜ê²Œ ë³€í™”</strong>í•  ìˆ˜ ìˆìŒ.</li><li>ì´ëŠ” <strong>í•™ìŠµ ì¤‘ ë¶ˆì•ˆì •í•œ ì†ì‹¤ ê°’(Oscillation)ê³¼ í•™ìŠµ ìˆ˜ë ´ ì†ë„ ì €í•˜(Convergence Slowdown)ë¥¼ ìœ ë°œ</strong>í•  ê°€ëŠ¥ì„±ì´ ìˆìŒ.</li><li>DeepSeekMoEëŠ” ì „ë¬¸ê°€ë¥¼ ë” ë§ì´ í™œìš©í•˜ëŠ” êµ¬ì¡°ì´ë¯€ë¡œ, <strong>Fine-Tuning ì‹œ Routing ë³€ë™ì´ ë” ì‹¬í•  ê°€ëŠ¥ì„±ì´ ìˆìŒ.</strong></li></ul></li></ol><p>âœ… <strong>ê²°ë¡ :</strong> Fine-Tuning ê³¼ì •ì—ì„œ ì „ë¬¸ê°€ ì„ íƒì´ ë¶ˆì•ˆì •í•´ì§ˆ ê°€ëŠ¥ì„±ì´ ë†’ìœ¼ë©°, íŠ¹ì • íƒœìŠ¤í¬ì— ê³¼ì í•©ë  ìœ„í—˜ì´ ìˆìŒ.<br>âœ… <strong>ë™ì  ë¼ìš°íŒ… ë¬¸ì œë¡œ ì¸í•´ í•™ìŠµì´ ë¶ˆì•ˆì •í•´ì§ˆ ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì¶”ê°€ì ì¸ ê¸°ë²•ì´ í•„ìš”í•¨.</strong></p><hr><h2 id=2-fine-tuning-ì‹œ-ì „ë¬¸ê°€-ì„ íƒ-ë¶ˆì•ˆì •ì„±-ë¬¸ì œ-í•´ê²°ì„-ìœ„í•œ-ê¸°ë²•><strong>2. Fine-Tuning ì‹œ ì „ë¬¸ê°€ ì„ íƒ ë¶ˆì•ˆì •ì„± ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ ê¸°ë²•</strong></h2><p>Fine-Tuning ê³¼ì •ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” <strong>ì „ë¬¸ê°€ ì„ íƒ ë¶ˆì•ˆì •ì„±(Routing Instability)</strong> ë° <strong>ì¼ë°˜í™” ì„±ëŠ¥ ì €í•˜ ë¬¸ì œ</strong>ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì—°êµ¬ íë¦„ê³¼ ê¸°ë²•ì„ ì œì•ˆí•¨.</p><h3 id=-1-expert-freezing-ì „ë¬¸ê°€-ê³ ì •-ê¸°ë²•><strong>ğŸ“Œ (1) Expert Freezing (ì „ë¬¸ê°€ ê³ ì •) ê¸°ë²•</strong></h3><ul><li><strong>ì¼ë¶€ ì „ë¬¸ê°€ë¥¼ ë™ê²°(Freeze)í•˜ì—¬ Fine-Tuning ì¤‘ì—ë„ ê¸°ì¡´ ì „ë¬¸ê°€ êµ¬ì¡°ë¥¼ ìœ ì§€í•˜ëŠ” ë°©ë²•.</strong></li><li>ë°©ë²•:<ol><li><strong>ê³µìœ  ì „ë¬¸ê°€(Shared Experts)ëŠ” í•­ìƒ ë™ê²°</strong>í•˜ì—¬ ê³µí†µ ì§€ì‹ì´ ë³€í™”í•˜ì§€ ì•Šë„ë¡ ìœ ì§€.</li><li><strong>ì¼ë¶€ ì „ë¬¸ê°€ë“¤ë§Œ Fine-Tuningì„ í—ˆìš©</strong>í•˜ì—¬ íŠ¹ì • íƒœìŠ¤í¬ì— ëŒ€í•œ ê³¼ì í•©ì„ ë°©ì§€.</li><li><strong>ë¼ë²¨ ë°ì´í„° ì—†ì´ ì „ë¬¸ê°€ ì„ íƒì„ ìœ„í•œ ì¶”ê°€ì ì¸ í”„ë¦¬ íŠ¸ë ˆì´ë‹ ë‹¨ê³„ ì ìš©</strong>.</li></ol></li></ul><p>âœ… <strong>íš¨ê³¼:</strong> Fine-Tuning í›„ì—ë„ ê¸°ì¡´ ì „ë¬¸ê°€ ì„ íƒ íŒ¨í„´ì„ ìœ ì§€í•  ìˆ˜ ìˆì–´ ëª¨ë¸ì˜ í•™ìŠµ ë¶ˆì•ˆì •ì„±ì„ ê°ì†Œì‹œí‚´.</p><hr><h3 id=-2-lora-low-rank-adaptation-ê¸°ë°˜-fine-tuning><strong>ğŸ“Œ (2) LoRA (Low-Rank Adaptation) ê¸°ë°˜ Fine-Tuning</strong></h3><ul><li>LoRA ê¸°ë²•ì„ í™œìš©í•˜ì—¬, <strong>ëª¨ë“  ì „ë¬¸ê°€ì˜ ê°€ì¤‘ì¹˜ë¥¼ ì¡°ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì†Œìˆ˜ì˜ ì ì‘í˜• ì €ì°¨ì› ê°€ì¤‘ì¹˜ë§Œ ì—…ë°ì´íŠ¸</strong>.</li><li>ë°©ë²•:<ol><li>ê¸°ì¡´ ì „ë¬¸ê°€ ë„¤íŠ¸ì›Œí¬ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€.</li><li>LoRAë¥¼ ì ìš©í•˜ì—¬ <strong>ê° ì „ë¬¸ê°€ì˜ FFNì— ì ì€ ìˆ˜ì˜ ì¶”ê°€ ê°€ì¤‘ì¹˜(Adaptive Weights)ë¥¼ í•™ìŠµ</strong>.</li><li>Fine-Tuning ì‹œ ì „ì²´ ëª¨ë¸ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, <strong>LoRA ê°€ì¤‘ì¹˜ë§Œ í•™ìŠµí•˜ì—¬ ë¯¸ì„¸ ì¡°ì •</strong>.</li></ol></li></ul><p>âœ… <strong>íš¨ê³¼:</strong> Fine-Tuning í›„ì—ë„ ë¼ìš°íŒ… êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  ë¯¸ì„¸ ì¡°ì •ì´ ê°€ëŠ¥í•˜ì—¬ í•™ìŠµ ì•ˆì •ì„±ì´ ì¦ê°€í•¨.</p><hr><h3 id=-3-routing-regularization-loss-ì ìš©><strong>ğŸ“Œ (3) Routing Regularization Loss ì ìš©</strong></h3><ul><li>ì „ë¬¸ê°€ ì„ íƒì´ ê¸‰ê²©í•˜ê²Œ ë³€í•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ <strong>Routing Regularization Loss</strong>ë¥¼ ì ìš©.</li><li>ë°©ë²•:<ol><li><strong>Fine-Tuning ì´ì „ê³¼ ì´í›„ì˜ ì „ë¬¸ê°€ ì„ íƒ íŒ¨í„´ ì°¨ì´ë¥¼ ì¸¡ì •í•˜ì—¬ ì†ì‹¤(Loss)ë¡œ ì ìš©.</strong></li><li><strong>Fine-Tuning í›„ì—ë„ íŠ¹ì • ì „ë¬¸ê°€ë“¤ì´ ê³¼ë„í•˜ê²Œ ì„ íƒë˜ì§€ ì•Šë„ë¡ ê· í˜•ì„ ë§ì¶¤.</strong></li><li><strong>ë¶€í•˜ ê· í˜• ì†ì‹¤(Load Balance Loss)ê³¼ ê²°í•©í•˜ì—¬ íŠ¹ì • ì „ë¬¸ê°€ì— ê³¼ë¶€í•˜ê°€ ê±¸ë¦¬ëŠ” ê²ƒì„ ë°©ì§€.</strong></li></ol></li></ul><p>âœ… <strong>íš¨ê³¼:</strong> Fine-Tuning ì‹œ ì „ë¬¸ê°€ ì„ íƒ ë³€ë™ì„±ì„ ì¤„ì´ê³ , ì „ì²´ì ì¸ ê· í˜•ì„ ë§ì¶° í•™ìŠµì„ ì•ˆì •í™”í•¨.</p><hr><h2 id=3-ê²°ë¡ -deepseekmoeì˜-fine-tuning-ì„±ëŠ¥-í–¥ìƒì„-ìœ„í•œ-ì¶”ê°€-ì—°êµ¬-í•„ìš”><strong>3. ê²°ë¡ : DeepSeekMoEì˜ Fine-Tuning ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•œ ì¶”ê°€ ì—°êµ¬ í•„ìš”</strong></h2><table><thead><tr><th>ë¬¸ì œì </th><th>í•´ê²° ë°©ì•ˆ</th></tr></thead><tbody><tr><td>ì „ë¬¸ê°€ ì„ íƒ ë¶ˆì•ˆì •ì„±</td><td>Expert Freezing, Routing Regularization Loss</td></tr><tr><td>ì¼ë°˜í™” ì„±ëŠ¥ ì €í•˜</td><td>LoRA ê¸°ë°˜ Fine-Tuning</td></tr><tr><td>íŠ¹ì • ì „ë¬¸ê°€ ê³¼ì í•©</td><td>ì¼ë¶€ ì „ë¬¸ê°€ ë™ê²° ë° ë¶€í•˜ ê· í˜• ì¡°ì •</td></tr></tbody></table><p>âœ… <strong>Fine-Tuning ê³¼ì •ì—ì„œ ì „ë¬¸ê°€ ì„ íƒ ë¶ˆì•ˆì •ì„±ì„ í•´ê²°í•˜ë ¤ë©´ ì „ë¬¸ê°€ ë™ê²° ë° LoRA ê¸°ë°˜ í•™ìŠµ ê¸°ë²•ì„ ì ìš©í•˜ëŠ” ê²ƒì´ í•„ìš”í•¨.</strong><br>âœ… <strong>Routing Regularization Lossë¥¼ ì¶”ê°€í•˜ë©´ Fine-Tuning í›„ì—ë„ ì „ë¬¸ê°€ ê°„ ê· í˜•ì„ ìœ ì§€í•˜ë©´ì„œ ì„±ëŠ¥ì„ ìµœì í™”í•  ìˆ˜ ìˆìŒ.</strong></p></article></main><footer class="mx-auto max-w-4xl px-4 py-8"><div class="px-6 py-6"><nav class=mb-6><div class="flex flex-wrap items-center justify-center gap-1"><a href=/index.xml class="nav-link hover:text-primary hover:bg-primary/10 text-muted-foreground flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="RSS Feed"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18.0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"/></svg>
<span>RSS Feed</span></a></div></nav><div class="border-border mb-6 border-t"></div><div class="flex flex-col items-center justify-between gap-4 md:flex-row"><div class="text-muted-foreground text-sm"><p>&copy; 2025 Jaehun's Blog.
ëª¨ë“  ê¶Œë¦¬ ë³´ìœ .</p></div><div class="flex items-center gap-3"><a href=https://github.com/ryujaehun target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=GitHub aria-label=GitHub><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="GitHub"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 22v-4a4.8 4.8.0 00-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35.0-3.5.0.0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35.0 3.5A5.4 5.4.0 004 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></g></svg>
</a><a href=https://www.linkedin.com/in/jaehunryu/ target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Linkedin aria-label=Linkedin><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="Linkedin"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6M2 9h4v12H2z"/><circle cx="4" cy="4" r="2"/></g></svg>
</a><a href=mailto:jaehunryu@icloud.com class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Email aria-label=Email><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="Email"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22.0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v10a2 2 0 002 2z"/></svg></a></div></div></div></footer><div id=dock class="pointer-events-none fixed bottom-4 left-1/2 z-[9999] w-fit -translate-x-1/2 translate-y-24 opacity-0 transition-all duration-300 ease-out sm:right-0 sm:left-0 sm:mx-auto sm:translate-x-0" role=toolbar aria-label="ë°”ë¡œê°€ê¸° ë„êµ¬ ëª¨ìŒ"><nav class="border-border bg-card/80 scrollbar-hide xs:px-3 xs:py-2 mx-auto flex max-w-[calc(100vw-2rem)] min-w-fit items-center justify-center overflow-x-auto rounded-2xl border px-4 py-3 shadow-lg backdrop-blur-sm sm:px-4 sm:py-3"><button id=dock-back class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title=ë’¤ë¡œ aria-label=ë’¤ë¡œ>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
<span class="hidden sm:inline">ë’¤ë¡œ</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-toc class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title=ëª©ì°¨ aria-label=ëª©ì°¨>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg>
<span class="hidden sm:inline">ëª©ì°¨</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-search class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-3 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-4 sm:py-2" title=ê²€ìƒ‰ aria-label=ê²€ìƒ‰>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg>
<span class="hidden md:inline">ê²€ìƒ‰</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-top class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title="ë§¨ ìœ„ë¡œ" aria-label="ë§¨ ìœ„ë¡œ">
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m18 15-6-6-6 6"/></svg>
<span class="hidden sm:inline">ë§¨ ìœ„ë¡œ</span></button></nav></div><div id=toc-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 backdrop-blur-sm transition-all duration-300" role=dialog aria-modal=true aria-labelledby=toc-title></div><div id=toc-card class="pointer-events-none fixed inset-4 z-50 flex w-auto scale-95 items-center justify-center opacity-0 transition-all duration-300 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:block sm:w-full sm:max-w-md sm:-translate-x-1/2 sm:-translate-y-1/2" role=dialog aria-modal=true aria-labelledby=toc-title><div class="bg-card border-border w-full max-w-sm overflow-hidden rounded-xl border shadow-xl sm:max-w-md"><div class="border-border bg-muted/30 flex items-center justify-between border-b p-4"><div class="flex items-center gap-3"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg><h2 id=toc-title class="text-foreground text-lg font-semibold">ëª©ì°¨</h2></div><button id=toc-close class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 rounded-lg p-2 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none" title=ë‹«ê¸° aria-label=ë‹«ê¸°>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div class="max-h-96 overflow-y-auto p-4"><nav id=toc-nav class=toc-scrollbar aria-label="ê¸€ ëª©ì°¨"><div id=toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#ë…¼ë¬¸ì˜-ê°•ì ê³¼-ë…ì°½ì ì¸-ì§€ì ><strong>ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì </strong></a></li><li><a href=#í•µì‹¬-ì•Œê³ ë¦¬ì¦˜-ë°-ì˜ˆì‹œ-ì…ë ¥ì„-í†µí•œ-ê³¼ì •-ì„¤ëª…><strong>í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ ë° ì˜ˆì‹œ ì…ë ¥ì„ í†µí•œ ê³¼ì • ì„¤ëª…</strong></a><ul><li><a href=#1-ê¸°ì¡´-moe-ëª¨ë¸-ë¬¸ì œì ><strong>1. ê¸°ì¡´ MoE ëª¨ë¸ ë¬¸ì œì </strong></a></li><li><a href=#2-deepseekmoe-í•µì‹¬-ì „ëµ><strong>2. DeepSeekMoE í•µì‹¬ ì „ëµ</strong></a></li><li><a href=#3-ì˜ˆì œ-ì…ë ¥ê³¼-ê³„ì‚°-ê³¼ì •><strong>3. ì˜ˆì œ ì…ë ¥ê³¼ ê³„ì‚° ê³¼ì •</strong></a></li></ul></li><li><a href=#ë…¼ë¬¸ì˜-í•œê³„ì ><strong>ë…¼ë¬¸ì˜ í•œê³„ì </strong></a></li><li><a href=#ê²°ë¡ ><strong>ê²°ë¡ </strong></a></li></ul></li></ul><ul><li><a href=#ë…¼ë¬¸ì˜-í•µì‹¬-ì•Œê³ ë¦¬ì¦˜-deepseekmoeì˜-ë™ì‘-ì›ë¦¬><strong>ë…¼ë¬¸ì˜ í•µì‹¬ ì•Œê³ ë¦¬ì¦˜: DeepSeekMoEì˜ ë™ì‘ ì›ë¦¬</strong></a></li><li><a href=#1-ê¸°ì¡´-moe-ëª¨ë¸ì˜-í•œê³„><strong>1. ê¸°ì¡´ MoE ëª¨ë¸ì˜ í•œê³„</strong></a><ul><li><a href=#-í•´ê²°ì±…-deepseekmoe><strong>ğŸ“Œ í•´ê²°ì±…: DeepSeekMoE</strong></a></li></ul></li><li><a href=#2-deepseekmoe-ì•Œê³ ë¦¬ì¦˜-êµ¬ì¡°><strong>2. DeepSeekMoE ì•Œê³ ë¦¬ì¦˜ êµ¬ì¡°</strong></a></li><li><a href=#3-deepseekmoe-ë™ì‘-ê³¼ì •-ì˜ˆì œ><strong>3. DeepSeekMoE ë™ì‘ ê³¼ì • ì˜ˆì œ</strong></a><ul><li><a href=#1-ì…ë ¥-ì˜ˆì œ><strong>(1) ì…ë ¥ ì˜ˆì œ</strong></a></li><li><a href=#2-ì•Œê³ ë¦¬ì¦˜-ë™ì‘-ê³¼ì •><strong>(2) ì•Œê³ ë¦¬ì¦˜ ë™ì‘ ê³¼ì •</strong></a><ul><li><a href=#step-1-í† í°í™”tokenization><strong>Step 1: í† í°í™”(Tokenization)</strong></a></li><li><a href=#step-2-ë¼ìš°í„°routerê°€-ì „ë¬¸ê°€-ì„ íƒ><strong>Step 2: ë¼ìš°í„°(Router)ê°€ ì „ë¬¸ê°€ ì„ íƒ</strong></a></li><li><a href=#step-3-ì „ë¬¸ê°€ë“¤ì´-ê³„ì‚°-ìˆ˜í–‰><strong>Step 3: ì „ë¬¸ê°€ë“¤ì´ ê³„ì‚° ìˆ˜í–‰</strong></a></li><li><a href=#step-4-ìµœì¢…-ì¶œë ¥-ê²°í•©><strong>Step 4: ìµœì¢… ì¶œë ¥ ê²°í•©</strong></a></li></ul></li></ul></li><li><a href=#4-deepseekmoeì˜-ì¥ì -ìš”ì•½><strong>4. DeepSeekMoEì˜ ì¥ì  ìš”ì•½</strong></a><ul><li><a href=#-ê¸°ì¡´-moe-ëŒ€ë¹„-ê°œì„ ì ><strong>ğŸ“Œ ê¸°ì¡´ MoE ëŒ€ë¹„ ê°œì„ ì </strong></a></li></ul></li><li><a href=#5-ìµœì¢…-ì •ë¦¬><strong>5. ìµœì¢… ì •ë¦¬</strong></a></li><li><a href=#ê²°ë¡ -1><strong>ê²°ë¡ </strong></a></li></ul><ul><li><a href=#deepseekmoe-í•™ìŠµì„-ìœ„í•œ-ë°ì´í„°ì…‹ê³¼-í•™ìŠµ-ë°©ë²•><strong>DeepSeekMoE í•™ìŠµì„ ìœ„í•œ ë°ì´í„°ì…‹ê³¼ í•™ìŠµ ë°©ë²•</strong></a></li><li><a href=#1-í•™ìŠµì—-í•„ìš”í•œ-ë°ì´í„°ì…‹><strong>1. í•™ìŠµì— í•„ìš”í•œ ë°ì´í„°ì…‹</strong></a><ul><li><a href=#-11-í•„ìš”-ë°ì´í„°ì…‹-ìœ í˜•><strong>ğŸ“Œ 1.1. í•„ìš” ë°ì´í„°ì…‹ ìœ í˜•</strong></a></li></ul></li><li><a href=#2-í•™ìŠµ-ë°©ë²•-deepseekmoe-í•™ìŠµ-í”„ë¡œì„¸ìŠ¤><strong>2. í•™ìŠµ ë°©ë²•: DeepSeekMoE í•™ìŠµ í”„ë¡œì„¸ìŠ¤</strong></a><ul><li><a href=#-21-ë°ì´í„°-ì „ì²˜ë¦¬-ë°-í† í°í™”><strong>ğŸ“Œ 2.1. ë°ì´í„° ì „ì²˜ë¦¬ ë° í† í°í™”</strong></a></li><li><a href=#-22-moe-ëª¨ë¸ì˜-í•™ìŠµ-ì „ëµ><strong>ğŸ“Œ 2.2. MoE ëª¨ë¸ì˜ í•™ìŠµ ì „ëµ</strong></a><ul><li><a href=#1-expert-ì„ íƒ-ê³¼ì •><strong>(1) Expert ì„ íƒ ê³¼ì •</strong></a></li></ul></li><li><a href=#-23-ëª¨ë¸-í•™ìŠµ-ê³¼ì •><strong>ğŸ“Œ 2.3. ëª¨ë¸ í•™ìŠµ ê³¼ì •</strong></a><ul><li><a href=#1-ì†ì‹¤-í•¨ìˆ˜-êµ¬ì„±><strong>(1) ì†ì‹¤ í•¨ìˆ˜ êµ¬ì„±</strong></a></li></ul></li><li><a href=#-24-í•™ìŠµ-í•˜ì´í¼íŒŒë¼ë¯¸í„°><strong>ğŸ“Œ 2.4. í•™ìŠµ í•˜ì´í¼íŒŒë¼ë¯¸í„°</strong></a></li></ul></li><li><a href=#3-ìµœì¢…-ì •ë¦¬-í•™ìŠµ-ì „ëµ-ìš”ì•½><strong>3. ìµœì¢… ì •ë¦¬: í•™ìŠµ ì „ëµ ìš”ì•½</strong></a></li><li><a href=#ê²°ë¡ -2><strong>ê²°ë¡ </strong></a></li></ul><ul><li><a href=#ë…¼ë¬¸ì—ì„œ-ì œì‹œí•œ-ê²°ê³¼-ë¶„ì„-ë°-ë¹„êµ><strong>ë…¼ë¬¸ì—ì„œ ì œì‹œí•œ ê²°ê³¼ ë¶„ì„ ë° ë¹„êµ</strong></a></li><li><a href=#1-ë…¼ë¬¸ì—ì„œ-ì œì‹œí•œ-ì£¼ìš”-ê²°ê³¼><strong>1. ë…¼ë¬¸ì—ì„œ ì œì‹œí•œ ì£¼ìš” ê²°ê³¼</strong></a><ul><li><a href=#-deepseekmoe-16b-vs-ê¸°ì¡´-dense-ëª¨ë¸-llama2-7b-deepseek-7b><strong>ğŸ“Œ DeepSeekMoE 16B vs. ê¸°ì¡´ Dense ëª¨ë¸ (LLaMA2 7B, DeepSeek 7B)</strong></a></li><li><a href=#-deepseekmoe-145b-vs-ê¸°ì¡´-gshard-137b-deepseek-67b-dense><strong>ğŸ“Œ DeepSeekMoE 145B vs. ê¸°ì¡´ GShard 137B, DeepSeek 67B (Dense)</strong></a></li></ul></li><li><a href=#2-deepseekmoeê°€-ê¸°ì¡´-ëª¨ë¸ë³´ë‹¤-íŠ¹ì¶œë‚œ-ì ><strong>2. DeepSeekMoEê°€ ê¸°ì¡´ ëª¨ë¸ë³´ë‹¤ íŠ¹ì¶œë‚œ ì </strong></a><ul><li><a href=#-ê¸°ì¡´-gshard-switch-transformerì™€ì˜-ì°¨ì´ì ><strong>ğŸ“Œ ê¸°ì¡´ GShard, Switch Transformerì™€ì˜ ì°¨ì´ì </strong></a></li></ul></li><li><a href=#3-ë…¼ë¬¸ì—ì„œ-ì œì‹œí•˜ëŠ”-í•µì‹¬-ì›ì¸-ì™œ-ì´ëŸ°-ê²°ê³¼ê°€-ë‚˜ì™”ëŠ”ê°€><strong>3. ë…¼ë¬¸ì—ì„œ ì œì‹œí•˜ëŠ” í•µì‹¬ ì›ì¸ (ì™œ ì´ëŸ° ê²°ê³¼ê°€ ë‚˜ì™”ëŠ”ê°€?)</strong></a><ul><li><a href=#-ì›ì¸-1-fine-grained-expert-segmentation><strong>ğŸ“Œ ì›ì¸ 1: Fine-Grained Expert Segmentation</strong></a></li><li><a href=#-ì›ì¸-2-shared-expert-isolation><strong>ğŸ“Œ ì›ì¸ 2: Shared Expert Isolation</strong></a></li><li><a href=#-ì›ì¸-3-routing--load-balance-optimization><strong>ğŸ“Œ ì›ì¸ 3: Routing & Load Balance Optimization</strong></a></li></ul></li><li><a href=#4-ë‚´-ìƒê°-ë…¼ë¬¸ì—ì„œ-ì œì‹œí•œ-ì´ìœ ì—-ëŒ€í•œ-ì¶”ê°€-ë¶„ì„><strong>4. ë‚´ ìƒê° (ë…¼ë¬¸ì—ì„œ ì œì‹œí•œ ì´ìœ ì— ëŒ€í•œ ì¶”ê°€ ë¶„ì„)</strong></a></li></ul><ul><li><a href=#deepseekmoeë¥¼-ì‹¤ì œë¡œ-êµ¬í˜„í•˜ê¸°-ìœ„í•œ-ì¶”ê°€-ìš”êµ¬ì‚¬í•­-ë°-ìì›-ë¶„ì„><strong>DeepSeekMoEë¥¼ ì‹¤ì œë¡œ êµ¬í˜„í•˜ê¸° ìœ„í•œ ì¶”ê°€ ìš”êµ¬ì‚¬í•­ ë° ìì› ë¶„ì„</strong></a></li><li><a href=#1-ê¸°ì¡´-ë°©ë²•-ëŒ€ë¹„-ì¶”ê°€ì ìœ¼ë¡œ-í•„ìš”í•œ-êµ¬í˜„-ìš”ì†Œ><strong>1. ê¸°ì¡´ ë°©ë²• ëŒ€ë¹„ ì¶”ê°€ì ìœ¼ë¡œ í•„ìš”í•œ êµ¬í˜„ ìš”ì†Œ</strong></a></li><li><a href=#2-ì¶”ê°€ì ì¸-êµ¬í˜„-ê³µìˆ˜-ë¶„ì„><strong>2. ì¶”ê°€ì ì¸ êµ¬í˜„ ê³µìˆ˜ ë¶„ì„</strong></a></li><li><a href=#3-ì¶”ê°€-ì—°ì‚°ëŸ‰-ë°-gpu-ìì›-ë¶„ì„><strong>3. ì¶”ê°€ ì—°ì‚°ëŸ‰ ë° GPU ìì› ë¶„ì„</strong></a><ul><li><a href=#-ì—°ì‚°ëŸ‰-ë¹„êµ-flops-ê¸°ì¤€><strong>ğŸ“Œ ì—°ì‚°ëŸ‰ ë¹„êµ (FLOPs ê¸°ì¤€)</strong></a></li><li><a href=#-ì‹¤ì œ-í•™ìŠµì—-í•„ìš”í•œ-gpu-ìì›-ê³„ì‚°><strong>ğŸ“Œ ì‹¤ì œ í•™ìŠµì— í•„ìš”í•œ GPU ìì› ê³„ì‚°</strong></a><ul><li><a href=#1-16b-ëª¨ë¸-ê¸°ì¤€-í›ˆë ¨-ë°ì´í„°-2t-í† í°><strong>(1) 16B ëª¨ë¸ ê¸°ì¤€ (í›ˆë ¨ ë°ì´í„°: 2T í† í°)</strong></a></li><li><a href=#2-145b-ëª¨ë¸-ê¸°ì¤€-í›ˆë ¨-ë°ì´í„°-245b-í† í°><strong>(2) 145B ëª¨ë¸ ê¸°ì¤€ (í›ˆë ¨ ë°ì´í„°: 245B í† í°)</strong></a></li></ul></li></ul></li><li><a href=#4-ìµœì¢…-ê²°ë¡ -deepseekmoe-êµ¬í˜„-ë°-ì—°ì‚°ëŸ‰-í‰ê°€><strong>4. ìµœì¢… ê²°ë¡ : DeepSeekMoE êµ¬í˜„ ë° ì—°ì‚°ëŸ‰ í‰ê°€</strong></a><ul><li><a href=#-ì¶”ê°€-êµ¬í˜„-í•„ìš”-ìš”ì†Œ><strong>ğŸ“Œ ì¶”ê°€ êµ¬í˜„ í•„ìš” ìš”ì†Œ</strong></a></li><li><a href=#-deepseekmoeì˜-ê°€ì¥-í°-ì¥ì ><strong>ğŸ“Œ DeepSeekMoEì˜ ê°€ì¥ í° ì¥ì </strong></a></li></ul></li></ul><ul><li><a href=#1-deepseekmoeì˜-ì…ë ¥-ë°ì´í„°-ì²˜ë¦¬-ê³¼ì •><strong>1. DeepSeekMoEì˜ ì…ë ¥ ë°ì´í„° ì²˜ë¦¬ ê³¼ì •</strong></a><ul><li><a href=#-11-ì…ë ¥-ë°ì´í„°-ì˜ˆì œ><strong>ğŸ“Œ 1.1 ì…ë ¥ ë°ì´í„° ì˜ˆì œ</strong></a></li></ul></li><li><a href=#2-deepseekmoeì˜-ì¶”ë¡ -ê³¼ì •><strong>2. DeepSeekMoEì˜ ì¶”ë¡  ê³¼ì •</strong></a><ul><li><a href=#-21-ë¼ìš°íŒ…-routing---ì „ë¬¸ê°€-ì„ íƒ-ê³¼ì •><strong>ğŸ“Œ 2.1. ë¼ìš°íŒ… (Routing) - ì „ë¬¸ê°€ ì„ íƒ ê³¼ì •</strong></a></li><li><a href=#-22-í™œì„±í™”ëœ-ì „ë¬¸ê°€ì—ì„œ-ì—°ì‚°-ìˆ˜í–‰><strong>ğŸ“Œ 2.2. í™œì„±í™”ëœ ì „ë¬¸ê°€ì—ì„œ ì—°ì‚° ìˆ˜í–‰</strong></a></li><li><a href=#-23-ì „ë¬¸ê°€ì˜-ì¶œë ¥-ê²°í•©-weighted-sum><strong>ğŸ“Œ 2.3. ì „ë¬¸ê°€ì˜ ì¶œë ¥ ê²°í•© (Weighted Sum)</strong></a></li></ul></li><li><a href=#3-ëª¨ë¸-ì•„í‚¤í…ì²˜-ë°-ì—°ì‚°-ìš”êµ¬ëŸ‰><strong>3. ëª¨ë¸ ì•„í‚¤í…ì²˜ ë° ì—°ì‚° ìš”êµ¬ëŸ‰</strong></a><ul><li><a href=#-31-ëª¨ë¸-ì•„í‚¤í…ì²˜-ê°œìš”><strong>ğŸ“Œ 3.1. ëª¨ë¸ ì•„í‚¤í…ì²˜ ê°œìš”</strong></a><ul><li><a href=#1-ê¸°ì¡´-transformer-ì•„í‚¤í…ì²˜><strong>(1) ê¸°ì¡´ Transformer ì•„í‚¤í…ì²˜</strong></a></li><li><a href=#2-deepseekmoe-ì•„í‚¤í…ì²˜><strong>(2) DeepSeekMoE ì•„í‚¤í…ì²˜</strong></a></li></ul></li><li><a href=#-32-ì—°ì‚°ëŸ‰-ë¶„ì„-flops><strong>ğŸ“Œ 3.2. ì—°ì‚°ëŸ‰ ë¶„ì„ (FLOPs)</strong></a></li><li><a href=#-33-ë©”ëª¨ë¦¬-ìš”êµ¬ëŸ‰-ë¶„ì„><strong>ğŸ“Œ 3.3. ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ ë¶„ì„</strong></a></li></ul></li><li><a href=#4-ìµœì¢…-ì •ë¦¬><strong>4. ìµœì¢… ì •ë¦¬</strong></a></li></ul><ul><li><a href=#deepseekmoeì˜-í•œê³„ë¥¼-ê·¹ë³µí•˜ê¸°-ìœ„í•œ-ì—°êµ¬-íë¦„-ì •ë¦¬><strong>DeepSeekMoEì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•œ ì—°êµ¬ íë¦„ ì •ë¦¬</strong></a></li><li><a href=#1-deepseekmoeì˜-ì£¼ìš”-í•œê³„ì ><strong>1. DeepSeekMoEì˜ ì£¼ìš” í•œê³„ì </strong></a><ul><li><a href=#-1-fine-tuningë¯¸ì„¸ì¡°ì •-ì„±ëŠ¥-ì €í•˜-ë¬¸ì œ><strong>ğŸ“Œ (1) Fine-Tuning(ë¯¸ì„¸ì¡°ì •) ì„±ëŠ¥ ì €í•˜ ë¬¸ì œ</strong></a></li><li><a href=#-2-ì „ë¬¸ê°€-ì„ íƒrouting-íš¨ìœ¨ì„±-ë¬¸ì œ><strong>ğŸ“Œ (2) ì „ë¬¸ê°€ ì„ íƒ(Routing) íš¨ìœ¨ì„± ë¬¸ì œ</strong></a></li><li><a href=#-3-ì „ë¬¸ê°€-ê°„-í•™ìŠµ-ë¶ˆê· í˜•-ë¬¸ì œ><strong>ğŸ“Œ (3) ì „ë¬¸ê°€ ê°„ í•™ìŠµ ë¶ˆê· í˜• ë¬¸ì œ</strong></a></li><li><a href=#-4-ëª¨ë¸ì˜-í™•ì¥ì„±scalability-ë°-ë©”ëª¨ë¦¬-ì‚¬ìš©-ë¬¸ì œ><strong>ğŸ“Œ (4) ëª¨ë¸ì˜ í™•ì¥ì„±(Scalability) ë° ë©”ëª¨ë¦¬ ì‚¬ìš© ë¬¸ì œ</strong></a></li></ul></li><li><a href=#5-ê²°ë¡ -deepseekmoeì˜-í•œê³„ë¥¼-ê·¹ë³µí•˜ëŠ”-ì—°êµ¬-íë¦„-ìš”ì•½><strong>5. ê²°ë¡ : DeepSeekMoEì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ëŠ” ì—°êµ¬ íë¦„ ìš”ì•½</strong></a></li></ul><ul><li><a href=#fine-grained-expert-segmentation--shared-expert-isolationì˜-êµ¬ì¡°ì -ì´ì ê³¼-ì„±ëŠ¥-í–¥ìƒì˜-ì£¼ìš”-ì›ì¸><strong>Fine-Grained Expert Segmentation & Shared Expert Isolationì˜ êµ¬ì¡°ì  ì´ì ê³¼ ì„±ëŠ¥ í–¥ìƒì˜ ì£¼ìš” ì›ì¸</strong></a></li><li><a href=#1-fine-grained-expert-segmentation-ì „ë¬¸ê°€-ì„¸ë¶„í™”ì˜-êµ¬ì¡°ì -ì´ì ><strong>1. Fine-Grained Expert Segmentation (ì „ë¬¸ê°€ ì„¸ë¶„í™”)ì˜ êµ¬ì¡°ì  ì´ì </strong></a></li><li><a href=#2-shared-expert-isolation-ê³µìœ -ì „ë¬¸ê°€-ê²©ë¦¬ì˜-êµ¬ì¡°ì -ì´ì ><strong>2. Shared Expert Isolation (ê³µìœ  ì „ë¬¸ê°€ ê²©ë¦¬)ì˜ êµ¬ì¡°ì  ì´ì </strong></a></li><li><a href=#3-ì„±ëŠ¥-í–¥ìƒì˜-ì£¼ìš”-ì›ì¸><strong>3. ì„±ëŠ¥ í–¥ìƒì˜ ì£¼ìš” ì›ì¸</strong></a><ul><li><a href=#1-ì „ë¬¸ê°€-ê°„-ì§€ì‹ì´-ë”-ëª…í™•í•˜ê²Œ-ë¶„ë¦¬ë¨><strong>(1) ì „ë¬¸ê°€ ê°„ ì§€ì‹ì´ ë” ëª…í™•í•˜ê²Œ ë¶„ë¦¬ë¨</strong></a></li><li><a href=#2-ì „ë¬¸ê°€-ì„ íƒroutingì´-ë”-íš¨ê³¼ì ìœ¼ë¡œ-ì‘ë™><strong>(2) ì „ë¬¸ê°€ ì„ íƒ(Routing)ì´ ë” íš¨ê³¼ì ìœ¼ë¡œ ì‘ë™</strong></a></li><li><a href=#3-ê³µí†µ-ì§€ì‹-ì €ì¥ìœ¼ë¡œ-ë¶ˆí•„ìš”í•œ-ì¤‘ë³µ-ì œê±°><strong>(3) ê³µí†µ ì§€ì‹ ì €ì¥ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ì¤‘ë³µ ì œê±°</strong></a></li><li><a href=#4-ì—°ì‚°ëŸ‰-ê°ì†Œ-íš¨ê³¼><strong>(4) ì—°ì‚°ëŸ‰ ê°ì†Œ íš¨ê³¼</strong></a></li></ul></li><li><a href=#4-ê²°ë¡ -deepseekmoeì˜-êµ¬ì¡°ì -ì´ì -ë°-ì„±ëŠ¥-í–¥ìƒì˜-í•µì‹¬-ì›ì¸><strong>4. ê²°ë¡ : DeepSeekMoEì˜ êµ¬ì¡°ì  ì´ì  ë° ì„±ëŠ¥ í–¥ìƒì˜ í•µì‹¬ ì›ì¸</strong></a></li></ul><ul><li><a href=#deepseekmoeì˜-routing-algorithm-ê¸°ì¡´-moe-ëª¨ë¸ê³¼ì˜-ì°¨ì´ì -ë°-ì„±ëŠ¥-í–¥ìƒì˜-ì´ìœ ><strong>DeepSeekMoEì˜ Routing Algorithm: ê¸°ì¡´ MoE ëª¨ë¸ê³¼ì˜ ì°¨ì´ì  ë° ì„±ëŠ¥ í–¥ìƒì˜ ì´ìœ </strong></a></li><li><a href=#1-ê¸°ì¡´-moe-ëª¨ë¸gshard-switch-transformerì˜-routing-algorithm><strong>1. ê¸°ì¡´ MoE ëª¨ë¸(GShard, Switch Transformer)ì˜ Routing Algorithm</strong></a><ul><li><a href=#-1-ê¸°ì¡´-moe-ëª¨ë¸ì˜-ì „ë¬¸ê°€-ì„ íƒ-ë°©ì‹><strong>ğŸ“Œ (1) ê¸°ì¡´ MoE ëª¨ë¸ì˜ ì „ë¬¸ê°€ ì„ íƒ ë°©ì‹</strong></a></li><li><a href=#-2-ê¸°ì¡´-moe-ëª¨ë¸ì˜-ë¬¸ì œì ><strong>ğŸ“Œ (2) ê¸°ì¡´ MoE ëª¨ë¸ì˜ ë¬¸ì œì </strong></a></li></ul></li><li><a href=#2-deepseekmoeì˜-routing-algorithm-ë”-ì„¸ë°€í•œ-ì „ë¬¸ê°€-ì¡°í•©-í™œìš©><strong>2. DeepSeekMoEì˜ Routing Algorithm: ë” ì„¸ë°€í•œ ì „ë¬¸ê°€ ì¡°í•© í™œìš©</strong></a><ul><li><a href=#-1-deepseekmoeì˜-ì „ë¬¸ê°€-ì„ íƒ-ë°©ì‹><strong>ğŸ“Œ (1) DeepSeekMoEì˜ ì „ë¬¸ê°€ ì„ íƒ ë°©ì‹</strong></a></li><li><a href=#-2-ì˜ˆì œ-ë¹„êµ><strong>ğŸ“Œ (2) ì˜ˆì œ ë¹„êµ</strong></a></li></ul></li><li><a href=#3-deepseekmoeì˜-routing-algorithmì´-ê³„ì‚°ëŸ‰-ê°ì†Œ-ë°-ì„±ëŠ¥-í–¥ìƒì—-ê¸°ì—¬í•˜ëŠ”-ì´ìœ ><strong>3. DeepSeekMoEì˜ Routing Algorithmì´ ê³„ì‚°ëŸ‰ ê°ì†Œ ë° ì„±ëŠ¥ í–¥ìƒì— ê¸°ì—¬í•˜ëŠ” ì´ìœ </strong></a><ul><li><a href=#-1-ê³„ì‚°ëŸ‰-ê°ì†Œ-íš¨ê³¼><strong>ğŸ“Œ (1) ê³„ì‚°ëŸ‰ ê°ì†Œ íš¨ê³¼</strong></a></li><li><a href=#-2-ì„±ëŠ¥-í–¥ìƒ-íš¨ê³¼><strong>ğŸ“Œ (2) ì„±ëŠ¥ í–¥ìƒ íš¨ê³¼</strong></a></li></ul></li><li><a href=#4-ê²°ë¡ -deepseekmoeì˜-routing-algorithmì´-ê°€ì§€ëŠ”-ì°¨ë³„ì ><strong>4. ê²°ë¡ : DeepSeekMoEì˜ Routing Algorithmì´ ê°€ì§€ëŠ” ì°¨ë³„ì </strong></a></li></ul><ul><li><a href=#deepseekmoeì˜-fine-tuninginstruction-tuning-rlhf-ê³¼ì •ì—ì„œì˜-ì¥ë‹¨ì -ë°-í•´ê²°-ë°©ì•ˆ><strong>DeepSeekMoEì˜ Fine-Tuning(Instruction Tuning, RLHF) ê³¼ì •ì—ì„œì˜ ì¥ë‹¨ì  ë° í•´ê²° ë°©ì•ˆ</strong></a></li><li><a href=#1-deepseekmoeì˜-fine-tuning-ê³¼ì •ì—ì„œì˜-ì¥ì ê³¼-ë‹¨ì ><strong>1. DeepSeekMoEì˜ Fine-Tuning ê³¼ì •ì—ì„œì˜ ì¥ì ê³¼ ë‹¨ì </strong></a><ul><li><a href=#-1-fine-tuning-ì‹œ-deepseekmoeì˜-ì¥ì ><strong>ğŸ“Œ (1) Fine-Tuning ì‹œ DeepSeekMoEì˜ ì¥ì </strong></a></li><li><a href=#-2-fine-tuning-ì‹œ-deepseekmoeì˜-ë‹¨ì ><strong>ğŸ“Œ (2) Fine-Tuning ì‹œ DeepSeekMoEì˜ ë‹¨ì </strong></a></li></ul></li><li><a href=#2-fine-tuning-ì‹œ-ì „ë¬¸ê°€-ì„ íƒ-ë¶ˆì•ˆì •ì„±-ë¬¸ì œ-í•´ê²°ì„-ìœ„í•œ-ê¸°ë²•><strong>2. Fine-Tuning ì‹œ ì „ë¬¸ê°€ ì„ íƒ ë¶ˆì•ˆì •ì„± ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ ê¸°ë²•</strong></a><ul><li><a href=#-1-expert-freezing-ì „ë¬¸ê°€-ê³ ì •-ê¸°ë²•><strong>ğŸ“Œ (1) Expert Freezing (ì „ë¬¸ê°€ ê³ ì •) ê¸°ë²•</strong></a></li><li><a href=#-2-lora-low-rank-adaptation-ê¸°ë°˜-fine-tuning><strong>ğŸ“Œ (2) LoRA (Low-Rank Adaptation) ê¸°ë°˜ Fine-Tuning</strong></a></li><li><a href=#-3-routing-regularization-loss-ì ìš©><strong>ğŸ“Œ (3) Routing Regularization Loss ì ìš©</strong></a></li></ul></li><li><a href=#3-ê²°ë¡ -deepseekmoeì˜-fine-tuning-ì„±ëŠ¥-í–¥ìƒì„-ìœ„í•œ-ì¶”ê°€-ì—°êµ¬-í•„ìš”><strong>3. ê²°ë¡ : DeepSeekMoEì˜ Fine-Tuning ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•œ ì¶”ê°€ ì—°êµ¬ í•„ìš”</strong></a></li></ul></nav></div></nav></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground text-center text-xs"><span>ì œëª©ì„ í´ë¦­í•˜ë©´ í•´ë‹¹ ìœ„ì¹˜ë¡œ ì´ë™í•©ë‹ˆë‹¤</span></div></div></div></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css integrity=sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js integrity=sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous></script><script>function initKaTeX(){if(typeof renderMathInElement=="undefined"){setTimeout(initKaTeX,100);return}var e=[{display:!0,left:"$$",right:"$$"},{display:!1,left:"$",right:"$"}];renderMathInElement(document.body,{delimiters:e,throwOnError:!1,errorColor:"#cc0000",fleqn:!1,leqno:!1,trust:!1})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initKaTeX):initKaTeX()</script><div id=search-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 transition-opacity duration-300"></div><div id=search-modal class="bg-card border-border pointer-events-none fixed top-1/2 left-1/2 z-50 max-h-[80vh] w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 scale-95 transform overflow-hidden rounded-xl border opacity-0 shadow-xl transition-all duration-300"><div class="border-border flex items-center gap-3 border-b p-4"><div class="text-muted-foreground h-5 w-5 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><div class="relative flex-1"><button id=search-clear class="text-muted-foreground hover:text-foreground hover:bg-muted/50 pointer-events-none absolute top-1/2 left-0 z-10 h-5 w-5 -translate-y-1/2 rounded opacity-0 transition-all duration-200" title=ì§€ìš°ê¸° aria-label=ì§€ìš°ê¸°>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg>
</button>
<input id=search-input type=text placeholder="ê²Œì‹œê¸€ ê²€ìƒ‰..." class="text-foreground placeholder:text-muted-foreground w-full border-none bg-transparent pl-8 text-lg outline-none" autocomplete=off spellcheck=false></div><button id=search-close class="text-muted-foreground hover:text-foreground hover:bg-muted/50 flex h-6 w-6 items-center justify-center rounded-md p-0.5 transition-all duration-200" title=ë‹«ê¸° aria-label=ë‹«ê¸°>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div id=search-results class="max-h-96 overflow-y-auto"><div id=search-empty class="flex flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">ê²€ìƒ‰ ì‹œì‘</h3><p class="text-muted-foreground text-sm">ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”</p></div><div id=search-loading class="flex hidden items-center justify-center py-8"><div class="mr-3 h-6 w-6 animate-spin rounded-full border-2 border-current border-t-transparent"></div><span class=text-muted-foreground>ê²€ìƒ‰ ì¤‘...</span></div><div id=search-no-results class="flex hidden flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ</h3><p class="text-muted-foreground text-sm">ë‹¤ë¥¸ ê²€ìƒ‰ì–´ë¡œ ì‹œë„í•´ë³´ì„¸ìš”</p></div><div id=search-results-list class=hidden><div id=search-stats class="text-muted-foreground border-border border-b px-4 py-3 text-sm" data-template="%dê°œì˜ ê²°ê³¼ ì°¾ìŒ"></div><div id=search-items class="divide-border divide-y"></div></div></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground flex items-center justify-between text-xs"><div class="flex items-center gap-2 md:gap-4"><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">â†‘â†“</kbd>
<span class="hidden sm:inline">ì´ë™</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">â†µ</kbd>
<span class="hidden sm:inline">ì„ íƒ</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">ESC</kbd>
<span class="hidden sm:inline">ë‹«ê¸°</span></div></div><div class="search-hint-desktop flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">âŒ˜K</kbd>
<span>ë‹¨ì¶•í‚¤</span></div></div></div></div></body></html>