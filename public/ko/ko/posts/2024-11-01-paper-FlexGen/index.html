<!doctype html><html lang=ko-kr data-theme=claude><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>FlexGen High-Throughput Generative Inference of Large Language Models with a Single GPU | Jaehun's Blog</title><meta name=description content="논문 : https://arxiv.org/abs/2303.06865
개인의견 : 타겟은 다르지만 deepspeed(zero) 오프로딩을 한다는 측면에서는 비슷한 느낌을 받았다 그리고 정말 높은 throughtput을 위해서 quantization과 선형계획법으로 효율적..."><meta name=keywords content="개발,프로그래밍,에세이"><meta name=author content><meta name=language content="ko"><meta name=robots content="index, follow"><link rel=canonical href=https://jaehun.me/ko/ko/posts/2024-11-01-paper-FlexGen/><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://jaehun.me/ko/ko/posts/2024-11-01-paper-FlexGen/"><meta property="og:site_name" content="Jaehun's Blog"><meta property="og:title" content="FlexGen High-Throughput Generative Inference of Large Language Models with a Single GPU"><meta property="og:description" content="논문 : https://arxiv.org/abs/2303.06865
개인의견 : 타겟은 다르지만 deepspeed(zero) 오프로딩을 한다는 측면에서는 비슷한 느낌을 받았다 그리고 정말 높은 throughtput을 위해서 quantization과 선형계획법으로 효율적으로 디바이스 사용을 가능하게 하는 방법으로 보인다. 다만 한계점으로 말하듯 TTFT(Time to First Token)가 증가하거나 quantization으로 인한 에러가 발생할 수 있는 구조로 생각이 된다."><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="ko"><meta property="article:published_time" content="2024-11-01T00:00:00+00:00"><meta property="article:modified_time" content="2024-11-01T00:00:00+00:00"><meta property="og:image" content="https://jaehun.me/images/og-default.avif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jaehun.me/images/og-default.avif"><meta name=twitter:title content="FlexGen High-Throughput Generative Inference of Large Language Models with a Single GPU"><meta name=twitter:description content="논문 : https://arxiv.org/abs/2303.06865
개인의견 : 타겟은 다르지만 deepspeed(zero) 오프로딩을 한다는 측면에서는 비슷한 느낌을 받았다 그리고 정말 높은 throughtput을 위해서 quantization과 선형계획법으로 효율적으로 디바이스 사용을 가능하게 하는 방법으로 보인다. 다만 한계점으로 말하듯 TTFT(Time to First Token)가 증가하거나 quantization으로 인한 에러가 발생할 수 있는 구조로 생각이 된다."><meta itemprop=name content="FlexGen High-Throughput Generative Inference of Large Language Models with a Single GPU"><meta itemprop=description content="논문 : https://arxiv.org/abs/2303.06865
개인의견 : 타겟은 다르지만 deepspeed(zero) 오프로딩을 한다는 측면에서는 비슷한 느낌을 받았다 그리고 정말 높은 throughtput을 위해서 quantization과 선형계획법으로 효율적으로 디바이스 사용을 가능하게 하는 방법으로 보인다. 다만 한계점으로 말하듯 TTFT(Time to First Token)가 증가하거나 quantization으로 인한 에러가 발생할 수 있는 구조로 생각이 된다."><meta itemprop=datePublished content="2024-11-01T00:00:00+00:00"><meta itemprop=dateModified content="2024-11-01T00:00:00+00:00"><meta itemprop=wordCount content="8266"><meta itemprop=image content="https://jaehun.me/images/og-default.avif"><meta itemprop=keywords content="Paper-Review,With-Gpt"><script>window.HUGO_SEARCH_CONFIG={searchIndexURL:'"/ko/index.json"'}</script><script>window.HUGO_GALLERY_CONFIG={justified_gallery:!1,lightbox:!1,justified:"{}",lightbox_options:"{}"}</script><link rel=stylesheet href=/css/compiled.min.9165cace5b80a5be5daad6ea96eb2abc20a18a3f41d7fed7f0335b689fdf7883.css integrity="sha256-kWXKzluApb5dqtbqlusqvCChij9B1/7X8DNbaJ/feIM=" crossorigin=anonymous><link rel=stylesheet href=/css/chroma.min.491df36221f739b5948a747a0351f100ee7ccaaf466d9f46288bf06de1d59123.css integrity="sha256-SR3zYiH3ObWUinR6A1HxAO58yq9GbZ9GKIvwbeHVkSM=" crossorigin=anonymous><script src=/js/main.ba969e49a7a874e6938fe689a7dcaa00cb64cb4d429c2cf98d09bde512a16c6d.js integrity="sha256-upaeSaeodOaTj+aJp9yqAMtky01CnCz5jQm95RKhbG0=" crossorigin=anonymous></script><script src=/js/gumshoe.polyfills.min.js></script><script src=/js/toc.70654aebf0b738a78ae2df95297cc10ebc6e590f3c942dd1325fa852f50038b2.js integrity="sha256-cGVK6/C3OKeK4t+VKXzBDrxuWQ88lC3RMl+oUvUAOLI=" crossorigin=anonymous defer></script><script src=/js/search.de3eba3540834efb8328121784bff4774e06362412ee41eee665f5b4f987f393.js integrity="sha256-3j66NUCDTvuDKBIXhL/0d04GNiQS7kHu5mX1tPmH85M=" crossorigin=anonymous defer></script><script src=/js/dock.e02f422517e001d9fb6bea1e9e8b0e89e9d2e486ad4641f275bb3e36ce2ae79f.js integrity="sha256-4C9CJRfgAdn7a+oenosOienS5IatRkHydbs+Ns4q558=" crossorigin=anonymous defer></script><script>(function(){const e=localStorage.getItem("theme")||"system",n=localStorage.getItem("colorScheme")||"claude";document.documentElement.setAttribute("data-theme",n);function t(){e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}t(),e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t)})()</script></head><body class="bg-background text-foreground min-h-screen antialiased"><div id=reading-progress-container class="reading-progress-container pointer-events-none fixed top-0 right-0 left-0 z-50 transition-opacity duration-300 ease-out" data-height=3 data-smooth-scroll=true data-hide-on-complete=false><div class="reading-progress-bg w-full"></div><div id=reading-progress-bar class="from-primary to-primary/80 reading-progress-bar
transition-all duration-150 ease-out
absolute top-0 left-0 w-0 bg-gradient-to-r"></div></div><script>(function(){"use strict";const t=document.getElementById("reading-progress-container"),o=document.getElementById("reading-progress-bar");if(!t||!o)return;const a={smoothScroll:t.dataset.smoothScroll==="true",hideOnComplete:t.dataset.hideOnComplete==="true"};let n=!0,l=null;function r(){const t=window.pageYOffset||document.documentElement.scrollTop,n=document.documentElement.scrollHeight,s=window.innerHeight,e=n-s;return e<=0?0:Math.min(Math.max(t/e*100,0),100)}function c(){const e=r();o.style.width=e+"%",a.hideOnComplete&&e>=99.5?n&&(t.style.opacity="0",n=!1):n||(t.style.opacity="1",n=!0)}let s=!1;function e(){s||(requestAnimationFrame(()=>{c(),s=!1}),s=!0)}function i(){window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),document.addEventListener("visibilitychange",()=>{document.hidden||e()}),e(),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()})()</script><header class="sticky top-0 z-50 mx-auto max-w-4xl px-4 py-6"><div class="border-border bg-card/80 flex items-center rounded-xl border px-6 py-4 shadow-sm backdrop-blur-sm"><div class="hidden w-full items-center md:flex"><div class="flex items-center"><a href=/ko/ class="flex h-10 w-10 items-center justify-center overflow-hidden rounded-full transition-transform duration-200 hover:scale-105" aria-label="Jaehun's Blog"><img src=/images/logo.svg alt="Jaehun's Blog" class="h-full w-full object-cover"></a></div><nav class="mx-8 flex flex-1 items-center justify-center"><div class="flex items-center space-x-1"><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.posts"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>게시글
</span></a><a href=/ko/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.categories"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>카테고리
</span></a><a href=/ko/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.tags"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>태그
</span></a><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.archives"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>아카이브</span></a></div></nav><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="언어 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="언어 변경"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=/ko/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>한국어</span></a><a href=/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>English</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="테마 변경"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span>라이트</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg><span>다크</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg><span>시스템</span></button></div></div></div></div><div class="flex w-full items-center justify-between md:hidden"><div class=relative><button id=mobile-menu-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:bg-accent hover:text-foreground flex h-10 w-10 items-center justify-center rounded-lg border transition-colors duration-200" data-dropdown-type=mobile-menu aria-label=메뉴 aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="메뉴"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button><div id=mobile-menu class="mobile-menu dropdown-menu border-border bg-popover/95 absolute top-12 left-0 z-[60] hidden w-80 max-w-[calc(100vw-2rem)] rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out md:hidden" data-dropdown-type=mobile-menu role=menu aria-labelledby=mobile-menu-toggle><nav class="flex flex-col"><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.posts"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>게시글
</span></a><a href=/ko/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.categories"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>카테고리
</span></a><a href=/ko/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.tags"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>태그
</span></a><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.archives"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>아카이브</span></a></nav></div></div><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="언어 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="언어 변경"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=/ko/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>한국어</span></a><a href=/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>English</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="테마 변경"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span>라이트</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg><span>다크</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg><span>시스템</span></button></div></div></div></div></div></header><main class="mx-auto max-w-4xl px-4 py-6"><nav class="breadcrumb mb-4 md:mb-6 py-1" aria-label=경로><ol class="text-muted-foreground flex items-center space-x-1 md:space-x-2 text-sm overflow-x-auto whitespace-nowrap scrollbar-hide py-1"><li class=flex-shrink-0><a href=/ko/ class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02]"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="홈"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m3 12 2-2m0 0 7-7 7 7M5 10v10a1 1 0 001 1h3m10-11 2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
<span class="max-w-[4rem] md:max-w-none truncate">홈</span></a></li><li class="flex items-center gap-1 md:gap-2 min-w-0"><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span><div class="flex items-center gap-1 md:gap-2 min-w-0"><a href=/ko class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02] flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5A2 2 0 003 7z"/></svg>
<span class="max-w-[4rem] md:max-w-none truncate">Ko</span>
</a><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span>
<span class="text-foreground flex items-center gap-0.5 md:gap-1 font-medium min-w-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
<span class="max-w-[8rem] md:max-w-[16rem] lg:max-w-none truncate">FlexGen High-Throughput Generative Inference of Large Language Models with a Single GPU</span></span></div></li></ol></nav><header class=mb-8><h1 class="text-foreground mb-4 text-3xl font-bold md:text-4xl">FlexGen High-Throughput Generative Inference of Large Language Models with a Single GPU</h1></header><article class="prose prose-neutral dark:prose-invert max-w-none"><p>논문 : <a href=https://arxiv.org/abs/2303.06865>https://arxiv.org/abs/2303.06865</a></p><p>개인의견 : 타겟은 다르지만 deepspeed(zero) 오프로딩을 한다는 측면에서는 비슷한 느낌을 받았다 그리고 정말 높은 throughtput을 위해서 quantization과 선형계획법으로 효율적으로 디바이스 사용을 가능하게 하는 방법으로 보인다. 다만 한계점으로 말하듯 TTFT(Time to First Token)가 증가하거나 quantization으로 인한 에러가 발생할 수 있는 구조로 생각이 된다.</p><p>아래글은 Scholar GPT와 대화를 나눈 내용입니다.</p><h1 id=q--논문의-핵심-내용과-강점-알고리즘-설명-그리고-한계점>Q : 논문의 핵심 내용과 강점, 알고리즘 설명, 그리고 한계점</h1><h1 id=answer->Answer :</h1><p>논문 **&ldquo;FlexGen: High-Throughput Generative Inference of Large Language Models with a Single GPU&rdquo;**는 단일 GPU와 같은 제한된 하드웨어 자원으로 대형 언어 모델(LLM)의 추론 성능을 극대화하는 혁신적인 접근법을 제시합니다. 주요 강점과 독창적인 아이디어, 핵심 알고리즘 설명 및 논문의 한계점을 요약해 드리겠습니다.</p><h3 id=강점과-독창성>강점과 독창성</h3><ol><li><p><strong>자원 효율적 활용</strong>: FlexGen은 대규모 멀티 GPU 설정에 의존하는 기존 방식과 달리 단일 GPU에서도 CPU와 디스크 자원을 활용하여 고성능을 달성할 수 있도록 설계되었습니다. 이를 통해 제한된 하드웨어 환경에서도 대형 모델을 적용할 수 있게 되어 접근성이 확대됩니다.</p></li><li><p><strong>혁신적인 오프로드 및 압축 기법</strong>: 이 논문에서는 GPU, CPU, 디스크의 삼중 메모리 계층을 사용하여 효율적인 오프로드 전략을 소개합니다. FlexGen은 각 메모리 계층에 텐서를 저장하고 불러오는 최적화된 방식을 사용하여 성능을 극대화합니다. 또한, 가중치와 주의(attention) 캐시를 4비트로 압축하여 메모리 사용량을 줄이고 처리 속도를 높이면서 정확성 저하를 최소화하는 혁신적인 기술을 도입했습니다.</p></li><li><p><strong>대규모 배치 처리 가능</strong>: FlexGen은 블록 스케줄링(block scheduling) 기법을 사용하여 모델 가중치를 여러 배치에 재사용함으로써 불필요한 I/O 연산을 줄이고 GPU의 활용도를 향상시킵니다. 이를 통해 기존 오프로드 시스템 대비 훨씬 높은 배치 크기와 처리량을 달성합니다.</p></li><li><p><strong>선형 계획법을 통한 최적 스케줄링</strong>: 다양한 하드웨어 구성에서 처리량과 대기 시간을 균형 있게 조정하기 위해 FlexGen은 선형 계획 기반의 접근 방식을 활용하여 연산 자원의 최적 스케줄링을 결정합니다.</p></li></ol><h3 id=핵심-알고리즘-예시-입력과-과정-설명>핵심 알고리즘: 예시 입력과 과정 설명</h3><p>FlexGen 알고리즘은 LLM 추론 과정에서 <strong>프리필(prefill)</strong> 단계와 <strong>디코딩(decode)</strong> 단계로 나누어집니다. 예시 입력을 사용하여 전체 과정을 설명해 보겠습니다.</p><h4 id=예시-입력>예시 입력</h4><p>&ldquo;Explain the benefits of single GPU optimization in AI models"라는 입력 프롬프트를 예시로 들어보겠습니다.</p><ol><li><p><strong>프리필 단계</strong>:</p><ul><li><strong>입력 처리</strong>: 프롬프트 &ldquo;Explain the benefits&mldr;&ldquo;를 토큰화하여 입력 시퀀스를 생성합니다.</li><li><strong>캐시 생성</strong>: 각 트랜스포머 계층에 대해 이 토큰들의 키-값(KV) 캐시를 계산하고 저장합니다. FlexGen은 선형 계획법을 이용해 메모리 배치를 최적화하고, 필요 시 GPU가 아닌 CPU나 디스크에 KV 캐시를 저장하여 메모리 효율을 높입니다.</li></ul></li><li><p><strong>디코딩 단계</strong>:</p><ul><li><strong>토큰 생성</strong>: 각 토큰이 생성될 때마다 이전에 계산된 KV 캐시를 가져와 업데이트하고, 다음 토큰을 생성합니다. FlexGen의 블록 스케줄링 기법 덕분에 각 계층의 가중치가 여러 배치에 재사용되어 I/O 연산을 줄입니다.</li><li><strong>효율적 스케줄링</strong>: 블록 스케줄링을 통해 가중치와 캐시를 필요할 때만 불러와 사용함으로써 큰 배치 크기를 지원하며 처리량을 극대화합니다.</li></ul></li><li><p><strong>압축</strong>:</p><ul><li><strong>4비트 양자화(Quantization)</strong>: FlexGen은 모델 가중치와 캐시 메모리를 4비트 형식으로 압축하여 메모리 사용량을 줄입니다. 예를 들어, 16비트였던 가중치를 4비트로 변환해 메모리를 절약하고 CPU 메모리에 여러 계층을 유지하여 느린 디스크 접근을 줄이고, 토큰 처리 속도를 높입니다.</li></ul></li></ol><h3 id=한계점>한계점</h3><ol><li><p><strong>대기 시간 한계</strong>: FlexGen은 높은 처리량을 제공하지만, 이는 대기 시간이 증가함을 의미하기도 합니다. 따라서 FlexGen은 대기 시간이 중요한 실시간 애플리케이션에는 적합하지 않으며, 대량의 데이터 처리를 필요로 하는 배치 작업에 더 적합합니다.</p></li><li><p><strong>하드웨어 의존성</strong>: FlexGen은 단일 GPU에서 동작하지만, 상당한 CPU 메모리와 SSD 스토리지를 요구합니다. 디스크 I/O 속도가 낮거나 CPU 메모리가 부족한 시스템에서는 성능이 제한될 수 있습니다.</p></li><li><p><strong>구성의 복잡성</strong>: FlexGen의 최적 성능을 위해 메모리 계층별 비율이나 텐서 배치와 같은 여러 구성 변수를 조정해야 합니다. 이러한 세부 설정이 자동화되지 않아 기술 지식이 부족한 사용자에게는 최적 성능을 내기 어려울 수 있습니다.</p></li><li><p><strong>모델과 작업 유형에 따른 제한</strong>: 이 논문은 주로 OPT-175B 모델과 고처리량, 저지연 작업을 다룹니다. FlexGen의 다른 LLM 구조(GPT-3, PaLM 등)와 다양한 작업 유형에 대한 적응성을 충분히 검증하는 연구가 추가적으로 필요합니다.</p></li></ol><p>요약하면, <strong>FlexGen</strong>은 제한된 하드웨어 환경에서 LLM 추론을 수행하기 위한 매우 효과적인 시스템으로, 혁신적인 오프로드 및 압축 기법을 통해 단일 GPU 설정에서도 뛰어난 성능을 제공합니다. 하지만 이 시스템은 주로 배치 중심의 대량 작업에 적합하며, 실시간 응답이 중요한 애플리케이션에는 다소 제약이 있습니다.</p><h1 id=q--블록-스케줄링block-scheduling-에-대한-자세한-설명을-비롯하여-선형계획법을-어떠한-방식으로-사용하여-메모리-효율을-높이는지를-자세하게-예시를-들어서-설명해줘>Q : 블록 스케줄링(block scheduling) 에 대한 자세한 설명을 비롯하여 선형계획법을 어떠한 방식으로 사용하여 메모리 효율을 높이는지를 자세하게 예시를 들어서 설명해줘</h1><h1 id=answer--1>Answer :</h1><h3 id=블록-스케줄링block-scheduling>블록 스케줄링(Block Scheduling)</h3><p>FlexGen의 **블록 스케줄링(block scheduling)**은 GPU 메모리가 부족한 상황에서 대용량 배치(batch) 처리를 최적화하는 핵심 전략입니다. 블록 스케줄링을 통해 모델의 가중치(weights)를 GPU에 효율적으로 적재하고 재사용할 수 있어, 불필요한 데이터 이동을 줄이고 처리량(throughput)을 극대화합니다.</p><h4 id=블록-스케줄링의-핵심-아이디어>블록 스케줄링의 핵심 아이디어</h4><p>블록 스케줄링은 GPU, CPU, 디스크의 메모리 계층을 활용하여 입력 토큰의 생성 과정을 최적화합니다. FlexGen은 GPU에 메모리가 충분하지 않을 경우, 일부 가중치와 데이터를 CPU나 디스크에 분산시켜 저장합니다. 이를 통해 자원을 효율적으로 사용할 수 있습니다.</p><ol><li><p><strong>블록 단위 처리</strong>:</p><ul><li>블록 스케줄링은 여러 계층(layer)의 가중치를 블록 단위로 처리하여 필요한 메모리 사용량을 줄입니다.</li><li>예를 들어, 10개 계층이 필요한 작업을 처리할 때, 모든 계층을 한 번에 처리하지 않고 일정 크기의 블록으로 나누어 가중치를 로드하고, 해당 블록이 끝나면 다시 메모리에서 해제합니다.</li><li>각 블록 내에서 필요한 가중치와 캐시가 GPU에 로드되며, 한 번 로드된 가중치는 블록 내에서 여러 번 사용됩니다.</li></ul></li><li><p><strong>Zig-Zag 스케줄링</strong>:</p><ul><li>FlexGen에서는 &ldquo;zig-zag&rdquo; 방식의 블록 스케줄링을 채택해 I/O 부담을 줄입니다. 이는 데이터 흐름이 행(row)과 열(column)을 교차하며 진행되게 하여, 한 번 GPU에 로드된 데이터가 재사용될 수 있도록 구성합니다.</li><li>가중치 로드 시, 한 블록의 연산이 완료될 때까지 가중치를 GPU에 유지하고 필요할 때 CPU나 디스크에서 로드하는 방식으로 I/O 최적화를 도모합니다.</li></ul></li></ol><h4 id=예시>예시</h4><p>예를 들어, 512개의 입력 시퀀스를 10개의 계층으로 처리한다고 가정합니다. 전체 10개 계층을 동시에 GPU에 로드하는 것이 아니라, 5개의 계층씩 나누어 블록을 구성합니다. 각 블록이 GPU에 로드될 때, 해당 블록 내에서 반복적으로 활용되며, 불필요한 I/O 연산을 줄입니다.</p><h3 id=선형-계획법을-통한-최적화>선형 계획법을 통한 최적화</h3><p>FlexGen은 **선형 계획법(linear programming)**을 통해 각 계층의 텐서(가중치, 활성화 값, 캐시)를 어느 메모리 계층(GPU, CPU, 디스크)에 배치할지 결정하여 메모리 효율을 극대화합니다.</p><h4 id=선형-계획법-적용-방식>선형 계획법 적용 방식</h4><p>선형 계획법은 주어진 조건에서 메모리 사용량을 최적화하면서 필요한 연산을 처리하는 가장 효율적인 방법을 찾는 데 사용됩니다. FlexGen에서는 선형 계획법을 통해 다음과 같은 매개변수를 조정합니다.</p><ol><li><p><strong>메모리 배치 변수 정의</strong>:</p><ul><li>FlexGen은 텐서의 배치 위치를 GPU, CPU, 디스크 중 어느 메모리 계층에 배치할지 결정하는 변수를 정의합니다.</li><li>예를 들어, ( wg, wc, wd )는 가중치(weights)가 GPU, CPU, 디스크 각각에 배치될 비율을 나타내며, ( hg, hc, hd )는 활성화 값(activations), ( cg, cc, cd )는 KV 캐시(cache)의 배치를 나타냅니다.</li><li>각 변수는 ( wg + wc + wd = 1 )과 같은 제약 조건을 충족해야 합니다.</li></ul></li><li><p><strong>비용 모델 생성</strong>:</p><ul><li>각 연산의 비용(메모리 사용량, I/O 시간)을 예측하는 모델을 만들어, 특정 설정에서 소요되는 총 시간과 메모리 사용량을 예측합니다.</li><li>예를 들어, GPU와 CPU 간의 I/O 대역폭과 디스크 읽기/쓰기 속도를 기반으로 데이터를 이동하는 데 소요되는 시간을 추정하고, 이를 통해 최적의 배치를 찾습니다.</li></ul></li><li><p><strong>최적화 목표</strong>:</p><ul><li>목표는 주어진 GPU 메모리, CPU 메모리, 디스크 공간을 초과하지 않으면서 처리 시간(latency)을 최소화하고, 블록 크기와 GPU 배치 크기를 최적화하는 것입니다.</li><li>이를 위해 FlexGen은 최적화 문제를 다음과 같이 수립합니다.</li></ul></li></ol><p>$$
\text{minimize } \quad T = T_{\text{pre}} \cdot l + T_{\text{gen}} \cdot (n - 1) \cdot l
$$</p><p>여기서 ( T_{\text{pre}} )와 ( T_{\text{gen}} )은 각각 프리필과 디코딩 단계에서 레이어 당 소요 시간입니다. 이때 제약 조건으로는 GPU, CPU, 디스크 메모리 용량을 초과하지 않도록 설정하며, 각 계층별로 메모리 사용률을 고려하여 배치를 최적화합니다.</p><h4 id=예시-선형-계획법을-통한-메모리-배치-결정>예시: 선형 계획법을 통한 메모리 배치 결정</h4><ol><li><p><strong>가정</strong>:</p><ul><li>모델 가중치는 16GB GPU에 모두 적재할 수 없고, 일부는 CPU나 디스크에 저장해야 하는 상황입니다.</li><li>CPU는 208GB RAM, 디스크는 1.5TB SSD를 가지고 있습니다.</li></ul></li><li><p><strong>선형 계획 문제 설정</strong>:</p><ul><li>GPU에 로드할 가중치의 비율을 ( wg ), CPU에 저장할 비율을 ( wc ), 디스크에 저장할 비율을 ( wd )로 정의합니다. 모든 비율이 합쳐져 1이 되어야 합니다.</li><li>비용 모델을 통해 각 배치 선택에 따른 메모리 사용량과 I/O 시간을 계산하고, 최적의 ( wg ), ( wc ), ( wd ) 값을 찾습니다.</li></ul></li><li><p><strong>최적 해 탐색</strong>:</p><ul><li>FlexGen은 여러 조합을 탐색하여 GPU 메모리 사용량을 최대한 활용하면서도 처리 시간을 최소화하는 구성을 찾습니다. 예를 들어, GPU에는 가장 자주 사용되는 가중치의 30%를 배치하고, 나머지 70%는 CPU와 디스크에 분산시켜 I/O 횟수를 줄이는 방식으로 최적화를 달성할 수 있습니다.</li></ul></li></ol><h3 id=정리>정리</h3><p><strong>블록 스케줄링과 선형 계획법</strong>을 결합하여 FlexGen은 메모리와 I/O 자원을 효율적으로 배치하고 재사용하여, 대규모 모델을 단일 GPU에서 고속으로 실행할 수 있도록 최적화합니다. 이를 통해 FlexGen은 기존 시스템 대비 훨씬 큰 배치 크기를 지원하며, 처리량을 극대화할 수 있습니다.</p><h1 id=q--논문에서-어떠한-기준으로-quantization을-수행하는지-자세하게-설명해줄-수-있니>Q : 논문에서 어떠한 기준으로 quantization을 수행하는지 자세하게 설명해줄 수 있니?</h1><h1 id=answer--2>Answer :</h1><p>FlexGen 논문에서 사용하는 <strong>양자화(Quantization)</strong> 방법은 주로 모델의 가중치(weights)와 키-값(KV) 캐시를 4비트로 압축하여 메모리 사용을 줄이고 I/O 비용을 낮추는 데 초점을 맞추고 있습니다. 이 방식은 정확도 저하를 최소화하면서도 메모리 효율을 극대화하기 위해 <strong>그룹 단위 비대칭 양자화(group-wise asymmetric quantization)</strong> 방법을 사용합니다.</p><h3 id=quantization-수행-기준-및-과정>Quantization 수행 기준 및 과정</h3><ol><li><p><strong>4비트 그룹 단위 양자화(4-bit Group-wise Quantization)</strong>:</p><ul><li>FlexGen은 가중치와 KV 캐시 데이터를 각각의 <strong>그룹</strong>으로 묶어, 해당 그룹의 데이터 범위를 이용해 4비트로 양자화합니다.</li><li>각 그룹 내에서 데이터의 최소값(min)과 최대값(max)을 계산하고, 이를 이용해 4비트 정수형(integer) 값으로 변환합니다. 이렇게 하면 데이터가 차지하는 메모리 공간을 4비트로 줄일 수 있습니다.</li></ul></li><li><p><strong>비대칭 양자화 방식</strong>:</p><ul><li>비대칭 양자화는 데이터의 분포에 따라 양자화 범위가 달라질 수 있는 방식입니다. 즉, 데이터의 최소값과 최대값을 사용하여 각 그룹을 동적으로 양자화합니다.</li><li>구체적으로, 각 그룹의 데이터를 특정 차원에 따라 그룹화하고, 해당 그룹 내의 모든 요소를 최솟값과 최댓값 사이의 값으로 압축합니다.</li><li>이 과정을 통해 각 요소 (x)는 다음 공식에 따라 양자화됩니다:
$$
x_{\text{quant}} = \text{round} \left( \frac{x - \text{min}}{\text{max} - \text{min}} \times (2^b - 1) \right)
$$
여기서 ( b = 4 )비트이고, 각 그룹 내에서 최소값과 최대값은 다를 수 있습니다. 이를 통해 데이터 범위를 각 그룹의 값 분포에 맞게 조정하여 압축 손실을 줄입니다.</li></ul></li><li><p><strong>그룹 크기 설정</strong>:</p><ul><li>FlexGen에서는 64개의 연속된 데이터 요소를 하나의 그룹으로 지정하여 그룹 단위로 양자화합니다. 이는 메모리 효율성과 연산 효율성 사이의 균형을 맞추기 위한 설정입니다.</li><li>가중치(weights)는 출력 채널(output channel) 차원으로 그룹화하고, KV 캐시는 숨김(hidden) 차원으로 그룹화하여 양자화합니다. 이를 통해 연산 시 최적의 성능을 유지하면서도 메모리 사용량을 줄입니다.</li></ul></li><li><p><strong>양자화 데이터의 디양자화(Dequantization)</strong>:</p><ul><li>FlexGen은 양자화된 데이터를 연산 전에 FP16(16비트 부동 소수점)으로 다시 변환합니다. 이 방식은 I/O 비용을 줄이기 위해 데이터 저장 시 양자화를 수행하되, 실제 연산 시 정확도를 높이기 위해 원래 형식에 가깝게 복원하는 과정을 거칩니다.</li><li>특히 CPU에서 양자화된 데이터의 압축과 해제를 처리할 경우 오버헤드가 발생할 수 있으므로, FlexGen은 이 과정에서 GPU를 활용하여 오버헤드를 최소화하고 CPU의 부담을 줄입니다.</li></ul></li></ol><h3 id=quantization의-주요-기준>Quantization의 주요 기준</h3><ol><li><p><strong>정확도 저하 최소화</strong>:</p><ul><li>FlexGen의 양자화 방법은 4비트로 데이터를 압축하면서도 모델의 성능 저하를 최소화하는 것을 목표로 합니다. 실험 결과, 4비트 양자화는 FP16 기반 연산과 유사한 수준의 성능을 유지합니다.</li><li>논문에서는 추가 실험을 통해 3비트 양자화를 시도했지만, 이 경우 정확도가 크게 떨어져 4비트가 적절한 수준임을 확인했습니다.</li></ul></li><li><p><strong>메모리 및 I/O 비용 절감</strong>:</p><ul><li>FlexGen은 4비트 양자화를 통해 메모리 및 I/O 비용을 대폭 절감합니다. 양자화된 데이터는 원본 대비 작은 크기로 CPU와 디스크에 저장되어, I/O 병목 현상을 줄입니다.</li><li>특히, 대형 모델(OPT-175B)에서는 가중치와 KV 캐시의 양자화로 인해 GPU 메모리 부족 문제를 해결하고, 처리 속도를 높이는 데 크게 기여합니다.</li></ul></li><li><p><strong>양자화 방식의 유연성</strong>:</p><ul><li>이 논문에서 제시한 양자화 방식은 다른 모델이나 하드웨어에도 적용이 가능하도록 유연하게 설계되었습니다. 다양한 모델 구조나 작업 환경에서도 성능 저하 없이 적용될 수 있는 범용적 양자화 기법으로, 다른 대형 언어 모델(예: GPT-3, PaLM)에도 쉽게 적용할 수 있습니다.</li></ul></li></ol><h3 id=요약>요약</h3><p>FlexGen에서 사용한 양자화 방식은 4비트 그룹 단위 비대칭 양자화로, 메모리 사용량을 줄이면서도 정확도 손실을 최소화하도록 설계되었습니다. 이 방식을 통해 FlexGen은 메모리 효율을 극대화하고, 제한된 하드웨어 자원에서 대형 모델의 추론 성능을 효과적으로 최적화합니다.</p><h1 id=q--zero-offload와-같은-논문과-이-논문을-비교해-줄-수-있을까>Q : zero offload와 같은 논문과 이 논문을 비교해 줄 수 있을까?</h1><p>물론입니다. FlexGen 논문과 <strong>DeepSpeed</strong>, <strong>Zero-Offload</strong>의 주요 기법을 비교하여 각 접근법이 대형 언어 모델(LLM) 추론에서 어떤 차이점과 강점을 가지는지 자세히 설명드리겠습니다. FlexGen, DeepSpeed, Zero-Offload 모두 <strong>대형 모델을 효율적으로 처리</strong>하기 위한 최적화 기법이지만, 각 기술은 목표와 사용 환경에서 차이가 있습니다.</p><h3 id=1-기본-목표-및-사용-시나리오>1. 기본 목표 및 사용 시나리오</h3><ul><li><p><strong>FlexGen</strong>: FlexGen은 <strong>단일 GPU에서 고처리량(throughput)을 달성</strong>하는 데 초점을 맞춘 시스템입니다. 특히 CPU와 디스크의 자원을 적극 활용하여 메모리 제약을 극복하고, 높은 배치(batch) 크기로 대규모 텍스트 생성과 같은 작업에서 효율성을 제공합니다. FlexGen은 저지연보다는 처리량에 중점을 둡니다.</p></li><li><p><strong>DeepSpeed</strong>: DeepSpeed는 <strong>모델 학습 및 추론의 효율성을 높이기 위해</strong> 여러 가지 최적화 기법을 제공하는 프레임워크입니다. 주로 다중 GPU 환경에서 모델 학습을 최적화하기 위한 목적으로 설계되었으며, ZeRO(Zero Redundancy Optimizer) 등의 기법을 포함하여 <strong>분산 학습을 통한 메모리 효율화</strong>와 <strong>속도 최적화</strong>를 목표로 합니다. 다양한 기법을 포함하고 있어 유연성이 뛰어납니다.</p></li><li><p><strong>Zero-Offload</strong>: Zero-Offload는 DeepSpeed의 ZeRO 최적화의 연장선에서 나온 기법으로, <strong>GPU와 CPU 메모리를 함께 사용하여 GPU 메모리 부족 문제를 해결</strong>하고 대형 모델의 학습 및 추론을 지원합니다. CPU에 모델의 일부를 오프로드함으로써 메모리 사용량을 줄이며, 특히 다중 GPU 환경에서 실시간 성능을 최적화하는 데 중점을 둡니다.</p></li></ul><h3 id=2-메모리-관리-및-오프로드-전략>2. 메모리 관리 및 오프로드 전략</h3><ul><li><p><strong>FlexGen의 삼중 메모리 계층 활용</strong>:</p><ul><li>FlexGen은 GPU, CPU, 디스크로 구성된 <strong>삼중 메모리 계층</strong>을 활용합니다. 특히, GPU에 모델의 모든 파라미터를 적재하지 않고, 일부는 CPU 또는 디스크로 오프로드하여 메모리 사용을 줄입니다.</li><li>**블록 스케줄링(block scheduling)**과 선형 계획법을 통해 GPU, CPU, 디스크의 메모리를 효율적으로 배치합니다. 이를 통해 메모리 제약이 있는 단일 GPU 환경에서도 대규모 배치 크기를 처리할 수 있습니다.</li></ul></li><li><p><strong>DeepSpeed의 ZeRO 메모리 최적화</strong>:</p><ul><li>DeepSpeed는 ZeRO 최적화 기술을 통해 GPU 간의 모델 파라미터를 분산하여 메모리 사용량을 줄입니다. ZeRO는 모델 파라미터, 옵티마이저 상태, 그래디언트를 여러 GPU에 분산시켜 각 GPU가 필요로 하는 메모리 양을 줄이는 방식으로 작동합니다.</li><li>또한, DeepSpeed는 offload 기능을 통해 CPU 및 NVMe SSD에 메모리를 분산시켜, <strong>GPU의 메모리 병목 현상을 해결</strong>합니다.</li></ul></li><li><p><strong>Zero-Offload의 CPU 오프로드 전략</strong>:</p><ul><li>Zero-Offload는 <strong>GPU 메모리가 부족한 경우 일부 모델 파라미터를 CPU로 오프로드</strong>하여 메모리 효율을 높입니다. 이때 GPU에서 필요한 데이터만 CPU로부터 가져와 실시간 처리에 필요한 연산을 수행합니다.</li><li>다중 GPU 환경에서 CPU의 메모리를 사용하여 각 GPU가 효율적으로 모델을 처리할 수 있도록 도와줍니다.</li></ul></li></ul><h3 id=3-압축-및-양자화quantization>3. 압축 및 양자화(Quantization)</h3><ul><li><p><strong>FlexGen</strong>: FlexGen은 **4비트 그룹 단위 양자화(group-wise quantization)**를 사용하여 메모리 사용량을 줄입니다. 주로 가중치와 KV 캐시를 양자화하여 I/O 비용과 메모리 요구량을 줄이는데, 이는 대규모 배치 작업에서 특히 유용합니다. FlexGen의 양자화 방식은 데이터 손실을 최소화하면서 메모리와 처리 성능을 최적화합니다.</p></li><li><p><strong>DeepSpeed 및 Zero-Offload</strong>: 이 두 시스템은 <strong>양자화를 주로 사용하지 않으며</strong>, CPU와 GPU 간 데이터 전송 최적화 및 메모리 오프로드를 통해 메모리 사용량을 줄이는 방식에 초점을 맞춥니다. 대신, ZeRO의 메모리 최적화 기능을 통해 GPU와 CPU 메모리를 효율적으로 사용하여 모델 학습과 추론을 최적화합니다.</p></li></ul><h3 id=4-성능-및-처리량throughput>4. 성능 및 처리량(Throughput)</h3><ul><li><p><strong>FlexGen</strong>: 단일 GPU에서도 <strong>높은 처리량을 제공</strong>하는 데 최적화되어 있습니다. FlexGen은 특히 저지연이 필요하지 않은 대규모 배치 작업에서 DeepSpeed 및 Zero-Offload보다 높은 처리량을 제공합니다. 예를 들어, FlexGen은 OPT-175B 모델을 단일 16GB GPU에서 초당 1 토큰을 생성하는 성능을 제공하며, 이는 기존 오프로드 시스템 대비 최대 100배 높은 처리량입니다.</p></li><li><p><strong>DeepSpeed</strong>: DeepSpeed는 다중 GPU 환경에서 <strong>고속 학습과 추론을 위한 처리량 및 메모리 최적화</strong>를 제공합니다. ZeRO를 통한 메모리 최적화와 파이프라인 병렬 처리(pipeline parallelism) 기능을 통해 대형 모델을 학습하고 추론하는 속도를 높이며, 분산 학습에서 높은 효율성을 제공합니다.</p></li><li><p><strong>Zero-Offload</strong>: Zero-Offload는 특히 <strong>실시간 응답이 필요한 작업에서 우수한 성능</strong>을 발휘합니다. 모델 파라미터의 일부를 CPU에 오프로드하여 GPU 메모리 사용을 줄이면서 다중 GPU 간에 모델을 분산 처리하므로, 응답 속도와 실시간 성능이 뛰어납니다.</p></li></ul><h3 id=5-한계점>5. 한계점</h3><ul><li><p><strong>FlexGen의 한계점</strong>:</p><ul><li>FlexGen은 고처리량이 필요한 배치 작업에 적합하지만, <strong>실시간 처리에 필요한 저지연 환경에서는 성능이 떨어질 수 있습니다</strong>. 또한, FlexGen의 성능은 CPU와 디스크 I/O에 크게 의존하므로, CPU 성능이나 디스크 대역폭이 낮은 환경에서는 성능이 제한될 수 있습니다.</li></ul></li><li><p><strong>DeepSpeed의 한계점</strong>:</p><ul><li>DeepSpeed는 주로 <strong>다중 GPU를 사용하는 환경</strong>에 최적화되어 있으며, 단일 GPU에서의 메모리 최적화 및 처리량 효율은 상대적으로 제한적입니다. FlexGen과 같은 단일 GPU 중심의 최적화 기법은 부족합니다.</li></ul></li><li><p><strong>Zero-Offload의 한계점</strong>:</p><ul><li>Zero-Offload는 CPU 메모리와 GPU 대역폭에 의존적이며, <strong>단일 GPU 환경에서는 FlexGen에 비해 처리량 효율이 떨어질 수 있습니다</strong>. 다중 GPU가 필요하며, CPU와 GPU 간의 빈번한 데이터 전송으로 인해 CPU 성능이 낮거나 GPU 대역폭이 좁은 경우 병목 현상이 발생할 수 있습니다.</li></ul></li></ul><h3 id=종합-비교표>종합 비교표</h3><table><thead><tr><th>요소</th><th><strong>FlexGen</strong></th><th><strong>DeepSpeed</strong></th><th><strong>Zero-Offload</strong></th></tr></thead><tbody><tr><td><strong>주요 목표</strong></td><td>단일 GPU에서 고처리량, 대규모 배치 처리</td><td>다중 GPU에서의 모델 학습 및 추론 최적화</td><td>다중 GPU에서의 메모리 효율화 및 실시간 처리</td></tr><tr><td><strong>메모리 전략</strong></td><td>GPU-CPU-디스크 삼중 계층 활용, 블록 스케줄링</td><td>ZeRO 기반 메모리 최적화, 다중 GPU 병렬 처리</td><td>CPU 오프로드로 GPU 메모리 절약</td></tr><tr><td><strong>양자화</strong></td><td>4비트 그룹 단위 양자화 사용</td><td>양자화 사용하지 않음</td><td>양자화 사용하지 않음</td></tr><tr><td><strong>성능</strong></td><td>대규모 배치 처리에 높은 처리량 제공</td><td>다중 GPU에서 빠른 학습과 추론 지원</td><td>실시간 응답이 필요한 응용 작업에 최적화</td></tr><tr><td><strong>한계점</strong></td><td>실시간 처리에 부적합, CPU 및 디스크 성능 의존</td><td>단일 GPU 환경에서 메모리 및 처리 최적화 부족</td><td>CPU-GPU 대역폭 의존성, 단일 GPU 지원 미약</td></tr></tbody></table><h3 id=결론>결론</h3><p>FlexGen, DeepSpeed, Zero-Offload는 각기 다른 <strong>하드웨어 환경과 응용 시나리오에 적합한 솔루션</strong>을 제공합니다. FlexGen은 단일 GPU에서의 고처리량을 필요로 하는 대규모 배치 작업에 최적화되어 있으며, DeepSpeed는 다중 GPU 환경에서 효율적인 학습과 추론을 지원합니다. Zero-Offload는 다중 GPU 환경에서 메모리 절약과 실시간 처리가 중요한 작업에 적합합니다. 사용 환경과 작업의 특성에 맞추어 가장 적</p></article></main><footer class="mx-auto max-w-4xl px-4 py-8"><div class="px-6 py-6"><nav class=mb-6><div class="flex flex-wrap items-center justify-center gap-1"><a href=/index.xml class="nav-link hover:text-primary hover:bg-primary/10 text-muted-foreground flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="RSS Feed"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18.0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"/></svg>
<span>RSS Feed</span></a></div></nav><div class="border-border mb-6 border-t"></div><div class="flex flex-col items-center justify-between gap-4 md:flex-row"><div class="text-muted-foreground text-sm"><p>&copy; 2025 Jaehun's Blog.
모든 권리 보유.</p></div><div class="flex items-center gap-3"><a href=https://github.com/ryujaehun target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=GitHub aria-label=GitHub><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="GitHub"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 22v-4a4.8 4.8.0 00-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35.0-3.5.0.0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35.0 3.5A5.4 5.4.0 004 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></g></svg>
</a><a href=https://www.linkedin.com/in/jaehunryu/ target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Linkedin aria-label=Linkedin><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="Linkedin"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6M2 9h4v12H2z"/><circle cx="4" cy="4" r="2"/></g></svg>
</a><a href=mailto:jaehunryu@icloud.com class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Email aria-label=Email><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="Email"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22.0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v10a2 2 0 002 2z"/></svg></a></div></div></div></footer><div id=dock class="pointer-events-none fixed bottom-4 left-1/2 z-[9999] w-fit -translate-x-1/2 translate-y-24 opacity-0 transition-all duration-300 ease-out sm:right-0 sm:left-0 sm:mx-auto sm:translate-x-0" role=toolbar aria-label="바로가기 도구 모음"><nav class="border-border bg-card/80 scrollbar-hide xs:px-3 xs:py-2 mx-auto flex max-w-[calc(100vw-2rem)] min-w-fit items-center justify-center overflow-x-auto rounded-2xl border px-4 py-3 shadow-lg backdrop-blur-sm sm:px-4 sm:py-3"><button id=dock-back class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title=뒤로 aria-label=뒤로>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
<span class="hidden sm:inline">뒤로</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-toc class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title=목차 aria-label=목차>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg>
<span class="hidden sm:inline">목차</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-search class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-3 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-4 sm:py-2" title=검색 aria-label=검색>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg>
<span class="hidden md:inline">검색</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-top class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title="맨 위로" aria-label="맨 위로">
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m18 15-6-6-6 6"/></svg>
<span class="hidden sm:inline">맨 위로</span></button></nav></div><div id=toc-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 backdrop-blur-sm transition-all duration-300" role=dialog aria-modal=true aria-labelledby=toc-title></div><div id=toc-card class="pointer-events-none fixed inset-4 z-50 flex w-auto scale-95 items-center justify-center opacity-0 transition-all duration-300 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:block sm:w-full sm:max-w-md sm:-translate-x-1/2 sm:-translate-y-1/2" role=dialog aria-modal=true aria-labelledby=toc-title><div class="bg-card border-border w-full max-w-sm overflow-hidden rounded-xl border shadow-xl sm:max-w-md"><div class="border-border bg-muted/30 flex items-center justify-between border-b p-4"><div class="flex items-center gap-3"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg><h2 id=toc-title class="text-foreground text-lg font-semibold">목차</h2></div><button id=toc-close class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 rounded-lg p-2 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none" title=닫기 aria-label=닫기>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div class="max-h-96 overflow-y-auto p-4"><nav id=toc-nav class=toc-scrollbar aria-label="글 목차"><div id=toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#강점과-독창성>강점과 독창성</a></li><li><a href=#핵심-알고리즘-예시-입력과-과정-설명>핵심 알고리즘: 예시 입력과 과정 설명</a><ul><li><a href=#예시-입력>예시 입력</a></li></ul></li><li><a href=#한계점>한계점</a></li></ul></li></ul><ul><li><ul><li><a href=#블록-스케줄링block-scheduling>블록 스케줄링(Block Scheduling)</a><ul><li><a href=#블록-스케줄링의-핵심-아이디어>블록 스케줄링의 핵심 아이디어</a></li><li><a href=#예시>예시</a></li></ul></li><li><a href=#선형-계획법을-통한-최적화>선형 계획법을 통한 최적화</a><ul><li><a href=#선형-계획법-적용-방식>선형 계획법 적용 방식</a></li><li><a href=#예시-선형-계획법을-통한-메모리-배치-결정>예시: 선형 계획법을 통한 메모리 배치 결정</a></li></ul></li><li><a href=#정리>정리</a></li></ul></li></ul><ul><li><ul><li><a href=#quantization-수행-기준-및-과정>Quantization 수행 기준 및 과정</a></li><li><a href=#quantization의-주요-기준>Quantization의 주요 기준</a></li><li><a href=#요약>요약</a></li></ul></li></ul><ul><li><ul><li><a href=#1-기본-목표-및-사용-시나리오>1. 기본 목표 및 사용 시나리오</a></li><li><a href=#2-메모리-관리-및-오프로드-전략>2. 메모리 관리 및 오프로드 전략</a></li><li><a href=#3-압축-및-양자화quantization>3. 압축 및 양자화(Quantization)</a></li><li><a href=#4-성능-및-처리량throughput>4. 성능 및 처리량(Throughput)</a></li><li><a href=#5-한계점>5. 한계점</a></li><li><a href=#종합-비교표>종합 비교표</a></li><li><a href=#결론>결론</a></li></ul></li></ul></nav></div></nav></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground text-center text-xs"><span>제목을 클릭하면 해당 위치로 이동합니다</span></div></div></div></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css integrity=sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js integrity=sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous></script><script>function initKaTeX(){if(typeof renderMathInElement=="undefined"){setTimeout(initKaTeX,100);return}var e=[{display:!0,left:"$$",right:"$$"},{display:!1,left:"$",right:"$"}];renderMathInElement(document.body,{delimiters:e,throwOnError:!1,errorColor:"#cc0000",fleqn:!1,leqno:!1,trust:!1})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initKaTeX):initKaTeX()</script><div id=search-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 transition-opacity duration-300"></div><div id=search-modal class="bg-card border-border pointer-events-none fixed top-1/2 left-1/2 z-50 max-h-[80vh] w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 scale-95 transform overflow-hidden rounded-xl border opacity-0 shadow-xl transition-all duration-300"><div class="border-border flex items-center gap-3 border-b p-4"><div class="text-muted-foreground h-5 w-5 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><div class="relative flex-1"><button id=search-clear class="text-muted-foreground hover:text-foreground hover:bg-muted/50 pointer-events-none absolute top-1/2 left-0 z-10 h-5 w-5 -translate-y-1/2 rounded opacity-0 transition-all duration-200" title=지우기 aria-label=지우기>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg>
</button>
<input id=search-input type=text placeholder="게시글 검색..." class="text-foreground placeholder:text-muted-foreground w-full border-none bg-transparent pl-8 text-lg outline-none" autocomplete=off spellcheck=false></div><button id=search-close class="text-muted-foreground hover:text-foreground hover:bg-muted/50 flex h-6 w-6 items-center justify-center rounded-md p-0.5 transition-all duration-200" title=닫기 aria-label=닫기>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div id=search-results class="max-h-96 overflow-y-auto"><div id=search-empty class="flex flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">검색 시작</h3><p class="text-muted-foreground text-sm">검색어를 입력하세요</p></div><div id=search-loading class="flex hidden items-center justify-center py-8"><div class="mr-3 h-6 w-6 animate-spin rounded-full border-2 border-current border-t-transparent"></div><span class=text-muted-foreground>검색 중...</span></div><div id=search-no-results class="flex hidden flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">검색 결과 없음</h3><p class="text-muted-foreground text-sm">다른 검색어로 시도해보세요</p></div><div id=search-results-list class=hidden><div id=search-stats class="text-muted-foreground border-border border-b px-4 py-3 text-sm" data-template="%d개의 결과 찾음"></div><div id=search-items class="divide-border divide-y"></div></div></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground flex items-center justify-between text-xs"><div class="flex items-center gap-2 md:gap-4"><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">↑↓</kbd>
<span class="hidden sm:inline">이동</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">↵</kbd>
<span class="hidden sm:inline">선택</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">ESC</kbd>
<span class="hidden sm:inline">닫기</span></div></div><div class="search-hint-desktop flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">⌘K</kbd>
<span>단축키</span></div></div></div></div></body></html>