<!doctype html><html lang=ko-kr data-theme=claude><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Marconi: Prefix Caching for the Era of Hybrid LLMs | Jaehun's Blog</title><meta name=description content="ë…¼ë¬¸ ë§í¬
Q : ì´ ë…¼ë¬¸ì„ ì•„ì£¼ ìì„¸í•˜ê²Œ ì½ê³  ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì ì„ ì„¤ëª…í•´ì£¼ê³  í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì„ ì˜ˆì‹œ ì…ë ¥ì„ ë“¤ì–´ì„œ ì „ì²´ì ì¸ ê³¼ì •ì„ ì„¤ëª…í•´ì¤˜ ì¶”ê°€ì ìœ¼ë¡œ ë…¼ë¬¸ì˜ í•œê³„ì ì— ëŒ€í•´ì„œë„ ì•Œë ¤ì¤˜ ë…¼ë¬¸ì˜ í•µì‹¬ ìš”ì•½ ë° í‰ê°€ ë…¼ë¬¸ ì œëª©:
Marconi: Prefix..."><meta name=keywords content="ê°œë°œ,í”„ë¡œê·¸ë˜ë°,ì—ì„¸ì´"><meta name=author content><meta name=language content="ko"><meta name=robots content="index, follow"><link rel=canonical href=https://jaehun.me/ko/ko/posts/2025-03-12-paper-2411.19379/><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://jaehun.me/ko/ko/posts/2025-03-12-paper-2411.19379/"><meta property="og:site_name" content="Jaehun's Blog"><meta property="og:title" content="Marconi: Prefix Caching for the Era of Hybrid LLMs"><meta property="og:description" content="ë…¼ë¬¸ ë§í¬
Q : ì´ ë…¼ë¬¸ì„ ì•„ì£¼ ìì„¸í•˜ê²Œ ì½ê³  ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì ì„ ì„¤ëª…í•´ì£¼ê³  í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì„ ì˜ˆì‹œ ì…ë ¥ì„ ë“¤ì–´ì„œ ì „ì²´ì ì¸ ê³¼ì •ì„ ì„¤ëª…í•´ì¤˜ ì¶”ê°€ì ìœ¼ë¡œ ë…¼ë¬¸ì˜ í•œê³„ì ì— ëŒ€í•´ì„œë„ ì•Œë ¤ì¤˜ ë…¼ë¬¸ì˜ í•µì‹¬ ìš”ì•½ ë° í‰ê°€ ë…¼ë¬¸ ì œëª©:
Marconi: Prefix Caching for the Era of Hybrid LLMs"><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="ko"><meta property="article:published_time" content="2025-03-12T00:00:00+00:00"><meta property="article:modified_time" content="2025-03-12T00:00:00+00:00"><meta property="og:image" content="https://jaehun.me/images/og-default.avif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jaehun.me/images/og-default.avif"><meta name=twitter:title content="Marconi: Prefix Caching for the Era of Hybrid LLMs"><meta name=twitter:description content="ë…¼ë¬¸ ë§í¬
Q : ì´ ë…¼ë¬¸ì„ ì•„ì£¼ ìì„¸í•˜ê²Œ ì½ê³  ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì ì„ ì„¤ëª…í•´ì£¼ê³  í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì„ ì˜ˆì‹œ ì…ë ¥ì„ ë“¤ì–´ì„œ ì „ì²´ì ì¸ ê³¼ì •ì„ ì„¤ëª…í•´ì¤˜ ì¶”ê°€ì ìœ¼ë¡œ ë…¼ë¬¸ì˜ í•œê³„ì ì— ëŒ€í•´ì„œë„ ì•Œë ¤ì¤˜ ë…¼ë¬¸ì˜ í•µì‹¬ ìš”ì•½ ë° í‰ê°€ ë…¼ë¬¸ ì œëª©:
Marconi: Prefix Caching for the Era of Hybrid LLMs"><meta itemprop=name content="Marconi: Prefix Caching for the Era of Hybrid LLMs"><meta itemprop=description content="ë…¼ë¬¸ ë§í¬
Q : ì´ ë…¼ë¬¸ì„ ì•„ì£¼ ìì„¸í•˜ê²Œ ì½ê³  ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì ì„ ì„¤ëª…í•´ì£¼ê³  í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì„ ì˜ˆì‹œ ì…ë ¥ì„ ë“¤ì–´ì„œ ì „ì²´ì ì¸ ê³¼ì •ì„ ì„¤ëª…í•´ì¤˜ ì¶”ê°€ì ìœ¼ë¡œ ë…¼ë¬¸ì˜ í•œê³„ì ì— ëŒ€í•´ì„œë„ ì•Œë ¤ì¤˜ ë…¼ë¬¸ì˜ í•µì‹¬ ìš”ì•½ ë° í‰ê°€ ë…¼ë¬¸ ì œëª©:
Marconi: Prefix Caching for the Era of Hybrid LLMs"><meta itemprop=datePublished content="2025-03-12T00:00:00+00:00"><meta itemprop=dateModified content="2025-03-12T00:00:00+00:00"><meta itemprop=wordCount content="18577"><meta itemprop=image content="https://jaehun.me/images/og-default.avif"><meta itemprop=keywords content="Paper-Review,With-Gpt,MLSYS2025"><script>window.HUGO_SEARCH_CONFIG={searchIndexURL:'"/ko/index.json"'}</script><script>window.HUGO_GALLERY_CONFIG={justified_gallery:!1,lightbox:!1,justified:"{}",lightbox_options:"{}"}</script><link rel=stylesheet href=/css/compiled.min.9165cace5b80a5be5daad6ea96eb2abc20a18a3f41d7fed7f0335b689fdf7883.css integrity="sha256-kWXKzluApb5dqtbqlusqvCChij9B1/7X8DNbaJ/feIM=" crossorigin=anonymous><link rel=stylesheet href=/css/chroma.min.491df36221f739b5948a747a0351f100ee7ccaaf466d9f46288bf06de1d59123.css integrity="sha256-SR3zYiH3ObWUinR6A1HxAO58yq9GbZ9GKIvwbeHVkSM=" crossorigin=anonymous><script src=/js/main.ba969e49a7a874e6938fe689a7dcaa00cb64cb4d429c2cf98d09bde512a16c6d.js integrity="sha256-upaeSaeodOaTj+aJp9yqAMtky01CnCz5jQm95RKhbG0=" crossorigin=anonymous></script><script src=/js/gumshoe.polyfills.min.js></script><script src=/js/toc.70654aebf0b738a78ae2df95297cc10ebc6e590f3c942dd1325fa852f50038b2.js integrity="sha256-cGVK6/C3OKeK4t+VKXzBDrxuWQ88lC3RMl+oUvUAOLI=" crossorigin=anonymous defer></script><script src=/js/search.de3eba3540834efb8328121784bff4774e06362412ee41eee665f5b4f987f393.js integrity="sha256-3j66NUCDTvuDKBIXhL/0d04GNiQS7kHu5mX1tPmH85M=" crossorigin=anonymous defer></script><script src=/js/dock.e02f422517e001d9fb6bea1e9e8b0e89e9d2e486ad4641f275bb3e36ce2ae79f.js integrity="sha256-4C9CJRfgAdn7a+oenosOienS5IatRkHydbs+Ns4q558=" crossorigin=anonymous defer></script><script>(function(){const e=localStorage.getItem("theme")||"system",n=localStorage.getItem("colorScheme")||"claude";document.documentElement.setAttribute("data-theme",n);function t(){e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}t(),e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t)})()</script></head><body class="bg-background text-foreground min-h-screen antialiased"><div id=reading-progress-container class="reading-progress-container pointer-events-none fixed top-0 right-0 left-0 z-50 transition-opacity duration-300 ease-out" data-height=3 data-smooth-scroll=true data-hide-on-complete=false><div class="reading-progress-bg w-full"></div><div id=reading-progress-bar class="from-primary to-primary/80 reading-progress-bar
transition-all duration-150 ease-out
absolute top-0 left-0 w-0 bg-gradient-to-r"></div></div><script>(function(){"use strict";const t=document.getElementById("reading-progress-container"),o=document.getElementById("reading-progress-bar");if(!t||!o)return;const a={smoothScroll:t.dataset.smoothScroll==="true",hideOnComplete:t.dataset.hideOnComplete==="true"};let n=!0,l=null;function r(){const t=window.pageYOffset||document.documentElement.scrollTop,n=document.documentElement.scrollHeight,s=window.innerHeight,e=n-s;return e<=0?0:Math.min(Math.max(t/e*100,0),100)}function c(){const e=r();o.style.width=e+"%",a.hideOnComplete&&e>=99.5?n&&(t.style.opacity="0",n=!1):n||(t.style.opacity="1",n=!0)}let s=!1;function e(){s||(requestAnimationFrame(()=>{c(),s=!1}),s=!0)}function i(){window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),document.addEventListener("visibilitychange",()=>{document.hidden||e()}),e(),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()})()</script><header class="sticky top-0 z-50 mx-auto max-w-4xl px-4 py-6"><div class="border-border bg-card/80 flex items-center rounded-xl border px-6 py-4 shadow-sm backdrop-blur-sm"><div class="hidden w-full items-center md:flex"><div class="flex items-center"><a href=/ko/ class="flex h-10 w-10 items-center justify-center overflow-hidden rounded-full transition-transform duration-200 hover:scale-105" aria-label="Jaehun's Blog"><img src=/images/logo.svg alt="Jaehun's Blog" class="h-full w-full object-cover"></a></div><nav class="mx-8 flex flex-1 items-center justify-center"><div class="flex items-center space-x-1"><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.posts"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>ê²Œì‹œê¸€
</span></a><a href=/ko/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.categories"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>ì¹´í…Œê³ ë¦¬
</span></a><a href=/ko/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.tags"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>íƒœê·¸
</span></a><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.archives"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>ì•„ì¹´ì´ë¸Œ</span></a></div></nav><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="ì–¸ì–´ ë³€ê²½" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ì–¸ì–´ ë³€ê²½"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=/ko/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>í•œêµ­ì–´</span></a><a href=/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>English</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="í…Œë§ˆ ë³€ê²½" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="í…Œë§ˆ ë³€ê²½"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="í…Œë§ˆ ë³€ê²½" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë¼ì´íŠ¸"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë‹¤í¬"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ì‹œìŠ¤í…œ"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë¼ì´íŠ¸"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span>ë¼ì´íŠ¸</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë‹¤í¬"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg><span>ë‹¤í¬</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ì‹œìŠ¤í…œ"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg><span>ì‹œìŠ¤í…œ</span></button></div></div></div></div><div class="flex w-full items-center justify-between md:hidden"><div class=relative><button id=mobile-menu-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:bg-accent hover:text-foreground flex h-10 w-10 items-center justify-center rounded-lg border transition-colors duration-200" data-dropdown-type=mobile-menu aria-label=ë©”ë‰´ aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë©”ë‰´"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button><div id=mobile-menu class="mobile-menu dropdown-menu border-border bg-popover/95 absolute top-12 left-0 z-[60] hidden w-80 max-w-[calc(100vw-2rem)] rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out md:hidden" data-dropdown-type=mobile-menu role=menu aria-labelledby=mobile-menu-toggle><nav class="flex flex-col"><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.posts"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>ê²Œì‹œê¸€
</span></a><a href=/ko/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.categories"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>ì¹´í…Œê³ ë¦¬
</span></a><a href=/ko/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.tags"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>íƒœê·¸
</span></a><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.archives"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>ì•„ì¹´ì´ë¸Œ</span></a></nav></div></div><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="ì–¸ì–´ ë³€ê²½" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ì–¸ì–´ ë³€ê²½"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=/ko/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>í•œêµ­ì–´</span></a><a href=/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>English</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="í…Œë§ˆ ë³€ê²½" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="í…Œë§ˆ ë³€ê²½"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="í…Œë§ˆ ë³€ê²½" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë¼ì´íŠ¸"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë‹¤í¬"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ì‹œìŠ¤í…œ"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë¼ì´íŠ¸"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span>ë¼ì´íŠ¸</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ë‹¤í¬"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg><span>ë‹¤í¬</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="ì‹œìŠ¤í…œ"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg><span>ì‹œìŠ¤í…œ</span></button></div></div></div></div></div></header><main class="mx-auto max-w-4xl px-4 py-6"><nav class="breadcrumb mb-4 md:mb-6 py-1" aria-label=ê²½ë¡œ><ol class="text-muted-foreground flex items-center space-x-1 md:space-x-2 text-sm overflow-x-auto whitespace-nowrap scrollbar-hide py-1"><li class=flex-shrink-0><a href=/ko/ class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02]"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="í™ˆ"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m3 12 2-2m0 0 7-7 7 7M5 10v10a1 1 0 001 1h3m10-11 2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
<span class="max-w-[4rem] md:max-w-none truncate">í™ˆ</span></a></li><li class="flex items-center gap-1 md:gap-2 min-w-0"><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span><div class="flex items-center gap-1 md:gap-2 min-w-0"><a href=/ko class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02] flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5A2 2 0 003 7z"/></svg>
<span class="max-w-[4rem] md:max-w-none truncate">Ko</span>
</a><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span>
<span class="text-foreground flex items-center gap-0.5 md:gap-1 font-medium min-w-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
<span class="max-w-[8rem] md:max-w-[16rem] lg:max-w-none truncate">Marconi: Prefix Caching for the Era of Hybrid LLMs</span></span></div></li></ol></nav><header class=mb-8><h1 class="text-foreground mb-4 text-3xl font-bold md:text-4xl">Marconi: Prefix Caching for the Era of Hybrid LLMs</h1></header><article class="prose prose-neutral dark:prose-invert max-w-none"><p><a href=https://arxiv.org/abs/2411.19379>ë…¼ë¬¸ ë§í¬</a></p><h1 id=q--ì´-ë…¼ë¬¸ì„-ì•„ì£¼-ìì„¸í•˜ê²Œ-ì½ê³ -ë…¼ë¬¸ì˜-ê°•ì ê³¼-ë…ì°½ì ì¸-ì§€ì ì„-ì„¤ëª…í•´ì£¼ê³ -í•µì‹¬-ì•Œê³ ë¦¬ì¦˜ì„-ì˜ˆì‹œ-ì…ë ¥ì„-ë“¤ì–´ì„œ-ì „ì²´ì ì¸-ê³¼ì •ì„-ì„¤ëª…í•´ì¤˜-ì¶”ê°€ì ìœ¼ë¡œ-ë…¼ë¬¸ì˜-í•œê³„ì ì—-ëŒ€í•´ì„œë„-ì•Œë ¤ì¤˜>Q : ì´ ë…¼ë¬¸ì„ ì•„ì£¼ ìì„¸í•˜ê²Œ ì½ê³  ë…¼ë¬¸ì˜ ê°•ì ê³¼ ë…ì°½ì ì¸ ì§€ì ì„ ì„¤ëª…í•´ì£¼ê³  í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì„ ì˜ˆì‹œ ì…ë ¥ì„ ë“¤ì–´ì„œ ì „ì²´ì ì¸ ê³¼ì •ì„ ì„¤ëª…í•´ì¤˜ ì¶”ê°€ì ìœ¼ë¡œ ë…¼ë¬¸ì˜ í•œê³„ì ì— ëŒ€í•´ì„œë„ ì•Œë ¤ì¤˜</h1><h3 id=ë…¼ë¬¸ì˜-í•µì‹¬-ìš”ì•½-ë°-í‰ê°€>ë…¼ë¬¸ì˜ í•µì‹¬ ìš”ì•½ ë° í‰ê°€</h3><p><strong>ë…¼ë¬¸ ì œëª©:</strong><br><strong>Marconi: Prefix Caching for the Era of Hybrid LLMs</strong></p><p><strong>í•µì‹¬ ê¸°ì—¬:</strong><br>MarconiëŠ” Hybrid LLM(Attention + State Space Model, SSM)ì—ì„œ íš¨ìœ¨ì ì¸ <strong>Prefix Caching</strong>ì„ ì§€ì›í•˜ëŠ” ìµœì´ˆì˜ ì‹œìŠ¤í…œì´ë‹¤. ê¸°ì¡´ Transformer ê¸°ë°˜ ìºì‹± ê¸°ë²•ì€ Hybrid LLMì— ì í•©í•˜ì§€ ì•Šì€ë°, SSMì˜ <strong>in-place state update</strong> íŠ¹ì„± ë•Œë¬¸ì— ê¸°ì¡´ì˜ Prefix Cache ë°©ì‹ì´ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ MarconiëŠ” <strong>ìƒˆë¡œìš´ Admission ë° Eviction ì •ì±…</strong>ì„ ë„ì…í•˜ì—¬ ìºì‹œ íˆíŠ¸ìœ¨ì„ í¬ê²Œ ê°œì„ í–ˆë‹¤.</p><hr><h2 id=1-ê°•ì -ë°-ë…ì°½ì ì¸-ì§€ì >1. ê°•ì  ë° ë…ì°½ì ì¸ ì§€ì </h2><p>Marconiì˜ ì£¼ìš”í•œ ì°¨ë³„ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><h3 id=-11-ìƒˆë¡œìš´-ìºì‹œ-admission-ì •ì±…>ğŸ“Œ <strong>1.1 ìƒˆë¡œìš´ ìºì‹œ Admission ì •ì±…</strong></h3><ul><li>ê¸°ì¡´ ì‹œìŠ¤í…œ(vLLM ë“±)ì€ ë‹¨ìˆœíˆ ìµœê·¼ ì‚¬ìš©ëœ ìºì‹œë¥¼ ìœ ì§€í•˜ì§€ë§Œ, <strong>MarconiëŠ” ì¬ì‚¬ìš© ê°€ëŠ¥ì„±ì„ ì˜ˆì¸¡í•˜ì—¬ ìºì‹œ í•­ëª©ì„ ì„ ë³„</strong>í•œë‹¤.</li><li><strong>Token Redundancy ë¶„ì„ì„ í†µí•´</strong> Prefixê°€ <strong>(a) ì…ë ¥ì—ì„œ ê³µìœ ë˜ëŠ” ê²½ìš° (b) ì…ë ¥ê³¼ ì¶œë ¥ì—ì„œ ê³µìœ ë˜ëŠ” ê²½ìš°</strong>ë¡œ ë¶„ë¥˜í•˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìºì‹œ ì €ì¥ ê²°ì •ì„ ìˆ˜í–‰í•œë‹¤.</li><li><strong>Radix Tree êµ¬ì¡°ë¥¼ í™œìš©í•˜ì—¬</strong> ì¬ì‚¬ìš© ê°€ëŠ¥ì„±ì´ ë†’ì€ í”„ë¦¬í”½ìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ íƒìƒ‰í•œë‹¤.</li></ul><h3 id=-12-flop-aware-ìºì‹œ-eviction-ì •ì±…>ğŸ“Œ <strong>1.2 FLOP-aware ìºì‹œ Eviction ì •ì±…</strong></h3><ul><li>ê¸°ì¡´ ìºì‹œ ì •ì±…ì€ ë‹¨ìˆœ LRU(Least Recently Used)ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, <strong>MarconiëŠ” ìºì‹œëœ í•­ëª©ì´ ì ˆì•½í•˜ëŠ” FLOP(ì—°ì‚°ëŸ‰)ë¥¼ ê³ ë ¤</strong>í•˜ì—¬ evictionì„ ê²°ì •í•œë‹¤.</li><li>SSM ìƒíƒœëŠ” í¬ì§€ë§Œ, Attention KV Cacheë³´ë‹¤ FLOP íš¨ìœ¨ì„±ì´ ë‚®ì€ ê²½ìš°ê°€ ë§ìœ¼ë¯€ë¡œ ì´ë¥¼ ë°˜ì˜í•˜ì—¬ <strong>ìµœì ì˜ ìºì‹œ í™œìš©</strong>ì„ í•œë‹¤.</li></ul><h3 id=-13-ì„±ëŠ¥-ë¹„êµ-ë°-ê°œì„ >ğŸ“Œ <strong>1.3 ì„±ëŠ¥ ë¹„êµ ë° ê°œì„ </strong></h3><table><thead><tr><th>ì‹œìŠ¤í…œ</th><th>í‰ê·  ìºì‹œ íˆíŠ¸ìœ¨ ì¦ê°€ ë°°ìˆ˜</th><th>P95 TTFT ê°œì„  (ìµœëŒ€)</th></tr></thead><tbody><tr><td><strong>Marconi</strong></td><td><strong>4.5Ã— ~ 34.4Ã—</strong></td><td><strong>617 ms (71.1%) ê°ì†Œ</strong></td></tr><tr><td>ê¸°ì¡´ vLLM+</td><td>1Ã—</td><td>0% ê°œì„ </td></tr><tr><td>ê¸°ì¡´ SGLang+</td><td>1Ã—</td><td>12.8~24.7% ê°œì„ </td></tr></tbody></table><ul><li>MarconiëŠ” vLLM+ ëŒ€ë¹„ <strong>ìµœëŒ€ 34.4ë°° ë†’ì€ Token Hit Rate</strong>ì„ ì œê³µí•˜ë©°, Prefix Cachingìœ¼ë¡œ <strong>TTFT(Time To First Token)ë¥¼ 71.1% ë‹¨ì¶•</strong>í•œë‹¤.</li></ul><hr><h2 id=2-í•µì‹¬-ì•Œê³ ë¦¬ì¦˜-marconiì˜-ìºì‹±-í”„ë¡œì„¸ìŠ¤>2. í•µì‹¬ ì•Œê³ ë¦¬ì¦˜: Marconiì˜ ìºì‹± í”„ë¡œì„¸ìŠ¤</h2><p>Marconiì˜ Prefix Caching ë™ì‘ì„ ì˜ˆì‹œ ì…ë ¥ê³¼ í•¨ê»˜ ì„¤ëª…í•œë‹¤.</p><h3 id=ì˜ˆì‹œ-ì…ë ¥><strong>ì˜ˆì‹œ ì…ë ¥</strong></h3><p>ì‚¬ìš©ìê°€ ë‘ ê°œì˜ ë¬¸ì¥ì„ ì…ë ¥í•œë‹¤ê³  ê°€ì •í•˜ì.</p><ol><li><p><strong>ì²« ë²ˆì§¸ ìš”ì²­:</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-0 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-0 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-0><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>&#34;NYC is a busy city&#34;</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-0",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li>ì´ ë¬¸ì¥ì˜ KV Cacheì™€ SSM ìƒíƒœê°€ ìƒì„±ëœë‹¤.</li></ul></li><li><p><strong>ë‘ ë²ˆì§¸ ìš”ì²­:</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-1 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-1 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-1><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>&#34;NYC is very huge&#34;</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-1",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li>ê¸°ì¡´ &ldquo;NYC is&rdquo; ë¶€ë¶„ì´ ìºì‹œì— ì¡´ì¬í•˜ë¯€ë¡œ, ì´ ë¶€ë¶„ì„ ì¬ì‚¬ìš©í•œë‹¤.</li><li>ì´í›„ &ldquo;very huge&rdquo; ë¶€ë¶„ë§Œ ìƒˆë¡­ê²Œ ì—°ì‚°í•˜ë©´ ëœë‹¤.</li></ul></li></ol><h3 id=ì „ì²´-ë™ì‘-ê³¼ì •><strong>ì „ì²´ ë™ì‘ ê³¼ì •</strong></h3><p>1ï¸âƒ£ <strong>Radix Treeë¥¼ í™œìš©í•œ Speculative Insertion</strong></p><ul><li>&ldquo;NYC is"ê°€ <strong>ê¸°ì¡´ ìºì‹œì™€ ì–¼ë§ˆë‚˜ ê²¹ì¹˜ëŠ”ì§€</strong>ë¥¼ ê²€ì‚¬í•˜ì—¬ ë¯¸ë¦¬ ì²´í¬í¬ì¸íŠ¸ë¥¼ ì„¤ì •í•œë‹¤.</li></ul><p>2ï¸âƒ£ <strong>SSM State ë° KV Cache ì €ì¥</strong></p><ul><li><strong>KV CacheëŠ” ê¸°ì¡´ Transformerì²˜ëŸ¼ ì €ì¥ë˜ì§€ë§Œ, SSMì€ ì „ì²´ ìƒíƒœë¥¼ ìœ ì§€í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë” ì‹ ì¤‘í•œ ê´€ë¦¬ê°€ í•„ìš”</strong>í•˜ë‹¤.</li><li>MarconiëŠ” Prefix ê³µìœ  ìœ í˜•(ì…ë ¥ vs ì…ë ¥+ì¶œë ¥)ì— ë”°ë¼ ìºì‹œí• ì§€ë¥¼ ê²°ì •í•œë‹¤.</li></ul><p>3ï¸âƒ£ <strong>FLOP-aware Eviction ìˆ˜í–‰</strong></p><ul><li>ê¸°ì¡´ LRU ë°©ì‹ê³¼ ë‹¬ë¦¬, MarconiëŠ” **&ldquo;ìºì‹œê°€ ì°¨ë©´ ê°€ì¥ FLOP íš¨ìœ¨ì„±ì´ ë‚®ì€ í•­ëª©&rdquo;**ì„ ìš°ì„ ì ìœ¼ë¡œ ì œê±°í•œë‹¤.</li></ul><hr><h2 id=3-í•œê³„ì -ë°-ê°œì„ -ê°€ëŠ¥ì„±>3. í•œê³„ì  ë° ê°œì„  ê°€ëŠ¥ì„±</h2><p>MarconiëŠ” Hybrid LLMì— ëŒ€í•œ <strong>ìµœì´ˆì˜ Prefix Caching ì‹œìŠ¤í…œ</strong>ì´ì§€ë§Œ, ëª‡ ê°€ì§€ í•œê³„ì ì´ ì¡´ì¬í•œë‹¤.</p><h3 id=-31-ssm-layerê°€-ë„ˆë¬´-ì ìœ¼ë©´-íš¨ê³¼-ê°ì†Œ><strong>ğŸ“Œ 3.1 SSM Layerê°€ ë„ˆë¬´ ì ìœ¼ë©´ íš¨ê³¼ ê°ì†Œ</strong></h3><ul><li><strong>Attention:SSM ë¹„ìœ¨ì´ 1:8ì¼ ë•Œ Marconiì˜ ì„±ëŠ¥ì´ ê°€ì¥ ì¢‹ìŒ</strong> (SSMì´ ë§ì„ìˆ˜ë¡ íš¨ê³¼ì ).</li><li>ê·¸ëŸ¬ë‚˜ <strong>SSMì´ ì ìœ¼ë©´ FLOP-aware ì •ì±…ì´ í° ì¥ì ì„ ë°œíœ˜í•˜ì§€ ëª»í•¨</strong>.</li><li>Pure Transformer ëª¨ë¸ì—ì„œëŠ” Marconiì˜ íš¨ê³¼ê°€ ê±°ì˜ ì‚¬ë¼ì§„ë‹¤.</li></ul><h3 id=-32-ë‹¨ê¸°ì ì¸-prefix-reuseì—ëŠ”-ì•½í• -ìˆ˜-ìˆìŒ><strong>ğŸ“Œ 3.2 ë‹¨ê¸°ì ì¸ Prefix Reuseì—ëŠ” ì•½í•  ìˆ˜ ìˆìŒ</strong></h3><ul><li>MarconiëŠ” &ldquo;ë‘ ë²ˆì§¸ ìš”ì²­"ì—ì„œë¶€í„° Prefix Cachingì„ í™œìš©í•˜ëŠ”ë°, ì¦‰ <strong>ë™ì¼ Prefixê°€ ì„¸ ë²ˆì§¸ ìš”ì²­ì—ì„œë¶€í„° ì¬ì‚¬ìš©ë¨</strong>.</li><li>ì¦‰, ë§¤ìš° ì§§ì€ Prefixê°€ ë§ê³  ë¹ ë¥´ê²Œ ë³€í•˜ëŠ” ì›Œí¬ë¡œë“œì—ì„œëŠ” ìºì‹œ í™œìš©ë¥ ì´ ë‚®ì„ ìˆ˜ ìˆìŒ.</li></ul><h3 id=-33-ë³µì¡í•œ-ìºì‹œ-ê´€ë¦¬-ë¹„ìš©><strong>ğŸ“Œ 3.3 ë³µì¡í•œ ìºì‹œ ê´€ë¦¬ ë¹„ìš©</strong></h3><ul><li>Radix Treeë¥¼ í™œìš©í•œ ìºì‹œ ê´€ë¦¬ê°€ <strong>ê¸°ì¡´ LRU ê¸°ë°˜ ì‹œìŠ¤í…œë³´ë‹¤ ì¶”ê°€ì ì¸ ì˜¤ë²„í—¤ë“œê°€ ì¡´ì¬</strong>.</li><li>íŠ¹íˆ ì´ˆê¸°ì— <strong>Bootstrapping ë‹¨ê³„ì—ì„œ ì ì ˆí•œ Î± ê°’ì„ ì°¾ê¸° ìœ„í•œ Grid Search</strong>ê°€ í•„ìš”í•¨.</li><li>ì¦‰, ì„¤ì •ê°’ì„ ì˜ëª» íŠœë‹í•˜ë©´ ì„±ëŠ¥ì´ ì €í•˜ë  ê°€ëŠ¥ì„±ì´ ìˆìŒ.</li></ul><hr><h2 id=4-ê²°ë¡ >4. ê²°ë¡ </h2><p>MarconiëŠ” Hybrid LLMì˜ íš¨ìœ¨ì ì¸ Prefix Cachingì„ ìœ„í•œ <strong>í˜ì‹ ì ì¸ Admission & Eviction ì •ì±…</strong>ì„ ë„ì…í•˜ì—¬ ê¸°ì¡´ ì‹œìŠ¤í…œ ëŒ€ë¹„ ìµœëŒ€ <strong>34.4ë°° ë†’ì€ ìºì‹œ íˆíŠ¸ìœ¨</strong>, <strong>71.1% ë‚®ì€ TTFT</strong>ë¥¼ ë‹¬ì„±í–ˆë‹¤.</p><p>ê·¸ëŸ¬ë‚˜ <strong>SSM ë¹„ìœ¨ì´ ë‚®ê±°ë‚˜, Prefixê°€ ë¹ ë¥´ê²Œ ë³€í™”í•˜ëŠ” í™˜ê²½ì—ì„œëŠ” ì„±ëŠ¥ ê°œì„ ì´ ì œí•œì </strong>ì´ë©°, <strong>Radix Tree ê¸°ë°˜ì˜ ìºì‹œ ê´€ë¦¬ ë¹„ìš©ì´ ì¶”ê°€ì ì¸ ì˜¤ë²„í—¤ë“œë¥¼ ì´ˆë˜</strong>í•  ìˆ˜ ìˆë‹¤.</p><h3 id=ìµœì ì˜-ì‚¬ìš©-ì‚¬ë¡€><strong>ğŸ”¹ìµœì ì˜ ì‚¬ìš© ì‚¬ë¡€</strong></h3><p>âœ… Hybrid LLM (íŠ¹íˆ Attention:SSM = 1:8)<br>âœ… ê¸´ ë¬¸ë§¥ì„ ë‹¤ë£¨ëŠ” ì›Œí¬ë¡œë“œ (Chatbots, ë¬¸ì„œ ìš”ì•½)<br>âœ… FLOP ëŒ€ë¹„ ë©”ëª¨ë¦¬ íš¨ìœ¨ì´ ì¤‘ìš”í•œ í™˜ê²½ (GPU ë©”ëª¨ë¦¬ ë¶€ì¡±í•œ ê²½ìš°)</p><h3 id=ê°œì„ -ê°€ëŠ¥ì„±><strong>ğŸ”¹ê°œì„  ê°€ëŠ¥ì„±</strong></h3><p>ğŸ”º Short-term Prefix Caching ì„±ëŠ¥ ê°œì„ <br>ğŸ”º Radix Tree ê´€ë¦¬ ë¹„ìš© ìµœì í™”<br>ğŸ”º SSMì´ ì ì€ ëª¨ë¸ì—ì„œë„ íš¨ê³¼ì ìœ¼ë¡œ ì‘ë™í•  ìˆ˜ ìˆë„ë¡ ê°œì„ </p><hr><p>ì´ ë…¼ë¬¸ì€ Hybrid LLMì˜ <strong>Serving íš¨ìœ¨ì„±ì„ íšê¸°ì ìœ¼ë¡œ ê°œì„ </strong>í•˜ëŠ” ì—°êµ¬ë¡œ, <strong>ì°¨ì„¸ëŒ€ Prefix Caching ì‹œìŠ¤í…œì˜ ì´ˆì„</strong>ì´ ë  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.</p><h1 id=q--ë…¼ë¬¸ì˜-í•µì‹¬ì•Œê³ ë¦¬ì¦˜ì„-ì˜ˆì‹œë¥¼-ë“¤ì–´-ì•„ì£¼-ìì„¸í•˜ê²Œ-ì„¤ëª…í•´ì£¼ê³ -ì •ë¦¬í•´-ì¤˜>Q : ë…¼ë¬¸ì˜ í•µì‹¬ì•Œê³ ë¦¬ì¦˜ì„ ì˜ˆì‹œë¥¼ ë“¤ì–´ ì•„ì£¼ ìì„¸í•˜ê²Œ ì„¤ëª…í•´ì£¼ê³  ì •ë¦¬í•´ ì¤˜</h1><h2 id=-marconiì˜-í•µì‹¬-ì•Œê³ ë¦¬ì¦˜-ìƒì„¸-ë¶„ì„>ğŸ”¹ <strong>Marconiì˜ í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ ìƒì„¸ ë¶„ì„</strong></h2><p>Marconiì˜ í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì€ <strong>Prefix Cachingì„ Hybrid LLM(Attention + SSM)ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ìƒˆë¡œìš´ Admission ë° Eviction ì •ì±…</strong>ì„ í¬í•¨í•œë‹¤. ê¸°ì¡´ Transformer ê¸°ë°˜ Prefix Caching ê¸°ë²•ê³¼ ì°¨ë³„ì ì€ <strong>SSM(State Space Model)ì˜ in-place state update íŠ¹ì„±ì— ìµœì í™”ëœ ìºì‹± ì „ëµì„ ë„ì…í–ˆë‹¤ëŠ” ì </strong>ì´ë‹¤.</p><hr><h1 id=1-í•µì‹¬-ì•Œê³ ë¦¬ì¦˜-ê°œìš”><strong>1. í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ ê°œìš”</strong></h1><p>Marconiì˜ í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì€ í¬ê²Œ 3ë‹¨ê³„ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.</p><table><thead><tr><th>ë‹¨ê³„</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td><strong>1ï¸âƒ£ Speculative Insertion (ì¶”ë¡  ì‚½ì…)</strong></td><td>Radix Treeë¥¼ ì‚¬ìš©í•´ ìºì‹œí•  Prefixë¥¼ ì˜ˆì¸¡</td></tr><tr><td><strong>2ï¸âƒ£ Cache Admission (ìºì‹œ ì €ì¥ ê²°ì •)</strong></td><td>ì¬ì‚¬ìš© ê°€ëŠ¥ì„±ì´ ë†’ì€ SSM ìƒíƒœë§Œ ì„ íƒì ìœ¼ë¡œ ìºì‹±</td></tr><tr><td><strong>3ï¸âƒ£ FLOP-aware Eviction (FLOP ê¸°ë°˜ ìºì‹œ ì œê±°)</strong></td><td>LRU ëŒ€ì‹  FLOP íš¨ìœ¨ì„±ì´ ë‚®ì€ ìºì‹œë¶€í„° ì œê±°</td></tr></tbody></table><hr><h1 id=2-marconi-ì•Œê³ ë¦¬ì¦˜-ì˜ˆì œì™€-ìƒì„¸-ê³¼ì •><strong>2. Marconi ì•Œê³ ë¦¬ì¦˜ ì˜ˆì œì™€ ìƒì„¸ ê³¼ì •</strong></h1><p>Marconiì˜ ì•Œê³ ë¦¬ì¦˜ì´ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ <strong>êµ¬ì²´ì ì¸ ì…ë ¥ ì˜ˆì œ</strong>ë¥¼ í†µí•´ ì„¤ëª…í•˜ê² ë‹¤.</p><h2 id=-21-ì˜ˆì œ-ì…ë ¥><strong>ğŸ”¹ 2.1 ì˜ˆì œ ì…ë ¥</strong></h2><p>LLMì— ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì¥ì´ ì…ë ¥ëœë‹¤ê³  ê°€ì •í•˜ì.</p><h3 id=ì²«-ë²ˆì§¸-ìš”ì²­><strong>ì²« ë²ˆì§¸ ìš”ì²­</strong></h3><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-2 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-2 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-2><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>&#34;NYC is a busy city&#34;</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-2",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li>ì´ ë¬¸ì¥ì€ **Hybrid LLM (Attention + SSM)**ì„ í†µí•´ ì²˜ë¦¬ë˜ë©°, <strong>Prefix Cacheì—ëŠ” SSM Stateì™€ KV Cache</strong>ê°€ ì €ì¥ë¨.</li><li>SSMì˜ íŠ¹ì„±ìƒ <strong>ì´ì „ ìƒíƒœë¥¼ ì§ì ‘ ë³µì›í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—</strong> ìºì‹± ì „ëµì´ ì¤‘ìš”í•˜ë‹¤.</li></ul><h3 id=ë‘-ë²ˆì§¸-ìš”ì²­><strong>ë‘ ë²ˆì§¸ ìš”ì²­</strong></h3><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-3 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-3 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-3><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>&#34;NYC is very huge&#34;</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-3",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li>ì´ì „ ìš”ì²­ì˜ ì¼ë¶€(Prefixì¸ &ldquo;NYC is&rdquo;)ê°€ <strong>ì¬ì‚¬ìš©ë  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤</strong>.</li><li>ê¸°ì¡´ Transformer ê¸°ë°˜ Prefix Cachingê³¼ ë‹¤ë¥´ê²Œ, SSMì˜ in-place update íŠ¹ì„± ë•Œë¬¸ì— &ldquo;NYC is"ì— ëŒ€í•œ ìƒíƒœë¥¼ ë³„ë„ë¡œ ì €ì¥í•˜ì§€ ì•Šìœ¼ë©´ í™œìš©ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.</li><li>ë”°ë¼ì„œ MarconiëŠ” <strong>Radix Treeë¥¼ ì´ìš©í•´ Prefixê°€ í¬í•¨ëœì§€ë¥¼ ë¨¼ì € íƒìƒ‰í•˜ê³ </strong>, <strong>SSMì˜ ì²´í¬í¬ì¸íŠ¸ë¥¼ ì„ ë³„ì ìœ¼ë¡œ ì €ì¥í•˜ì—¬ í™œìš©</strong>í•œë‹¤.</li></ul><hr><h2 id=-22-ì•Œê³ ë¦¬ì¦˜-ë‹¨ê³„ë³„-ë™ì‘-ê³¼ì •><strong>ğŸ”¹ 2.2 ì•Œê³ ë¦¬ì¦˜ ë‹¨ê³„ë³„ ë™ì‘ ê³¼ì •</strong></h2><h3 id=1-speculative-insertion-radix-tree-í™œìš©í•œ-ì˜ˆì¸¡-ì‚½ì…><strong>1ï¸âƒ£ Speculative Insertion (Radix Tree í™œìš©í•œ ì˜ˆì¸¡ ì‚½ì…)</strong></h3><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p><strong>ëª©í‘œ:</strong> ìƒˆë¡œ ì…ë ¥ëœ ë¬¸ì¥ì´ ê¸°ì¡´ Prefix Cacheì—ì„œ <strong>ë¶€ë¶„ì ìœ¼ë¡œ ê²¹ì¹˜ëŠ”ì§€</strong> í™•ì¸í•˜ê³ , í•„ìš”í•œ ì²´í¬í¬ì¸íŠ¸ë¥¼ ë¯¸ë¦¬ ì„¤ì •.</p></div></blockquote><p>ğŸ“Œ <strong>ë™ì‘ ë°©ì‹</strong></p><ul><li><strong>Radix Treeë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ ìš”ì²­ë“¤ê³¼ì˜ ê²¹ì¹¨(ê³µí†µ Prefix)ì„ í™•ì¸</strong>í•œë‹¤.</li><li>ìƒˆ ìš”ì²­ **&ldquo;NYC is very huge&rdquo;**ê°€ ë“¤ì–´ì˜¤ë©´, ê¸°ì¡´ ìš”ì²­ **&ldquo;NYC is a busy city&rdquo;**ì˜ Prefix **&ldquo;NYC is&rdquo;**ì™€ ê²¹ì¹˜ëŠ” ê²ƒì„ íƒìƒ‰.</li><li><strong>ê²¹ì¹˜ëŠ” Prefixê°€ ìˆë‹¤ë©´</strong> ì²´í¬í¬ì¸íŠ¸ë¥¼ ìƒì„±í•˜ì—¬ ì´í›„ì˜ Prefix Cachingì— í™œìš©.</li></ul><p>ğŸ“Œ <strong>ì˜ˆì œ ì ìš©</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-4 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-4 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-4><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>Radix Tree:
</span></span><span class=line><span class=ln>2</span><span class=cl> - Root â†’ &#34;NYC is&#34;
</span></span><span class=line><span class=ln>3</span><span class=cl>       â”œâ”€â”€ &#34;a busy city&#34;  (ê¸°ì¡´ ìš”ì²­)
</span></span><span class=line><span class=ln>4</span><span class=cl>       â””â”€â”€ &#34;very huge&#34;     (ìƒˆ ìš”ì²­ ì¶”ê°€)</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-4",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li>&ldquo;NYC is"ê¹Œì§€ëŠ” ê¸°ì¡´ ìš”ì²­ê³¼ ê²¹ì¹˜ë¯€ë¡œ, ì´ ë¶€ë¶„ì„ ìºì‹±í•  í›„ë³´ë¡œ ì„¤ì •.</li></ul><hr><h3 id=2-cache-admission-ì„ ë³„ì -ìºì‹œ-ì €ì¥><strong>2ï¸âƒ£ Cache Admission (ì„ ë³„ì  ìºì‹œ ì €ì¥)</strong></h3><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p><strong>ëª©í‘œ:</strong> ëª¨ë“  SSM ìƒíƒœë¥¼ ì €ì¥í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, <strong>ì¬ì‚¬ìš© ê°€ëŠ¥ì„±ì´ ë†’ì€ ê²ƒë§Œ ìºì‹±í•˜ì—¬ ë©”ëª¨ë¦¬ ë‚­ë¹„ ë°©ì§€</strong></p></div></blockquote><p>ğŸ“Œ <strong>ë™ì‘ ë°©ì‹</strong></p><ul><li>ê¸°ì¡´ ì‹œìŠ¤í…œ(vLLM)ì€ ëª¨ë“  KV Cacheì™€ SSM ìƒíƒœë¥¼ ì €ì¥í•˜ì§€ë§Œ, <strong>MarconiëŠ” Prefix ì¬ì‚¬ìš© ê°€ëŠ¥ì„±ì„ ë¶„ì„</strong>í•˜ì—¬ ì„ ë³„ì ìœ¼ë¡œ ì €ì¥.</li><li>Prefixê°€ <strong>(1) ì…ë ¥ì—ì„œ ê³µìœ ë˜ëŠ” ê²½ìš° (2) ì…ë ¥ê³¼ ì¶œë ¥ì—ì„œ ê³µìœ ë˜ëŠ” ê²½ìš°</strong>ë¥¼ êµ¬ë¶„í•˜ì—¬, <strong>í›„ìê°€ ì¬ì‚¬ìš© ê°€ëŠ¥ì„±ì´ ë†’ë‹¤ê³  íŒë‹¨</strong>.</li><li>ë”°ë¼ì„œ, &ldquo;NYC is"ëŠ” Prefixë¡œ ì¬ì‚¬ìš©ë  ê°€ëŠ¥ì„±ì´ ë†’ì•„ <strong>SSM ìƒíƒœë¥¼ ì €ì¥</strong>.</li></ul><p>ğŸ“Œ <strong>ì˜ˆì œ ì ìš©</strong></p><ul><li>ìƒˆ ë¬¸ì¥ **&ldquo;NYC is very huge&rdquo;**ì—ì„œ &ldquo;NYC is"ëŠ” ê¸°ì¡´ì— ì¡´ì¬í•˜ëŠ” Prefixì´ë¯€ë¡œ, í•´ë‹¹ ë¶€ë¶„ì˜ SSM ìƒíƒœë¥¼ ì €ì¥.</li></ul><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-5 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-5 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-5><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>Prefix Cache:
</span></span><span class=line><span class=ln>2</span><span class=cl> - SSM States:
</span></span><span class=line><span class=ln>3</span><span class=cl>      &#34;NYC is&#34; âœ… ì €ì¥ë¨
</span></span><span class=line><span class=ln>4</span><span class=cl>      &#34;a busy city&#34; âŒ ì €ì¥ ì•ˆ í•¨ (ì ì€ ì¬ì‚¬ìš© ê°€ëŠ¥ì„±)</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-5",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><hr><h3 id=3-flop-aware-eviction-flop-ê¸°ë°˜-ìºì‹œ-ì œê±°><strong>3ï¸âƒ£ FLOP-aware Eviction (FLOP ê¸°ë°˜ ìºì‹œ ì œê±°)</strong></h3><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p><strong>ëª©í‘œ:</strong> ê¸°ì¡´ LRU(Least Recently Used) ì •ì±… ëŒ€ì‹ , <strong>FLOP ì ˆì•½ íš¨ê³¼ê°€ ë‚®ì€ í•­ëª©ë¶€í„° ì œê±°</strong>í•˜ì—¬ ì—°ì‚° íš¨ìœ¨ ê·¹ëŒ€í™”.</p></div></blockquote><p>ğŸ“Œ <strong>ë™ì‘ ë°©ì‹</strong></p><ul><li>ê¸°ì¡´ ì‹œìŠ¤í…œë“¤ì€ ë‹¨ìˆœíˆ <strong>ìµœê·¼ ì‚¬ìš©ë˜ì§€ ì•Šì€ ìºì‹œë¶€í„° ì œê±°(LRU)</strong> í•˜ì§€ë§Œ, MarconiëŠ” **&ldquo;ì–¼ë§ˆë‚˜ ë§ì€ FLOPì„ ì ˆì•½í•  ìˆ˜ ìˆëŠ”ì§€&rdquo;**ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì œê±°.</li><li>ì´ë¥¼ ìœ„í•´, ìºì‹œ í•­ëª©ì˜ **FLOP íš¨ìœ¨ì„± (FLOP saved per byte)**ì„ ê³„ì‚°í•˜ì—¬ <strong>ë‚®ì€ íš¨ìœ¨ í•­ëª©ë¶€í„° ì œê±°</strong>.</li></ul><p>ğŸ“Œ <strong>ì˜ˆì œ ì ìš©</strong></p><table><thead><tr><th>ìºì‹œ í•­ëª©</th><th>ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ (MB)</th><th>ì ˆì•½í•œ FLOP (TFLOP)</th><th>FLOP íš¨ìœ¨ì„± (TFLOP/MB)</th><th>Eviction ìš°ì„ ìˆœìœ„</th></tr></thead><tbody><tr><td><strong>&ldquo;NYC is&rdquo; (Prefix)</strong></td><td>5 MB</td><td>500 TFLOP</td><td><strong>100</strong></td><td>ğŸ”¹ ìœ ì§€</td></tr><tr><td>&ldquo;a busy city&rdquo;</td><td>20 MB</td><td>100 TFLOP</td><td><strong>5</strong></td><td>âŒ ì œê±°</td></tr></tbody></table><ul><li>**&ldquo;a busy city&rdquo;**ëŠ” ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë§ì§€ë§Œ ì ˆì•½í•  FLOPì´ ì ì–´, ë¨¼ì € ì œê±°ë¨.</li><li>ë°˜ë©´, **&ldquo;NYC is&rdquo;**ëŠ” ë†’ì€ FLOP íš¨ìœ¨ì„±ì„ ê°€ì§€ë¯€ë¡œ ìœ ì§€ë¨.</li></ul><hr><h1 id=3-marconi-ì•Œê³ ë¦¬ì¦˜-ìš”ì•½><strong>3. Marconi ì•Œê³ ë¦¬ì¦˜ ìš”ì•½</strong></h1><table><thead><tr><th>ë‹¨ê³„</th><th>ë™ì‘</th><th>íš¨ê³¼</th></tr></thead><tbody><tr><td><strong>1ï¸âƒ£ Speculative Insertion</strong></td><td>Radix Treeë¥¼ ì‚¬ìš©í•´ Prefix ê³µìœ  ì—¬ë¶€ í™•ì¸</td><td><strong>SSM ìƒíƒœë¥¼ ë¯¸ë¦¬ ì˜ˆì¸¡í•˜ì—¬ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì €ì¥</strong></td></tr><tr><td><strong>2ï¸âƒ£ Cache Admission</strong></td><td>ì…ë ¥ê³¼ ì¶œë ¥ ê³µìœ  ê°€ëŠ¥ì„±ì— ë”°ë¼ SSM ìƒíƒœë¥¼ ì„ íƒì ìœ¼ë¡œ ì €ì¥</td><td><strong>ë‚®ì€ ì¬ì‚¬ìš© ê°€ëŠ¥ í•­ëª©ì€ ìºì‹± ì•ˆ í•¨ â†’ ë©”ëª¨ë¦¬ ì ˆì•½</strong></td></tr><tr><td><strong>3ï¸âƒ£ FLOP-aware Eviction</strong></td><td>FLOP íš¨ìœ¨ì„±ì´ ë‚®ì€ ìºì‹œë¥¼ ìš°ì„  ì œê±°</td><td><strong>LRUë³´ë‹¤ ì—°ì‚° íš¨ìœ¨ì„±ì„ ê³ ë ¤í•œ ìºì‹œ ê´€ë¦¬ ê°€ëŠ¥</strong></td></tr></tbody></table><hr><h1 id=4-marconiì˜-ì„±ëŠ¥-ê°œì„ -íš¨ê³¼><strong>4. Marconiì˜ ì„±ëŠ¥ ê°œì„  íš¨ê³¼</strong></h1><p>ğŸ“Œ <strong>MarconiëŠ” ê¸°ì¡´ Transformer ê¸°ë°˜ Prefix Caching ì‹œìŠ¤í…œ(vLLM, SGLang) ëŒ€ë¹„ ë‹¤ìŒê³¼ ê°™ì€ ì„±ëŠ¥ ê°œì„ ì„ ì œê³µ</strong></p><table><thead><tr><th>ì‹œìŠ¤í…œ</th><th>ìºì‹œ íˆíŠ¸ìœ¨ í–¥ìƒ ë°°ìˆ˜</th><th>P95 TTFT ê°œì„  (ìµœëŒ€)</th></tr></thead><tbody><tr><td><strong>Marconi</strong></td><td><strong>4.5Ã— ~ 34.4Ã—</strong></td><td><strong>617 ms (71.1%) ê°ì†Œ</strong></td></tr><tr><td>ê¸°ì¡´ vLLM+</td><td>1Ã—</td><td>0% ê°œì„ </td></tr><tr><td>ê¸°ì¡´ SGLang+</td><td>1Ã—</td><td>12.8~24.7% ê°œì„ </td></tr></tbody></table><hr><h1 id=ê²°ë¡ ><strong>ê²°ë¡ </strong></h1><p>âœ… <strong>MarconiëŠ” Hybrid LLMì—ì„œ ìµœì´ˆë¡œ íš¨ê³¼ì ì¸ Prefix Cachingì„ ì œê³µí•˜ëŠ” ì‹œìŠ¤í…œ</strong><br>âœ… <strong>SSMì˜ in-place state update íŠ¹ì„±ì„ ê³ ë ¤í•œ ìºì‹± ì „ëµì„ ë„ì…</strong><br>âœ… <strong>Radix Tree ê¸°ë°˜ Prefix ì˜ˆì¸¡, ì„ íƒì  SSM ìƒíƒœ ì €ì¥, FLOP-aware Evictionì„ í†µí•´ ê¸°ì¡´ ë°©ë²•ë³´ë‹¤ ì„±ëŠ¥ì„ ëŒ€í­ í–¥ìƒ</strong><br>âœ… <strong>Hybrid ëª¨ë¸(íŠ¹íˆ Attention:SSM ë¹„ìœ¨ì´ 1:8ì¼ ë•Œ)ì—ì„œ ê°€ì¥ í° íš¨ê³¼ ë°œíœ˜</strong></p><p>ğŸ‘‰ <strong>MarconiëŠ” Hybrid LLMì„ ìœ„í•œ ê°€ì¥ íš¨ìœ¨ì ì¸ Prefix Caching ì†”ë£¨ì…˜ì´ë‹¤.</strong></p><h1 id=q--ì´-ë…¼ë¬¸ì—ì„œ-ì‚¬ìš©í•˜ëŠ”-ë°©ë²•ì„-í•™ìŠµí•˜ê¸°-ìœ„í•˜ì—¬-ì–´ë–¤-ë°ì´í„°ì…‹ì´-í•„ìš”í• ê¹Œ-ê·¸ë¦¬ê³ -ì–´ë–»ê²Œ-í•™ìŠµì„-ì§„í–‰í•˜ë©´-ë ì§€-ì˜ˆì‹œë¥¼-ë“¤ì–´ì„œ-ì•„ì£¼-ìì„¸í•˜ê²Œ-ì„¤ëª…í•´ì¤˜>Q : ì´ ë…¼ë¬¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•˜ê¸° ìœ„í•˜ì—¬ ì–´ë–¤ ë°ì´í„°ì…‹ì´ í•„ìš”í• ê¹Œ? ê·¸ë¦¬ê³  ì–´ë–»ê²Œ í•™ìŠµì„ ì§„í–‰í•˜ë©´ ë ì§€ ì˜ˆì‹œë¥¼ ë“¤ì–´ì„œ ì•„ì£¼ ìì„¸í•˜ê²Œ ì„¤ëª…í•´ì¤˜</h1><h1 id=-marconi-ë…¼ë¬¸ì—ì„œ-ì‚¬ìš©í•˜ëŠ”-ë°©ë²•ì„-í•™ìŠµí•˜ê¸°-ìœ„í•œ-ë°ì´í„°ì…‹-ë°-í•™ìŠµ-ë°©ë²•><strong>ğŸ”¹ Marconi ë…¼ë¬¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•˜ê¸° ìœ„í•œ ë°ì´í„°ì…‹ ë° í•™ìŠµ ë°©ë²•</strong></h1><p>MarconiëŠ” <strong>Hybrid LLM(Attention + SSM)ì˜ Prefix Cachingì„ ìµœì í™”í•˜ëŠ” ì‹œìŠ¤í…œ</strong>ìœ¼ë¡œ, ì´ë¥¼ í•™ìŠµí•˜ë ¤ë©´ <strong>(1) ë‹¤ì–‘í•œ LLM ìš”ì²­ íŒ¨í„´ì„ í¬í•¨í•˜ëŠ” ë°ì´í„°ì…‹ì´ í•„ìš”</strong>í•˜ë©°, <strong>(2) Prefix Cachingì˜ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ëŠ” ëª¨ë¸ì„ í•™ìŠµí•´ì•¼ í•¨</strong>.</p><p>ë”°ë¼ì„œ, <strong>Marconië¥¼ í•™ìŠµí•˜ê¸° ìœ„í•´ í•„ìš”í•œ ë°ì´í„°ì…‹, í•™ìŠµ ë°©ë²• ë° ì‹¤í—˜ ì˜ˆì‹œë¥¼ ë‹¨ê³„ë³„ë¡œ ìƒì„¸íˆ ì„¤ëª…</strong>í•˜ê² ë‹¤.</p><hr><h1 id=1-marconi-í•™ìŠµì„-ìœ„í•œ-í•„ìˆ˜-ë°ì´í„°ì…‹><strong>1. Marconi í•™ìŠµì„ ìœ„í•œ í•„ìˆ˜ ë°ì´í„°ì…‹</strong></h1><p>Marconiì˜ ëª©ì ì€ <strong>Hybrid LLMì˜ Prefix Cachingì„ ìµœì í™”í•˜ëŠ” ê²ƒ</strong>ì´ë¯€ë¡œ, ì´ë¥¼ í•™ìŠµí•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ìœ í˜•ì˜ ë°ì´í„°ì…‹ì´ í•„ìš”í•˜ë‹¤.</p><table><thead><tr><th><strong>ë°ì´í„°ì…‹ ìœ í˜•</strong></th><th><strong>ì„¤ëª…</strong></th></tr></thead><tbody><tr><td>ğŸ”¹ <strong>LLM ìš”ì²­ íŒ¨í„´ ë°ì´í„°ì…‹</strong></td><td>LLMì„ ì‚¬ìš©í•˜ëŠ” ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ë°œìƒí•˜ëŠ” ë‹¤ì–‘í•œ ìš”ì²­ ê¸°ë¡ (ì±„íŒ…, ì§ˆì˜ì‘ë‹µ, ë¬¸ì„œ ìƒì„±, ì½”ë”© ë³´ì¡° ë“±)</td></tr><tr><td>ğŸ”¹ <strong>Prefix Reuse ë°ì´í„°ì…‹</strong></td><td>ë™ì¼í•œ Prefixê°€ ì—¬ëŸ¬ ìš”ì²­ì—ì„œ ì–¼ë§ˆë‚˜ ìì£¼ ì¬ì‚¬ìš©ë˜ëŠ”ì§€ ê¸°ë¡í•œ ë°ì´í„°ì…‹</td></tr><tr><td>ğŸ”¹ <strong>FLOP ë° ë©”ëª¨ë¦¬ ì†Œë¹„ ë°ì´í„°ì…‹</strong></td><td>ê° ìš”ì²­ì´ ìˆ˜í–‰ë  ë•Œ, ì—°ì‚°ëŸ‰(FLOP)ê³¼ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰(SSM State, KV Cache ë“±)ì„ ê¸°ë¡í•œ ë°ì´í„°</td></tr></tbody></table><p><strong>ğŸ“Œ ì‹¤ì œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³µê°œ ë°ì´í„°ì…‹ ì˜ˆì‹œ</strong></p><ul><li><p><strong>LMSys Chat-1M</strong> (LLM ì‹¤ì‚¬ìš© ë°ì´í„°ì…‹)</p><ul><li>OpenAI ë° LMSys í”Œë«í¼ì—ì„œ ìˆ˜ì§‘ëœ <strong>ì‹¤ì œ ì‚¬ìš©ì ì±„íŒ… ê¸°ë¡</strong></li><li>ë‹¤ì–‘í•œ Prefix íŒ¨í„´ê³¼ ìš”ì²­ ì¬ì‚¬ìš© ì •ë³´ë¥¼ í¬í•¨</li><li><a href=https://arxiv.org/abs/2309.11998>ğŸ“Œ ë…¼ë¬¸ì—ì„œ ì‚¬ìš©ë¨: <strong>Zheng et al., 2023a</strong></a></li></ul></li><li><p><strong>ShareGPT</strong> (LLM ëŒ€í™” ê¸°ë¡)</p><ul><li>ì‹¤ì œ ì‚¬ìš©ìë“¤ì´ ChatGPTì™€ ì£¼ê³ ë°›ì€ ëŒ€í™” ë°ì´í„°</li><li>Prefix ì¬ì‚¬ìš© ë° ë¬¸ë§¥ì„ í¬í•¨í•œ ë©€í‹°í„´ ëŒ€í™” ê¸°ë¡</li><li><a href=https://sharegpt.com/>ğŸ“Œ ë…¼ë¬¸ì—ì„œ ì‚¬ìš©ë¨</a></li></ul></li><li><p><strong>SWE-Bench</strong> (ì½”ë”© ê´€ë ¨ LLM ìš”ì²­ ë°ì´í„°)</p><ul><li>GitHub ì´ìŠˆë¥¼ í•´ê²°í•˜ëŠ” LLM ìš”ì²­ ê¸°ë¡</li><li>ë™ì¼í•œ Prefixë¥¼ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•˜ëŠ” íŒ¨í„´ì´ ë§ìŒ</li><li><a href=https://arxiv.org/abs/2310.06770>ğŸ“Œ ë…¼ë¬¸ì—ì„œ ì‚¬ìš©ë¨: <strong>Jimenez et al., 2023</strong></a></li></ul></li></ul><hr><h1 id=2-í•™ìŠµ-ë°ì´í„°ì…‹-êµ¬ì¶•-ë°©ë²•><strong>2. í•™ìŠµ ë°ì´í„°ì…‹ êµ¬ì¶• ë°©ë²•</strong></h1><p>Marconiì˜ Prefix Caching ìµœì í™”ë¥¼ ìœ„í•´ <strong>ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ì…‹ì„ êµ¬ì¶•</strong>í•´ì•¼ í•œë‹¤.</p><h3 id=-1-llm-ìš”ì²­-íŒ¨í„´-ë°ì´í„°-ìˆ˜ì§‘><strong>ğŸ”¹ (1) LLM ìš”ì²­ íŒ¨í„´ ë°ì´í„° ìˆ˜ì§‘</strong></h3><ul><li><p>ì‹¤ì œ LLM ì‚¬ìš©ì ìš”ì²­ì„ ê¸°ë¡í•˜ê³ , <strong>ê° ìš”ì²­ì´ ì´ì „ ìš”ì²­ê³¼ ì–¼ë§ˆë‚˜ ê²¹ì¹˜ëŠ”ì§€ (Prefix Reuse)ë¥¼ ë¶„ì„</strong></p></li><li><p>ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒê³¼ ê°™ì€ ìš”ì²­ì´ ë“¤ì–´ì˜¨ë‹¤ê³  ê°€ì •:</p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-6 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-6 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-6><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>1. &#34;Translate the following text into French: Hello, how are you?&#34;
</span></span><span class=line><span class=ln>2</span><span class=cl>2. &#34;Translate the following text into French: Hello, my name is John.&#34;</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-6",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li>ìœ„ ë‘ ê°œì˜ ìš”ì²­ì—ì„œ <strong>&ldquo;Translate the following text into French:&rdquo;</strong> ë¶€ë¶„ì´ ë™ì¼í•œ Prefixë¡œ ì¬ì‚¬ìš©ë¨.</li><li>ì´ë¥¼ Prefix Cacheë¡œ ì €ì¥í•˜ì—¬ <strong>ì–¼ë§ˆë‚˜ ìì£¼ Prefixê°€ ì¬ì‚¬ìš©ë˜ëŠ”ì§€ ê¸°ë¡</strong>.</li></ul></li><li><p><strong>ğŸ“Œ ë°ì´í„° ì €ì¥ í˜•ì‹ (JSON ì˜ˆì‹œ)</strong>:</p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">JSON</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-7 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-7 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-7><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=ln> 1</span><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>    <span class=nt>&#34;request_id&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=nt>&#34;input_text&#34;</span><span class=p>:</span> <span class=s2>&#34;Translate the following text into French: Hello, how are you?&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>    <span class=nt>&#34;prefix&#34;</span><span class=p>:</span> <span class=s2>&#34;Translate the following text into French:&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=nt>&#34;tokens&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>    <span class=nt>&#34;response_time&#34;</span><span class=p>:</span> <span class=mi>500</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>    <span class=nt>&#34;reuse&#34;</span><span class=p>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>    <span class=nt>&#34;request_id&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>    <span class=nt>&#34;input_text&#34;</span><span class=p>:</span> <span class=s2>&#34;Translate the following text into French: Hello, my name is John.&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>    <span class=nt>&#34;prefix&#34;</span><span class=p>:</span> <span class=s2>&#34;Translate the following text into French:&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>    <span class=nt>&#34;tokens&#34;</span><span class=p>:</span> <span class=mi>18</span><span class=p>,</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>    <span class=nt>&#34;response_time&#34;</span><span class=p>:</span> <span class=mi>480</span><span class=p>,</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>    <span class=nt>&#34;reuse&#34;</span><span class=p>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=p>]</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-7",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li><code>reuse: true</code> â†’ ê¸°ì¡´ Prefixê°€ ì¬ì‚¬ìš©ë¨ â†’ ìºì‹± ê°€ëŠ¥</li><li><code>reuse: false</code> â†’ ìƒˆë¡œìš´ ìš”ì²­ì´ë¯€ë¡œ ìºì‹± ë¶ˆê°€ëŠ¥</li></ul></li></ul><hr><h3 id=-2-flop-ë°-ë©”ëª¨ë¦¬-ì†Œë¹„-ë¶„ì„><strong>ğŸ”¹ (2) FLOP ë° ë©”ëª¨ë¦¬ ì†Œë¹„ ë¶„ì„</strong></h3><ul><li><p>ê° ìš”ì²­ì„ ì‹¤í–‰í•  ë•Œ, <strong>ì‹¤ì œ ì—°ì‚°ëŸ‰(FLOP)ê³¼ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰(SSM State í¬ê¸°, KV Cache í¬ê¸° ë“±)ì„ ì¸¡ì •</strong></p></li><li><p>FLOP ë° ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ ê¸°ë¡:</p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">JSON</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-8 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-8 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-8><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=ln> 1</span><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>    <span class=nt>&#34;request_id&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=nt>&#34;flop_usage&#34;</span><span class=p>:</span> <span class=mi>2500000000</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>    <span class=nt>&#34;memory_usage_mb&#34;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=nt>&#34;ssm_state_size_mb&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>    <span class=nt>&#34;kv_cache_size_mb&#34;</span><span class=p>:</span> <span class=mi>20</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>    <span class=nt>&#34;request_id&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>    <span class=nt>&#34;flop_usage&#34;</span><span class=p>:</span> <span class=mi>1800000000</span><span class=p>,</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>    <span class=nt>&#34;memory_usage_mb&#34;</span><span class=p>:</span> <span class=mi>45</span><span class=p>,</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>    <span class=nt>&#34;ssm_state_size_mb&#34;</span><span class=p>:</span> <span class=mi>28</span><span class=p>,</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>    <span class=nt>&#34;kv_cache_size_mb&#34;</span><span class=p>:</span> <span class=mi>17</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=p>]</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-8",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li>ì´ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ <strong>ì–´ë–¤ ìºì‹œê°€ ê°€ì¥ ë†’ì€ FLOP ì ˆì•½ íš¨ê³¼ë¥¼ ì œê³µí•˜ëŠ”ì§€</strong> ë¶„ì„í•  ìˆ˜ ìˆìŒ.</li></ul></li></ul><hr><h1 id=3-í•™ìŠµ-ë°©ë²•-ë°-ìµœì í™”-ê³¼ì •><strong>3. í•™ìŠµ ë°©ë²• ë° ìµœì í™” ê³¼ì •</strong></h1><p>Marconiì˜ ìºì‹œ ìµœì í™” ëª¨ë¸ì„ í•™ìŠµí•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì„ ê±°ì¹œë‹¤.</p><h3 id=1-prefix-caching-í•™ìŠµ-prefix-reuse-ì˜ˆì¸¡-ëª¨ë¸><strong>1ï¸âƒ£ Prefix Caching í•™ìŠµ</strong> (Prefix Reuse ì˜ˆì¸¡ ëª¨ë¸)</h3><ul><li><strong>ëª©í‘œ:</strong> <strong>ì–´ë–¤ Prefixê°€ ì¬ì‚¬ìš©ë  ê°€ëŠ¥ì„±ì´ ë†’ì€ì§€ í•™ìŠµí•˜ì—¬ ìºì‹œ ì €ì¥ ê²°ì •</strong></li><li><strong>ë°©ë²•:</strong><ul><li>Prefix Reuse ë°ì´í„°ì…‹ì„ ì‚¬ìš©í•˜ì—¬ <strong>Prefixê°€ ì–¼ë§ˆë‚˜ ìì£¼ ì¬ì‚¬ìš©ë˜ëŠ”ì§€ ì˜ˆì¸¡í•˜ëŠ” LSTM ëª¨ë¸ í•™ìŠµ</strong></li><li>Prefixê°€ <code>reuse: true</code>ë¡œ í‘œì‹œëœ ë¹ˆë„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ <strong>Prefix Reuse í™•ë¥  ì˜ˆì¸¡</strong></li><li><strong>ì…ë ¥:</strong> Prefix Token Sequence</li><li><strong>ì¶œë ¥:</strong> Prefix Reuse í™•ë¥  (0~1)</li><li><strong>ëª¨ë¸ ì˜ˆì‹œ (PyTorch)</strong>:<div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PYTHON</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-9 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-9 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-9><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln> 1</span><span class=cl><span class=k>class</span> <span class=nc>PrefixReusePredictor</span><span class=p>(</span><span class=n>nn</span><span class=o>.</span><span class=n>Module</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>vocab_size</span><span class=p>,</span> <span class=n>embed_dim</span><span class=p>,</span> <span class=n>hidden_dim</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>        <span class=nb>super</span><span class=p>(</span><span class=n>PrefixReusePredictor</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>embedding</span> <span class=o>=</span> <span class=n>nn</span><span class=o>.</span><span class=n>Embedding</span><span class=p>(</span><span class=n>vocab_size</span><span class=p>,</span> <span class=n>embed_dim</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>lstm</span> <span class=o>=</span> <span class=n>nn</span><span class=o>.</span><span class=n>LSTM</span><span class=p>(</span><span class=n>embed_dim</span><span class=p>,</span> <span class=n>hidden_dim</span><span class=p>,</span> <span class=n>batch_first</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>fc</span> <span class=o>=</span> <span class=n>nn</span><span class=o>.</span><span class=n>Linear</span><span class=p>(</span><span class=n>hidden_dim</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>
</span></span><span class=line><span class=ln> 8</span><span class=cl>    <span class=k>def</span> <span class=nf>forward</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>        <span class=n>x</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>embedding</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>        <span class=n>_</span><span class=p>,</span> <span class=p>(</span><span class=n>h</span><span class=p>,</span> <span class=n>_</span><span class=p>)</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>lstm</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>        <span class=k>return</span> <span class=n>torch</span><span class=o>.</span><span class=n>sigmoid</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fc</span><span class=p>(</span><span class=n>h</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]))</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-9",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li></ul></li></ul><hr><h3 id=2-flop-aware-ìºì‹œ-ê´€ë¦¬-í•™ìŠµ-eviction-policy><strong>2ï¸âƒ£ FLOP-aware ìºì‹œ ê´€ë¦¬ í•™ìŠµ</strong> (Eviction Policy)</h3><ul><li><p><strong>ëª©í‘œ:</strong> <strong>ìºì‹œì—ì„œ ì œê±°í•  í•­ëª©ì„ ê²°ì •í•˜ëŠ” FLOP ê¸°ë°˜ Eviction Policy í•™ìŠµ</strong></p></li><li><p><strong>ë°©ë²•:</strong></p><ul><li>ìºì‹œ í•­ëª©ë§ˆë‹¤ <code>flop_usage</code>, <code>memory_usage_mb</code>ë¥¼ í™œìš©í•˜ì—¬ <strong>FLOP ëŒ€ë¹„ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±ì„ ê³„ì‚°</strong></li><li><code>flop_usage / memory_usage_mb</code>ê°€ ë‚®ì€ í•­ëª©ì„ ì œê±°í•˜ë„ë¡ í•™ìŠµ</li><li>Q-Learning ê¸°ë°˜ Reinforcement Learning(RL) ì ìš© ê°€ëŠ¥</li></ul><p><strong>ğŸ“Œ RL í™˜ê²½ ì„¤ì • ì˜ˆì‹œ</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PYTHON</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-10 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-10 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-10><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln> 1</span><span class=cl><span class=k>class</span> <span class=nc>CacheEvictionEnv</span><span class=p>(</span><span class=n>gym</span><span class=o>.</span><span class=n>Env</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>state_space</span> <span class=o>=</span> <span class=mi>100</span>  <span class=c1># ìºì‹œ í•­ëª© ê°œìˆ˜</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>action_space</span> <span class=o>=</span> <span class=n>spaces</span><span class=o>.</span><span class=n>Discrete</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>state_space</span><span class=p>)</span>  <span class=c1># ì œê±°í•  í•­ëª© ì„ íƒ</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cache</span> <span class=o>=</span> <span class=p>[]</span>  <span class=c1># í˜„ì¬ ìºì‹œ ì €ì¥ì†Œ</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>
</span></span><span class=line><span class=ln> 7</span><span class=cl>    <span class=k>def</span> <span class=nf>step</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>action</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>        <span class=n>removed_item</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>action</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>        <span class=n>reward</span> <span class=o>=</span> <span class=n>removed_item</span><span class=p>[</span><span class=s2>&#34;flop_usage&#34;</span><span class=p>]</span> <span class=o>/</span> <span class=n>removed_item</span><span class=p>[</span><span class=s2>&#34;memory_usage_mb&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=p>,</span> <span class=n>reward</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=p>{}</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>
</span></span><span class=line><span class=ln>12</span><span class=cl>    <span class=k>def</span> <span class=nf>reset</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cache</span> <span class=o>=</span> <span class=n>load_cache_data</span><span class=p>()</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>cache</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-10",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li></ul><hr><h1 id=4-ê²°ë¡ -1><strong>4. ê²°ë¡ </strong></h1><p>âœ… Marconië¥¼ í•™ìŠµí•˜ê¸° ìœ„í•´ <strong>LLM ìš”ì²­ ë°ì´í„°, Prefix Reuse ë°ì´í„°, FLOP ë° ë©”ëª¨ë¦¬ ì†Œë¹„ ë°ì´í„°</strong>ê°€ í•„ìš”í•¨.<br>âœ… <strong>Prefix Reuse ì˜ˆì¸¡ ëª¨ë¸</strong>ì„ LSTMìœ¼ë¡œ í•™ìŠµí•˜ì—¬ <strong>ì¬ì‚¬ìš© í™•ë¥ ì´ ë†’ì€ Prefixë¥¼ ìºì‹±</strong>.<br>âœ… <strong>FLOP-aware Eviction Policy</strong>ë¥¼ RL ê¸°ë°˜ìœ¼ë¡œ í•™ìŠµí•˜ì—¬ <strong>ë‚®ì€ FLOP íš¨ìœ¨ì„±ì„ ê°€ì§„ ìºì‹œë¥¼ ì œê±°</strong>.</p><p>ğŸ‘‰ ì´ë¥¼ í†µí•´ <strong>Hybrid LLM í™˜ê²½ì—ì„œ ê°€ì¥ íš¨ê³¼ì ì¸ Prefix Caching ì‹œìŠ¤í…œì„ êµ¬ì¶• ê°€ëŠ¥!</strong> ğŸš€</p><h1 id=q--ì´-ë…¼ë¬¸ì—ì„œ-ì œì‹œí•œ-ê²°ê³¼ë¥¼-ìì„¸í•˜ê²Œ-ë³´ê³ -ë‹¤ë¥¸-ë°©ë²•ë¡ ì—-ë¹„í•˜ì—¬-íŠ¹ì¶œë‚œ-ì ê³¼-ë…¼ë¬¸ì—ì„œ-ì œê¸°í•˜ëŠ”-ì–´ë– í•œ-ë°©ë²•ì´-ì´ëŸ¬í•œ-ê²°ê³¼ë¥¼-ë„ì¶œí•˜ê²Œ-ë˜ì—ˆëŠ”ì§€-ë…¼ë¬¸ì—ì„œ-ì œì‹œí•˜ëŠ”-ì´ìœ ì™€-ë„ˆì˜-ìƒê°ì„-ì•Œë ¤ì¤˜>Q : ì´ ë…¼ë¬¸ì—ì„œ ì œì‹œí•œ ê²°ê³¼ë¥¼ ìì„¸í•˜ê²Œ ë³´ê³  ë‹¤ë¥¸ ë°©ë²•ë¡ ì— ë¹„í•˜ì—¬ íŠ¹ì¶œë‚œ ì ê³¼ ë…¼ë¬¸ì—ì„œ ì œê¸°í•˜ëŠ” ì–´ë– í•œ ë°©ë²•ì´ ì´ëŸ¬í•œ ê²°ê³¼ë¥¼ ë„ì¶œí•˜ê²Œ ë˜ì—ˆëŠ”ì§€ ë…¼ë¬¸ì—ì„œ ì œì‹œí•˜ëŠ” ì´ìœ ì™€ ë„ˆì˜ ìƒê°ì„ ì•Œë ¤ì¤˜</h1><h1 id=-marconi-ë…¼ë¬¸ì˜-ì‹¤í—˜-ê²°ê³¼-ë°-ê¸°ì¡´-ë°©ë²•ë¡ ê³¼ì˜-ë¹„êµ-ë¶„ì„><strong>ğŸ”¹ Marconi ë…¼ë¬¸ì˜ ì‹¤í—˜ ê²°ê³¼ ë° ê¸°ì¡´ ë°©ë²•ë¡ ê³¼ì˜ ë¹„êµ ë¶„ì„</strong></h1><h2 id=1-ë…¼ë¬¸ì—ì„œ-ì œì‹œí•œ-ê²°ê³¼-ìš”ì•½><strong>1. ë…¼ë¬¸ì—ì„œ ì œì‹œí•œ ê²°ê³¼ ìš”ì•½</strong></h2><p>ë…¼ë¬¸ì—ì„œëŠ” Marconiê°€ ê¸°ì¡´ Prefix Caching ë°©ë²•ë¡ (vLLM+, SGLang+)ë³´ë‹¤ <strong>ìµœëŒ€ 34.4ë°° ë†’ì€ Token Hit Rate</strong>ì™€ **ìµœëŒ€ 71.1% ë‚®ì€ TTFT(Time To First Token)**ë¥¼ ë‹¬ì„±í–ˆë‹¤ê³  ë³´ê³ í–ˆë‹¤.</p><table><thead><tr><th>ë¹„êµ ì‹œìŠ¤í…œ</th><th>í‰ê·  ìºì‹œ íˆíŠ¸ìœ¨ ì¦ê°€ ë°°ìˆ˜</th><th>P95 TTFT ê°ì†Œ</th></tr></thead><tbody><tr><td><strong>Marconi</strong></td><td><strong>4.5Ã— ~ 34.4Ã—</strong></td><td><strong>ìµœëŒ€ 71.1% (617ms)</strong></td></tr><tr><td>ê¸°ì¡´ vLLM+</td><td>1Ã—</td><td>0% ê°œì„ </td></tr><tr><td>ê¸°ì¡´ SGLang+</td><td>1Ã—</td><td>12.8~24.7% ê°œì„ </td></tr></tbody></table><p>ğŸ“Œ <strong>í•µì‹¬ ì„±ëŠ¥ ê°œì„ ì :</strong></p><ul><li>MarconiëŠ” <strong>Prefix Cacheë¥¼ ë” íš¨ê³¼ì ìœ¼ë¡œ í™œìš©</strong>í•˜ì—¬ <strong>ë” ë§ì€ ìš”ì²­ì—ì„œ Prefixë¥¼ ì¬ì‚¬ìš©</strong>.</li><li>FLOP-aware Evictionì„ í†µí•´ <strong>ë‚®ì€ ì—°ì‚° íš¨ìœ¨ì„ ê°€ì§„ ìºì‹œë¥¼ ì œê±°í•˜ì—¬ ì—°ì‚°ëŸ‰ì„ ì¤„ì„</strong>.</li><li>Radix Treeë¥¼ í™œìš©í•œ <strong>Speculative Insertionìœ¼ë¡œ í•„ìš”í•œ Prefixë§Œ ì €ì¥</strong>í•˜ì—¬ <strong>ë¶ˆí•„ìš”í•œ ìºì‹±ì„ ìµœì†Œí™”</strong>.</li></ul><hr><h2 id=2-ê¸°ì¡´-ë°©ë²•ë¡ ê³¼-marconiì˜-ì°¨ë³„ì ><strong>2. ê¸°ì¡´ ë°©ë²•ë¡ ê³¼ Marconiì˜ ì°¨ë³„ì </strong></h2><h3 id=1-ê¸°ì¡´-prefix-caching-ì‹œìŠ¤í…œì˜-ë¬¸ì œì ><strong>(1) ê¸°ì¡´ Prefix Caching ì‹œìŠ¤í…œì˜ ë¬¸ì œì </strong></h3><p>ê¸°ì¡´ vLLM, SGLangê³¼ ê°™ì€ Prefix Caching ì‹œìŠ¤í…œì€ ì£¼ë¡œ Transformer ê¸°ë°˜ ëª¨ë¸ì„ ìœ„í•´ ì„¤ê³„ë˜ì—ˆìœ¼ë©°, ë‹¤ìŒê³¼ ê°™ì€ í•œê³„ë¥¼ ê°€ì§„ë‹¤.</p><table><thead><tr><th>ê¸°ì¡´ ë°©ë²•</th><th>ë¬¸ì œì </th></tr></thead><tbody><tr><td><strong>vLLM+</strong></td><td>ëª¨ë“  KV Cacheë¥¼ ì €ì¥í•˜ì—¬ <strong>ìºì‹œ ë©”ëª¨ë¦¬ ë‚­ë¹„</strong> ë°œìƒ</td></tr><tr><td><strong>SGLang+</strong></td><td>Radix Treeë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ <strong>ëª¨ë“  ìƒíƒœë¥¼ ì €ì¥</strong>í•˜ì—¬ ìºì‹œ thrashing ë°œìƒ</td></tr><tr><td><strong>LRU ê¸°ë°˜ Eviction</strong></td><td>ë‹¨ìˆœ <strong>ìµœê·¼ ì‚¬ìš©ë˜ì§€ ì•Šì€ í•­ëª© ì œê±°</strong>ë¡œ <strong>FLOP ì ˆì•½ ê³ ë ¤ ì•ˆ í•¨</strong></td></tr></tbody></table><p><strong>ğŸ“Œ ê²°ê³¼ì ìœ¼ë¡œ, ê¸°ì¡´ ë°©ë²•ì€ Hybrid LLMì—ì„œ Prefix Caching íš¨ìœ¨ì´ ë‚®ìŒ.</strong></p><ul><li>SSM(State Space Model)ì˜ <strong>in-place state update íŠ¹ì„±</strong>ì„ ê³ ë ¤í•˜ì§€ ì•Šê¸° ë•Œë¬¸.</li><li>Prefix Cacheê°€ ë¹ ë¥´ê²Œ í¬í™”ë˜ì–´ <strong>ë‚®ì€ ìºì‹œ íˆíŠ¸ìœ¨ê³¼ ë†’ì€ TTFTë¥¼ ì´ˆë˜</strong>.</li></ul><hr><h3 id=2-marconiì˜-ì°¨ë³„í™”ëœ-ë°©ë²•ë¡ ><strong>(2) Marconiì˜ ì°¨ë³„í™”ëœ ë°©ë²•ë¡ </strong></h3><p>Marconiê°€ ê¸°ì¡´ ë°©ë²•ë¡  ëŒ€ë¹„ íŠ¹ì¶œë‚œ ì ì€ ë‹¤ìŒ ì„¸ ê°€ì§€ í•µì‹¬ ê¸°ë²•ì—ì„œ ë‚˜ì˜¨ë‹¤.</p><h4 id=-1-speculative-insertion-radix-tree-ê¸°ë°˜-ì‚¬ì „-ì˜ˆì¸¡><strong>ğŸ“Œ 1ï¸âƒ£ Speculative Insertion (Radix Tree ê¸°ë°˜ ì‚¬ì „ ì˜ˆì¸¡)</strong></h4><ul><li>ê¸°ì¡´ ì‹œìŠ¤í…œì€ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ <strong>Prefix Cachingì„ ìˆ˜í–‰</strong>í•˜ì§€ë§Œ, MarconiëŠ” ìš”ì²­ì´ ë“¤ì–´ì˜¤ê¸° ì „ì— <strong>Prefixê°€ ì–¼ë§ˆë‚˜ ì¬ì‚¬ìš©ë ì§€ë¥¼ ë¯¸ë¦¬ ì˜ˆì¸¡</strong>.</li><li>Radix Treeë¥¼ í™œìš©í•˜ì—¬ <strong>&ldquo;ì´ì „ ìš”ì²­ê³¼ ì–¼ë§ˆë‚˜ ê²¹ì¹˜ëŠ”ì§€"ë¥¼ ë¶„ì„</strong>í•˜ê³ , <strong>ì¬ì‚¬ìš© ê°€ëŠ¥ì„±ì´ ë†’ì€ Prefixë§Œ ì„ íƒì ìœ¼ë¡œ ìºì‹±</strong>.</li></ul><p>ğŸ“Œ <strong>ì´ì :</strong><br>âœ… <strong>ë¶ˆí•„ìš”í•œ ìºì‹±ì„ ì¤„ì—¬ ìºì‹œ thrashing ë°©ì§€</strong><br>âœ… <strong>íš¨ìœ¨ì ì¸ Prefix ì„ íƒìœ¼ë¡œ Token Hit Rate í–¥ìƒ</strong></p><hr><h4 id=-2-judicious-cache-admission-ì„ ë³„ì -ìºì‹œ-ì €ì¥><strong>ğŸ“Œ 2ï¸âƒ£ Judicious Cache Admission (ì„ ë³„ì  ìºì‹œ ì €ì¥)</strong></h4><ul><li>ê¸°ì¡´ ì‹œìŠ¤í…œì€ ëª¨ë“  KV Cache ë° SSM ìƒíƒœë¥¼ ì €ì¥í•˜ì§€ë§Œ, MarconiëŠ” <strong>SSMì˜ &ldquo;all-or-nothing&rdquo; íŠ¹ì„±ì„ ê³ ë ¤í•˜ì—¬ í•„ìš”í•œ ìƒíƒœë§Œ ìºì‹±</strong>.</li><li><strong>ì…ë ¥ê³¼ ì¶œë ¥ì´ ê³µìœ ë˜ëŠ” Prefix(ëŒ€í™” ì´ë ¥ ë“±)ë§Œ ì €ì¥</strong>í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ <strong>ìºì‹œ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”</strong>.</li></ul><p>ğŸ“Œ <strong>ì´ì :</strong><br>âœ… <strong>ë¶ˆí•„ìš”í•œ SSM ìƒíƒœ ì €ì¥ ê°ì†Œ â†’ ë©”ëª¨ë¦¬ ì ˆì•½</strong><br>âœ… <strong>SSMì˜ íŠ¹ì„±(in-place state update)ì„ ê³ ë ¤í•œ ìµœì í™” ì ìš©</strong></p><hr><h4 id=-3-flop-aware-eviction-ì—°ì‚°-íš¨ìœ¨ì„-ê³ ë ¤í•œ-ìºì‹œ-ì‚­ì œ><strong>ğŸ“Œ 3ï¸âƒ£ FLOP-aware Eviction (ì—°ì‚° íš¨ìœ¨ì„ ê³ ë ¤í•œ ìºì‹œ ì‚­ì œ)</strong></h4><ul><li>ê¸°ì¡´ LRU ë°©ì‹ì€ ë‹¨ìˆœíˆ &ldquo;ê°€ì¥ ì˜¤ë˜ëœ ìºì‹œë¥¼ ì‚­ì œ"í•˜ì§€ë§Œ, MarconiëŠ” <strong>FLOP íš¨ìœ¨ì„±ì„ ë¶„ì„í•˜ì—¬ ì—°ì‚° ì ˆì•½ì´ ì ì€ ìºì‹œë¶€í„° ì œê±°</strong>.</li><li><code>FLOP Efficiency = FLOP ì ˆì•½ëŸ‰ / ìºì‹œ ë©”ëª¨ë¦¬ í¬ê¸°</code> ê³µì‹ì„ ì‚¬ìš©í•˜ì—¬ <strong>ìºì‹œ ìœ ì§€ ìš°ì„ ìˆœìœ„ë¥¼ ê²°ì •</strong>.</li></ul><p>ğŸ“Œ <strong>ì´ì :</strong><br>âœ… <strong>ë‹¨ìˆœ recencyê°€ ì•„ë‹ˆë¼ ì—°ì‚° ì ˆì•½ëŸ‰ì„ ê¸°ì¤€ìœ¼ë¡œ ìºì‹œ ìœ ì§€ ê²°ì •</strong><br>âœ… <strong>íš¨ìœ¨ì ì¸ ìºì‹œ ê´€ë¦¬ë¡œ ìºì‹œ thrashing ë°©ì§€ ë° TTFT ë‹¨ì¶•</strong></p><hr><h2 id=3-ë…¼ë¬¸ì—ì„œ-ì œê¸°í•˜ëŠ”-marconiì˜-ì„±ëŠ¥-í–¥ìƒ-ì´ìœ ><strong>3. ë…¼ë¬¸ì—ì„œ ì œê¸°í•˜ëŠ” Marconiì˜ ì„±ëŠ¥ í–¥ìƒ ì´ìœ </strong></h2><p>ë…¼ë¬¸ì—ì„œ Marconiê°€ ë›°ì–´ë‚œ ì„±ëŠ¥ì„ ë³´ì´ëŠ” ì´ìœ ë¡œ ë‹¤ìŒ ì„¸ ê°€ì§€ë¥¼ ì œì‹œí•œë‹¤.</p><table><thead><tr><th>ì„±ëŠ¥ ê°œì„  ìš”ì†Œ</th><th>ë…¼ë¬¸ì—ì„œ ì œì‹œí•˜ëŠ” ì´ìœ </th></tr></thead><tbody><tr><td><strong>Token Hit Rate ì¦ê°€</strong></td><td>Speculative Insertionìœ¼ë¡œ <strong>Prefix Reuse ê°€ëŠ¥ì„±ì´ ë†’ì€ ë¶€ë¶„ë§Œ ì €ì¥</strong></td></tr><tr><td><strong>TTFT (Time To First Token) ê°ì†Œ</strong></td><td>FLOP-aware Evictionìœ¼ë¡œ <strong>ì—°ì‚°ëŸ‰ì´ ë†’ì€ í•­ëª©ì„ ìœ ì§€í•˜ê³  ë¶ˆí•„ìš”í•œ í•­ëª© ì‚­ì œ</strong></td></tr><tr><td><strong>Cache Thrashing ë°©ì§€</strong></td><td>Radix Treeë¥¼ í™œìš©í•œ íš¨ìœ¨ì ì¸ ìºì‹±ìœ¼ë¡œ <strong>ë‚­ë¹„ë˜ëŠ” ìºì‹œ ì €ì¥ ê³µê°„ ìµœì†Œí™”</strong></td></tr></tbody></table><hr><h2 id=4-ë‚˜ì˜-ë¶„ì„-ë°-ì¶”ê°€ì ì¸-ìƒê°><strong>4. ë‚˜ì˜ ë¶„ì„ ë° ì¶”ê°€ì ì¸ ìƒê°</strong></h2><p>ë…¼ë¬¸ì—ì„œ ì œì‹œí•œ Marconiì˜ ì„±ëŠ¥ í–¥ìƒ ì´ìœ ì— ë™ì˜í•˜ì§€ë§Œ, ëª‡ ê°€ì§€ ì¶”ê°€ì ìœ¼ë¡œ ê³ ë ¤í•  ë¶€ë¶„ì´ ìˆë‹¤.</p><h3 id=-1-marconiì˜-í•œê³„><strong>ğŸ”¹ (1) Marconiì˜ í•œê³„</strong></h3><p>MarconiëŠ” <strong>Hybrid LLMì—ì„œ ë›°ì–´ë‚œ ì„±ëŠ¥ì„ ë³´ì´ì§€ë§Œ, Transformer ì „ìš© ëª¨ë¸ì—ì„œëŠ” íš¨ê³¼ê°€ ì œí•œì </strong>ì´ë‹¤.</p><ul><li><strong>SSMì´ ì ì€ ëª¨ë¸ì—ì„œëŠ” ìºì‹œ ì ˆì•½ íš¨ê³¼ê°€ ì‘ì•„ì§ˆ ìˆ˜ ìˆìŒ</strong>.</li><li><strong>ë§¤ìš° ì§§ì€ Prefixì—ì„œëŠ” Speculative Insertionì˜ íš¨ê³¼ê°€ í¬ì§€ ì•ŠìŒ</strong>.</li></ul><h3 id=-2-speculative-insertionì´-ëª¨ë“ -ìƒí™©ì—ì„œ-ìµœì ì¸ê°€><strong>ğŸ”¹ (2) Speculative Insertionì´ ëª¨ë“  ìƒí™©ì—ì„œ ìµœì ì¸ê°€?</strong></h3><ul><li>Radix Tree ê¸°ë°˜ Speculative Insertionì€ <strong>SSM ë¹„ìœ¨ì´ ë†’ì€ Hybrid LLMì—ì„œ ë§¤ìš° íš¨ê³¼ì </strong>.</li><li>ê·¸ëŸ¬ë‚˜ <strong>ë‹¤ì–‘í•œ ë„ë©”ì¸(ì˜ˆ: ì§§ì€ ì§ˆì˜ì‘ë‹µ, ê²€ìƒ‰ ì¿¼ë¦¬)ì—ì„œëŠ” Prefix Reuse íŒ¨í„´ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ</strong>.</li><li>ë”°ë¼ì„œ, <strong>Prefix Reuse íŒ¨í„´ì´ ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œëŠ” ìµœì ì˜ Thresholdë¥¼ íŠœë‹í•´ì•¼ í•  ê°€ëŠ¥ì„±</strong>ì´ ìˆë‹¤.</li></ul><h3 id=-3-rl-ê¸°ë°˜-eviction-ì •ì±…-ì ìš©-ê°€ëŠ¥ì„±><strong>ğŸ”¹ (3) RL ê¸°ë°˜ Eviction ì •ì±… ì ìš© ê°€ëŠ¥ì„±</strong></h3><ul><li>í˜„ì¬ Marconiì˜ FLOP-aware Evictionì€ ì •ì ì¸ Heuristic ê¸°ë°˜ì´ì§€ë§Œ, <strong>Reinforcement Learning(RL) ê¸°ë²•ì„ ì ìš©í•˜ë©´ ë™ì ìœ¼ë¡œ ìµœì ì˜ ìºì‹œ ìœ ì§€ ì •ì±…ì„ í•™ìŠµí•  ìˆ˜ ìˆìŒ</strong>.</li><li>ì˜ˆë¥¼ ë“¤ì–´, <strong>í™˜ê²½ì— ë”°ë¼ Eviction ì •ì±…ì„ ì¡°ì •í•˜ëŠ” RL ê¸°ë°˜ ìºì‹œ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ì ìš©í•˜ë©´ ë”ìš± ìµœì í™” ê°€ëŠ¥</strong>.</li></ul><hr><h2 id=5-ê²°ë¡ ><strong>5. ê²°ë¡ </strong></h2><p>MarconiëŠ” ê¸°ì¡´ Prefix Caching ë°©ë²•ë¡  ëŒ€ë¹„ <strong>(1) Prefix ì„ íƒì  ìºì‹±, (2) FLOP-aware Eviction, (3) Radix Tree ê¸°ë°˜ Speculative Insertionì„ ë„ì…í•˜ì—¬ í•˜ì´ë¸Œë¦¬ë“œ LLMì—ì„œ ìµœì ì˜ ìºì‹± ì „ëµì„ êµ¬í˜„</strong>í–ˆë‹¤.</p><p>âœ… <strong>Marconiì˜ íŠ¹ì¶œë‚œ ì :</strong></p><ul><li><strong>ê¸°ì¡´ Transformer ê¸°ë°˜ ìºì‹± ì‹œìŠ¤í…œì˜ í•œê³„ë¥¼ ê·¹ë³µ</strong></li><li><strong>SSMì˜ in-place state update íŠ¹ì„±ì„ ê³ ë ¤í•œ ìµœì í™” ì ìš©</strong></li><li><strong>ë‹¨ìˆœ LRUê°€ ì•„ë‹Œ FLOP íš¨ìœ¨ì„±ì„ ê¸°ë°˜ìœ¼ë¡œ ìºì‹œ ì œê±° ì •ì±… ë„ì…</strong></li></ul><p>ğŸš€ <strong>ì¶”ê°€ì ìœ¼ë¡œ RL ê¸°ë°˜ Eviction ì •ì±…ì„ ì ìš©í•˜ë©´ Marconiì˜ ì„±ëŠ¥ì„ ë”ìš± ê°œì„ í•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤!</strong></p><h1 id=q--ì´-ë…¼ë¬¸ì—ì„œ-ì œì‹œëœ-ë°©ë²•ì„-ì‹¤ì œë¡œ-ì‚¬ìš©í•˜ë ¤ë©´-ê¸°ì¡´-ë°©ë²•ì—ì„œ-ì–´ë– í•œ-êµ¬í˜„ì´-ì¶”ê°€ì ìœ¼ë¡œ-í•„ìš”í•˜ê³ -ì´ëŸ¬í•œ-êµ¬í˜„ì—-ì†Œëª¨ë˜ëŠ”-ê³µìˆ˜-ë°-ì—°ì‚°ì—-í•„ìš”í•œ-ì»´í“¨íŒ…-ìì›ì˜-í¬ê¸°ì—-ëŒ€í•´ì„œ-ê³„ì‚°í•´ì¤„-ìˆ˜-ìˆê² ë‹ˆ>Q : ì´ ë…¼ë¬¸ì—ì„œ ì œì‹œëœ ë°©ë²•ì„ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ë ¤ë©´ ê¸°ì¡´ ë°©ë²•ì—ì„œ ì–´ë– í•œ êµ¬í˜„ì´ ì¶”ê°€ì ìœ¼ë¡œ í•„ìš”í•˜ê³  ì´ëŸ¬í•œ êµ¬í˜„ì— ì†Œëª¨ë˜ëŠ” ê³µìˆ˜ ë° ì—°ì‚°ì— í•„ìš”í•œ ì»´í“¨íŒ… ìì›ì˜ í¬ê¸°ì— ëŒ€í•´ì„œ ê³„ì‚°í•´ì¤„ ìˆ˜ ìˆê² ë‹ˆ?</h1><h1 id=-marconi-êµ¬í˜„ì„-ê¸°ì¡´-ì‹œìŠ¤í…œì—-ì ìš©í•˜ëŠ”-ë°-í•„ìš”í•œ-ì¶”ê°€-êµ¬í˜„-ì‚¬í•­-ë°-ì»´í“¨íŒ…-ìì›-ë¶„ì„><strong>ğŸ”¹ Marconi êµ¬í˜„ì„ ê¸°ì¡´ ì‹œìŠ¤í…œì— ì ìš©í•˜ëŠ” ë° í•„ìš”í•œ ì¶”ê°€ êµ¬í˜„ ì‚¬í•­ ë° ì»´í“¨íŒ… ìì› ë¶„ì„</strong></h1><p>MarconiëŠ” ê¸°ì¡´ Prefix Caching ì‹œìŠ¤í…œ(vLLM+, SGLang+) ëŒ€ë¹„ <strong>Speculative Insertion, Judicious Cache Admission, FLOP-aware Eviction</strong> ë“±ì˜ ê¸°ë²•ì„ ì¶”ê°€ì ìœ¼ë¡œ ë„ì…í•´ì•¼ í•œë‹¤.<br>ë”°ë¼ì„œ, ì´ë¥¼ ì‹¤ì œë¡œ ì ìš©í•˜ë ¤ë©´ <strong>(1) ê¸°ì¡´ ë°©ë²•ê³¼ ë¹„êµí•˜ì—¬ ì–´ë–¤ êµ¬í˜„ì´ ì¶”ê°€ì ìœ¼ë¡œ í•„ìš”í•œì§€ ë¶„ì„í•˜ê³ , (2) êµ¬í˜„ ë‚œì´ë„ì™€ ì†Œìš”ë˜ëŠ” ê°œë°œ ê³µìˆ˜, (3) ì—°ì‚°ëŸ‰ ë° ì»´í“¨íŒ… ìì› ì†Œëª¨ëŸ‰ì„ ê³„ì‚°í•˜ì—¬ í˜„ì‹¤ì ì¸ ì ìš© ê°€ëŠ¥ì„±ì„ í‰ê°€</strong>í•´ì•¼ í•œë‹¤.</p><hr><h2 id=1-ê¸°ì¡´-prefix-caching-ì‹œìŠ¤í…œvllm-sglang-ëŒ€ë¹„-ì¶”ê°€ì ì¸-êµ¬í˜„-ìš”ì†Œ><strong>1. ê¸°ì¡´ Prefix Caching ì‹œìŠ¤í…œ(vLLM, SGLang) ëŒ€ë¹„ ì¶”ê°€ì ì¸ êµ¬í˜„ ìš”ì†Œ</strong></h2><p>Marconië¥¼ ì‹¤ì œë¡œ ì ìš©í•˜ê¸° ìœ„í•´ <strong>ê¸°ì¡´ ìºì‹± ì‹œìŠ¤í…œ(vLLM, SGLang)ì— ì¶”ê°€í•´ì•¼ í•˜ëŠ” ê¸°ëŠ¥</strong>ì„ ë¶„ì„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><table><thead><tr><th><strong>ì¶”ê°€ êµ¬í˜„ ìš”ì†Œ</strong></th><th><strong>ì„¤ëª…</strong></th><th><strong>ê¸°ì¡´ ì‹œìŠ¤í…œ ì°¨ì´ì </strong></th></tr></thead><tbody><tr><td><strong>Radix Tree ê¸°ë°˜ Speculative Insertion</strong></td><td>Prefix Reuseë¥¼ ì˜ˆì¸¡í•˜ì—¬ ìºì‹œë¥¼ ë¯¸ë¦¬ ë°°ì¹˜</td><td>ê¸°ì¡´ ì‹œìŠ¤í…œì€ <strong>ë‹¨ìˆœ LRU ë°©ì‹</strong></td></tr><tr><td><strong>Judicious Cache Admission</strong></td><td>Prefix ì¬ì‚¬ìš© ê°€ëŠ¥ì„±ì„ í‰ê°€í•˜ì—¬ ì„ íƒì ìœ¼ë¡œ ì €ì¥</td><td>ê¸°ì¡´ ì‹œìŠ¤í…œì€ <strong>ëª¨ë“  KV Cache ì €ì¥</strong></td></tr><tr><td><strong>FLOP-aware Eviction</strong></td><td>ìºì‹œ í•­ëª©ì„ FLOP íš¨ìœ¨ì„±ì„ ê¸°ì¤€ìœ¼ë¡œ ì œê±°</td><td>ê¸°ì¡´ ì‹œìŠ¤í…œì€ <strong>LRU ê¸°ë°˜ ì‚­ì œ</strong></td></tr></tbody></table><p>âœ… <strong>ìš”ì•½:</strong> ê¸°ì¡´ ì‹œìŠ¤í…œì—ì„œëŠ” <strong>ë‹¨ìˆœíˆ ìµœê·¼ ì‚¬ìš©ëœ ìºì‹œë¥¼ ì €ì¥í•˜ê³  LRU ê¸°ë°˜ìœ¼ë¡œ ì‚­ì œ</strong>í•˜ì§€ë§Œ, MarconiëŠ” <strong>(1) Prefix Reuseë¥¼ ì˜ˆì¸¡í•˜ê³ , (2) ì„ íƒì ìœ¼ë¡œ ìºì‹œë¥¼ ì €ì¥í•˜ë©°, (3) FLOP ì ˆì•½ íš¨ê³¼ë¥¼ ê³ ë ¤í•˜ì—¬ ìºì‹œë¥¼ ì œê±°</strong>í•œë‹¤.<br>ğŸ‘‰ ì´ë¥¼ ìœ„í•´ <strong>Radix Tree, Prefix Cache Management, FLOP-aware Evictionì„ ì¶”ê°€ì ìœ¼ë¡œ êµ¬í˜„í•´ì•¼ í•œë‹¤</strong>.</p><hr><h2 id=2-êµ¬í˜„ì—-í•„ìš”í•œ-ê³µìˆ˜ê°œë°œ-ë‚œì´ë„-ë¶„ì„><strong>2. êµ¬í˜„ì— í•„ìš”í•œ ê³µìˆ˜(ê°œë°œ ë‚œì´ë„ ë¶„ì„)</strong></h2><p>Marconiì˜ ê¸°ëŠ¥ì„ ê¸°ì¡´ vLLM ì‹œìŠ¤í…œì— ì¶”ê°€í•œë‹¤ê³  ê°€ì •í•˜ê³ , <strong>ê° êµ¬í˜„ ìš”ì†Œë³„ë¡œ ê°œë°œ ê³µìˆ˜ë¥¼ ë¶„ì„</strong>í•´ ë³´ì.</p><table><thead><tr><th><strong>êµ¬í˜„ ìš”ì†Œ</strong></th><th><strong>êµ¬í˜„ ë°©ì‹</strong></th><th><strong>ë‚œì´ë„</strong></th><th><strong>ì¶”ì • ê°œë°œ ê³µìˆ˜</strong></th></tr></thead><tbody><tr><td><strong>Radix Tree ê¸°ë°˜ Speculative Insertion</strong></td><td>Radix Tree ìë£Œêµ¬ì¡° ìƒì„± ë° Prefix íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ ì¶”ê°€</td><td>ğŸ”´ ìƒ</td><td>ì•½ <strong>2~3ì£¼</strong></td></tr><tr><td><strong>Judicious Cache Admission</strong></td><td>Prefix Reuse ê°€ëŠ¥ì„±ì„ í•™ìŠµí•˜ì—¬, í•„ìš”í•  ë•Œë§Œ ìºì‹±</td><td>ğŸŸ  ì¤‘</td><td>ì•½ <strong>1~2ì£¼</strong></td></tr><tr><td><strong>FLOP-aware Eviction</strong></td><td>ìºì‹œ í•­ëª©ë§ˆë‹¤ FLOP ëŒ€ë¹„ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„± ê³„ì‚°</td><td>ğŸŸ  ì¤‘</td><td>ì•½ <strong>1~2ì£¼</strong></td></tr><tr><td><strong>ì „ì²´ ì‹œìŠ¤í…œ í†µí•© ë° ìµœì í™”</strong></td><td>ê¸°ì¡´ vLLMê³¼ í†µí•©í•˜ì—¬ Prefix Caching ìµœì í™”</td><td>ğŸ”´ ìƒ</td><td>ì•½ <strong>3~4ì£¼</strong></td></tr><tr><td><strong>í…ŒìŠ¤íŠ¸ ë° ì‹¤í—˜ ë¶„ì„</strong></td><td>ì„±ëŠ¥ í…ŒìŠ¤íŠ¸, FLOP ì ˆì•½ìœ¨, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¸¡ì •</td><td>ğŸŸ¡ í•˜</td><td>ì•½ <strong>1ì£¼</strong></td></tr></tbody></table><p>ğŸ“Œ <strong>ì´ ê°œë°œ ê³µìˆ˜ ì˜ˆìƒ:</strong> <strong>ì•½ 8<del>12ì£¼ (2</del>3ê°œì›”) ì†Œìš”</strong></p><ul><li>ì‹¤ì œ ì ìš© ì‹œ <strong>Radix Tree êµ¬í˜„ì´ ê°€ì¥ í° ê°œë°œ ê³µìˆ˜</strong>ê°€ í•„ìš”í•¨.</li><li><strong>FLOP-aware Eviction</strong>ì€ ê¸°ì¡´ LRU ì •ì±…ì„ ëŒ€ì²´í•˜ëŠ” ì‘ì—…ì´ë¯€ë¡œ ë¹„êµì  êµ¬í˜„ì´ ê°„ë‹¨í•¨.</li></ul><hr><h2 id=3-ì—°ì‚°ëŸ‰-ì¦ê°€-ë°-ì¶”ê°€-ì»´í“¨íŒ…-ìì›-ìš”êµ¬-ë¶„ì„><strong>3. ì—°ì‚°ëŸ‰ ì¦ê°€ ë° ì¶”ê°€ ì»´í“¨íŒ… ìì› ìš”êµ¬ ë¶„ì„</strong></h2><p>MarconiëŠ” <strong>Prefix íƒìƒ‰, ìºì‹œ ìœ ì§€ ë° ì œê±° ê³¼ì •ì—ì„œ ê¸°ì¡´ë³´ë‹¤ ì¶”ê°€ì ì¸ ì—°ì‚°ëŸ‰ì´ í•„ìš”</strong>í•˜ë¯€ë¡œ, ì´ë¥¼ ì •ëŸ‰ì ìœ¼ë¡œ ë¶„ì„í•´ì•¼ í•œë‹¤.</p><h3 id=1-ì—°ì‚°ëŸ‰-ì¦ê°€-ë¶„ì„-big-o-í‘œê¸°ë²•><strong>(1) ì—°ì‚°ëŸ‰ ì¦ê°€ ë¶„ì„ (Big-O í‘œê¸°ë²•)</strong></h3><table><thead><tr><th>ê¸°ëŠ¥</th><th>ê¸°ì¡´ ì‹œìŠ¤í…œ (vLLM)</th><th>Marconi ì¶”ê°€ êµ¬í˜„</th></tr></thead><tbody><tr><td><strong>Prefix íƒìƒ‰</strong></td><td>O(1) (Hash lookup)</td><td><strong>O(log N) (Radix Tree íƒìƒ‰)</strong></td></tr><tr><td><strong>ìºì‹œ ì €ì¥ ê²°ì •</strong></td><td>O(1) (ëª¨ë“  ìºì‹œ ì €ì¥)</td><td><strong>O(log N) (Radix Treeì—ì„œ Prefix í™•ì¸ í›„ ì €ì¥)</strong></td></tr><tr><td><strong>ìºì‹œ ì œê±°(Eviction)</strong></td><td>O(1) (LRU ê¸°ë°˜ ì‚­ì œ)</td><td><strong>O(N log N) (FLOP íš¨ìœ¨ì„± ê³„ì‚° í›„ ì •ë ¬)</strong></td></tr></tbody></table><p>ğŸ“Œ <strong>Marconië¡œ ì¸í•´ ì¦ê°€í•˜ëŠ” ì—°ì‚° ë¹„ìš©:</strong></p><ul><li><strong>Prefix íƒìƒ‰ ë° ì €ì¥:</strong> ê¸°ì¡´ ì‹œìŠ¤í…œì€ O(1)ì´ì§€ë§Œ, MarconiëŠ” <strong>Radix Tree ê¸°ë°˜ O(log N)</strong></li><li><strong>Eviction ì—°ì‚°ëŸ‰ ì¦ê°€:</strong> FLOP ê¸°ë°˜ ì •ë ¬ì´ í•„ìš”í•˜ë¯€ë¡œ ê¸°ì¡´ O(1)ì—ì„œ <strong>O(N log N)ìœ¼ë¡œ ì¦ê°€</strong></li></ul><hr><h3 id=2-ì¶”ê°€-ì»´í“¨íŒ…-ìì›-ìš”êµ¬ëŸ‰-gpu-cpu-ë©”ëª¨ë¦¬><strong>(2) ì¶”ê°€ ì»´í“¨íŒ… ìì› ìš”êµ¬ëŸ‰ (GPU, CPU, ë©”ëª¨ë¦¬)</strong></h3><p>Marconiì˜ ì£¼ìš” ì—°ì‚°ì„ <strong>100ë§Œ ê°œ ìš”ì²­(1M requests) ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°</strong>í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><table><thead><tr><th>ì—°ì‚°</th><th>ê¸°ì¡´ ì—°ì‚°ëŸ‰</th><th>Marconi ì—°ì‚°ëŸ‰</th><th>GPU/CPU ë¶€ë‹´ ì˜ˆìƒ</th></tr></thead><tbody><tr><td><strong>Prefix íƒìƒ‰</strong></td><td>1M Ã— O(1) = <strong>1M</strong></td><td>1M Ã— O(log N) = <strong>10M</strong></td><td>CPU ì‚¬ìš©ëŸ‰ ì¦ê°€</td></tr><tr><td><strong>ìºì‹œ ì €ì¥ ì—¬ë¶€ ê²°ì •</strong></td><td>1M Ã— O(1) = <strong>1M</strong></td><td>1M Ã— O(log N) = <strong>10M</strong></td><td>CPU ì‚¬ìš©ëŸ‰ ì¦ê°€</td></tr><tr><td><strong>Eviction ì—°ì‚°</strong></td><td>O(1)</td><td>O(N log N)</td><td>ë©”ëª¨ë¦¬ ì‚¬ìš© ì¦ê°€</td></tr></tbody></table><p>ğŸ“Œ <strong>ê³„ì‚° ê²°ê³¼ ìš”ì•½:</strong></p><ul><li><strong>CPU ì—°ì‚°ëŸ‰ì´ ê¸°ì¡´ ëŒ€ë¹„ ì•½ 10ë°° ì¦ê°€í•  ê°€ëŠ¥ì„±ì´ ìˆìŒ</strong>.</li><li><strong>GPUëŠ” Prefix íƒìƒ‰ ë° ìºì‹± ê´€ë¦¬ì—ëŠ” í° ì˜í–¥ì´ ì—†ì§€ë§Œ, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€ ê°€ëŠ¥ì„± ìˆìŒ</strong>.</li><li><strong>ëŒ€ê·œëª¨ Prefix Cacheë¥¼ ë‹¤ë£° ê²½ìš°, ì¶”ê°€ì ì¸ RAM í•„ìš”</strong>.</li></ul><hr><h2 id=4-ì‹¤ì œ-ì»´í“¨íŒ…-ìì›-ìš”êµ¬-ì˜ˆì¸¡><strong>4. ì‹¤ì œ ì»´í“¨íŒ… ìì› ìš”êµ¬ ì˜ˆì¸¡</strong></h2><p>Marconië¥¼ ì‹¤ì œ LLM ì„œë¹™ ì‹œìŠ¤í…œ(vLLM)ì—ì„œ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í•˜ê³ , <strong>ì¶”ê°€ì ìœ¼ë¡œ í•„ìš”í•œ í•˜ë“œì›¨ì–´ ìì›ì„ ê³„ì‚°</strong>í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><table><thead><tr><th>ìì› ìœ í˜•</th><th>ê¸°ì¡´ vLLM</th><th>Marconi ì ìš© í›„ ì˜ˆìƒ</th></tr></thead><tbody><tr><td><strong>CPU ì‚¬ìš©ëŸ‰</strong></td><td>16ì½”ì–´</td><td><strong>32~64ì½”ì–´ í•„ìš”</strong> (Radix Tree ì—°ì‚° ì¦ê°€)</td></tr><tr><td><strong>GPU ì‚¬ìš©ëŸ‰</strong></td><td>8 Ã— A100-40GB</td><td><strong>8 Ã— A100-40GB ìœ ì§€</strong> (ë³€í™” ì—†ìŒ)</td></tr><tr><td><strong>RAM</strong></td><td>128GB</td><td><strong>256GB í•„ìš”</strong> (Radix Tree ë° ìºì‹œ ì¦ê°€)</td></tr><tr><td><strong>ì €ì¥ê³µê°„ (SSD)</strong></td><td>1TB</td><td><strong>2TB í•„ìš”</strong> (ìºì‹œëœ Prefix ì¦ê°€)</td></tr></tbody></table><p>ğŸ“Œ <strong>ê²°ë¡ :</strong><br>âœ… GPU ìš”êµ¬ëŸ‰ì€ ë³€í•˜ì§€ ì•Šì§€ë§Œ, <strong>CPU ì—°ì‚°ëŸ‰ê³¼ RAM ì‚¬ìš©ëŸ‰ì´ 2~3ë°° ì¦ê°€</strong>í•  ê°€ëŠ¥ì„±ì´ ìˆìŒ.<br>âœ… Radix Tree ì—°ì‚° ì¦ê°€ë¡œ ì¸í•´, <strong>ì„œë²„ë‹¹ 32~64ì½”ì–´ì˜ ê³ ì„±ëŠ¥ CPU í•„ìš”</strong>.<br>âœ… Prefix Cachingì´ ë§ì•„ì§ˆìˆ˜ë¡ SSD ì €ì¥ê³µê°„ë„ 2ë°° ì´ìƒ ì¦ê°€í•  ê°€ëŠ¥ì„±ì´ ìˆìŒ.</p><hr><h2 id=5-ê²°ë¡ -ë°-ìµœì í™”-ë°©ì•ˆ><strong>5. ê²°ë¡  ë° ìµœì í™” ë°©ì•ˆ</strong></h2><p>âœ… <strong>MarconiëŠ” ê¸°ì¡´ vLLM, SGLang ì‹œìŠ¤í…œ ëŒ€ë¹„ ì•½ 2~3ë°°ì˜ ì¶”ê°€ ì—°ì‚°ì´ í•„ìš”í•˜ë©°, íŠ¹íˆ CPU ì—°ì‚°ëŸ‰ê³¼ RAM ì‚¬ìš©ëŸ‰ì´ ì¦ê°€í•  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.</strong><br>âœ… <strong>ê·¸ëŸ¬ë‚˜ GPU ì‚¬ìš©ëŸ‰ì—ëŠ” í° ë³€í™”ê°€ ì—†ìœ¼ë¯€ë¡œ, ëŒ€ê·œëª¨ LLM ì„œë¹™ í™˜ê²½ì—ì„œëŠ” GPU ë³‘ëª©ì„ ë°œìƒì‹œí‚¤ì§€ ì•Šê³  ì„±ëŠ¥ì„ ìµœì í™”í•  ìˆ˜ ìˆë‹¤.</strong><br>âœ… <strong>ìµœì í™”ë¥¼ ìœ„í•´ Radix Tree ì—°ì‚°ì„ ë³‘ë ¬í™”í•˜ê±°ë‚˜, Eviction ì •ë ¬ì„ Heuristic ê¸°ë°˜ìœ¼ë¡œ ë‹¨ìˆœí™”í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.</strong></p><p>ğŸ‘‰ <strong>ê²°ê³¼ì ìœ¼ë¡œ, Marconië¥¼ ê¸°ì¡´ LLM ì„œë¹™ í™˜ê²½ì— ì ìš©í•˜ë ¤ë©´ CPU ë° RAM ì¦ì„¤ì´ í•„ìš”í•˜ì§€ë§Œ, GPU ë¦¬ì†ŒìŠ¤ëŠ” ìœ ì§€í•˜ë©´ì„œ íš¨ìœ¨ì ì¸ Prefix Cachingì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤! ğŸš€</strong></p><h1 id=q--ì´-ë…¼ë¬¸ì˜-ì…ë ¥ë°ì´í„°ì™€-ì¶”ë¡ -ê³¼ì •ì—-ëŒ€í•´ì„œ-ì˜ˆì‹œë¥¼-ë“¤ì–´-ì•„ì£¼-ìì„¸í•˜ê²Œ-ì„¤ëª…í•´-ì£¼ê² ë‹ˆ-ì¶”ê°€ì ìœ¼ë¡œ-ëª¨ë¸ì•„í‚¤í…ì²˜ì˜-êµ¬ì„±-ë°-ëª¨ë¸ì„-êµ¬ì„±í•˜ëŠ”-ì—°ì‚°ê³¼-ë©”ëª¨ë¦¬-ìš”êµ¬ëŸ‰-ì»´í“¨íŒ…-ìš”êµ¬ëŸ‰-ëŒ€í•´ì„œë„-ì„¤ëª…í•´ì¤˜>Q : ì´ ë…¼ë¬¸ì˜ ì…ë ¥ë°ì´í„°ì™€ ì¶”ë¡  ê³¼ì •ì— ëŒ€í•´ì„œ ì˜ˆì‹œë¥¼ ë“¤ì–´ ì•„ì£¼ ìì„¸í•˜ê²Œ ì„¤ëª…í•´ ì£¼ê² ë‹ˆ? ì¶”ê°€ì ìœ¼ë¡œ ëª¨ë¸ì•„í‚¤í…ì²˜ì˜ êµ¬ì„± ë° ëª¨ë¸ì„ êµ¬ì„±í•˜ëŠ” ì—°ì‚°ê³¼ ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ ì»´í“¨íŒ… ìš”êµ¬ëŸ‰ ëŒ€í•´ì„œë„ ì„¤ëª…í•´ì¤˜</h1><h1 id=-marconi-ë…¼ë¬¸ì˜-ì…ë ¥-ë°ì´í„°-ì¶”ë¡ -ê³¼ì •-ë°-ëª¨ë¸-ì•„í‚¤í…ì²˜-ë¶„ì„><strong>ğŸ”¹ Marconi ë…¼ë¬¸ì˜ ì…ë ¥ ë°ì´í„°, ì¶”ë¡  ê³¼ì • ë° ëª¨ë¸ ì•„í‚¤í…ì²˜ ë¶„ì„</strong></h1><p>MarconiëŠ” <strong>Hybrid LLM(Attention + SSM)ì—ì„œ Prefix Cachingì„ ìµœì í™”</strong>í•˜ëŠ” ì‹œìŠ¤í…œì´ë‹¤. ì´ë¥¼ ë¶„ì„í•˜ê¸° ìœ„í•´ <strong>(1) ì…ë ¥ ë°ì´í„° ë° ì¶”ë¡  ê³¼ì •, (2) ëª¨ë¸ ì•„í‚¤í…ì²˜ ë° ì—°ì‚° ë¶„ì„, (3) ë©”ëª¨ë¦¬ ë° ì»´í“¨íŒ… ìš”êµ¬ëŸ‰</strong>ì„ ìì„¸íˆ ì‚´í´ë³´ê² ë‹¤.</p><hr><h1 id=1-marconiì˜-ì…ë ¥-ë°ì´í„°><strong>1. Marconiì˜ ì…ë ¥ ë°ì´í„°</strong></h1><p>MarconiëŠ” <strong>LLMì˜ Prefix Cachingì„ ìµœì í™”í•˜ëŠ” ì‹œìŠ¤í…œ</strong>ì´ë¯€ë¡œ, ì…ë ¥ ë°ì´í„°ëŠ” ê¸°ì¡´ LLMì˜ ì…ë ¥ê³¼ ë‹¤ì†Œ ì°¨ì´ê°€ ìˆë‹¤.</p><h2 id=1-ì…ë ¥-ë°ì´í„°ì˜-êµ¬ì„±><strong>(1) ì…ë ¥ ë°ì´í„°ì˜ êµ¬ì„±</strong></h2><p>Marconiì˜ ì…ë ¥ ë°ì´í„°ëŠ” í¬ê²Œ 3ê°€ì§€ ìœ í˜•ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.</p><table><thead><tr><th><strong>ì…ë ¥ ìœ í˜•</strong></th><th><strong>ì„¤ëª…</strong></th></tr></thead><tbody><tr><td><strong>ì‚¬ìš©ì ìš”ì²­ ë°ì´í„°</strong></td><td>LLMì— ëŒ€í•œ ì‚¬ìš©ì ì…ë ¥ í”„ë¡¬í”„íŠ¸</td></tr><tr><td><strong>Prefix Reuse ë°ì´í„°</strong></td><td>Prefixê°€ ì—¬ëŸ¬ ìš”ì²­ì—ì„œ ì–¼ë§ˆë‚˜ ì¬ì‚¬ìš©ë˜ëŠ”ì§€ ê¸°ë¡</td></tr><tr><td><strong>FLOP ë° ë©”ëª¨ë¦¬ ì†Œë¹„ ë°ì´í„°</strong></td><td>ê° ìš”ì²­ì˜ ì—°ì‚°ëŸ‰ ë° ìºì‹œ ì €ì¥ í¬ê¸°</td></tr></tbody></table><p>ğŸ“Œ <strong>ì˜ˆì œ ì…ë ¥ ë°ì´í„° (JSON í˜•ì‹)</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">JSON</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-11 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-11 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-11><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=ln> 1</span><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>  <span class=nt>&#34;request_id&#34;</span><span class=p>:</span> <span class=mi>1234</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=nt>&#34;input_text&#34;</span><span class=p>:</span> <span class=s2>&#34;Translate the following text into French: Hello, how are you?&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>  <span class=nt>&#34;prefix&#34;</span><span class=p>:</span> <span class=s2>&#34;Translate the following text into French:&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>  <span class=nt>&#34;tokens&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>  <span class=nt>&#34;reuse&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>  <span class=nt>&#34;flop_usage&#34;</span><span class=p>:</span> <span class=mf>2.5e9</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>  <span class=nt>&#34;memory_usage_mb&#34;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>  <span class=nt>&#34;ssm_state_size_mb&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>  <span class=nt>&#34;kv_cache_size_mb&#34;</span><span class=p>:</span> <span class=mi>20</span>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=p>}</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-11",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li><code>"prefix"</code> â†’ ê¸°ì¡´ ìš”ì²­ê³¼ ê²¹ì¹˜ëŠ” ë¶€ë¶„ (Prefix Cachingì˜ í•µì‹¬ ë°ì´í„°)</li><li><code>"reuse": true</code> â†’ Prefix Cacheë¥¼ ì¬ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€</li><li><code>"flop_usage"</code> â†’ ì´ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë° í•„ìš”í•œ FLOP ì—°ì‚°ëŸ‰</li><li><code>"memory_usage_mb"</code> â†’ ì´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰</li></ul><hr><h1 id=2-marconiì˜-ì¶”ë¡ -ê³¼ì •-inference-pipeline><strong>2. Marconiì˜ ì¶”ë¡  ê³¼ì • (Inference Pipeline)</strong></h1><p>MarconiëŠ” LLMì˜ ì¶”ë¡  ê³¼ì •ì—ì„œ <strong>Prefix Cachingì„ ìµœì í™”í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì—°ì‚°ì„ ì¤„ì´ê³ , FLOP íš¨ìœ¨ì„ ê·¹ëŒ€í™”</strong>í•˜ëŠ” ì—­í• ì„ í•œë‹¤.</p><h2 id=1-ì „ì²´-ì¶”ë¡ -ê³¼ì •><strong>(1) ì „ì²´ ì¶”ë¡  ê³¼ì •</strong></h2><p>Marconiê°€ ì ìš©ëœ LLMì˜ **ì¶”ë¡  ê³¼ì •(í”„ë¦¬í•„ + ë””ì½”ë”©)**ì€ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ê³„ë¥¼ ê±°ì¹œë‹¤.</p><p>1ï¸âƒ£ <strong>ì…ë ¥ ë°ì´í„° ìˆ˜ì§‘</strong></p><ul><li>ì‚¬ìš©ìì˜ ì…ë ¥ì„ í† í°í™”í•˜ì—¬ ì²˜ë¦¬</li><li>ê¸°ì¡´ Prefix Cacheì™€ ë¹„êµí•˜ì—¬ <strong>Prefix Reuse ê°€ëŠ¥ì„± í™•ì¸</strong></li><li>Radix Treeë¥¼ ì‚¬ìš©í•˜ì—¬ Prefix íƒìƒ‰</li></ul><p>2ï¸âƒ£ <strong>Prefix Caching ì ìš© ì—¬ë¶€ íŒë‹¨ (Speculative Insertion)</strong></p><ul><li>Radix Treeë¥¼ í†µí•´ <strong>ì…ë ¥ ë¬¸ì¥ì´ ê¸°ì¡´ ìš”ì²­ê³¼ ì–¼ë§ˆë‚˜ ê²¹ì¹˜ëŠ”ì§€ ë¶„ì„</strong></li><li>ê¸°ì¡´ Prefixê°€ ìˆë‹¤ë©´ <strong>í•´ë‹¹ Prefixì˜ SSM ìƒíƒœ ë° KV Cacheë¥¼ ë¶ˆëŸ¬ì˜´</strong></li></ul><p>3ï¸âƒ£ <strong>LLM í”„ë¦¬í•„ ë‹¨ê³„</strong></p><ul><li>ê¸°ì¡´ ìºì‹œê°€ ì¡´ì¬í•˜ë©´ <strong>Prefix ë¶€ë¶„ì˜ ì—°ì‚°ì„ ìŠ¤í‚µ</strong></li><li>ì—†ëŠ” ë¶€ë¶„ë§Œ ê³„ì‚°í•˜ì—¬ <strong>ì—°ì‚°ëŸ‰ì„ ì ˆê°</strong></li></ul><p>4ï¸âƒ£ <strong>ë””ì½”ë”© ë‹¨ê³„</strong></p><ul><li>ìƒˆë¡œìš´ í† í°ì„ ìƒì„±</li><li>ìƒì„±ëœ Prefixë¥¼ <strong>Prefix Cacheì— ì €ì¥í• ì§€ ì—¬ë¶€ ê²°ì •</strong> (Judicious Cache Admission ì ìš©)</li></ul><p>5ï¸âƒ£ <strong>ìºì‹œ ìœ ì§€/ì‚­ì œ ê²°ì • (FLOP-aware Eviction)</strong></p><ul><li>ìºì‹œ ê³µê°„ì´ ë¶€ì¡±í•  ê²½ìš°, FLOP ì ˆì•½ íš¨ê³¼ê°€ ë‚®ì€ ìºì‹œë¶€í„° ì œê±°</li></ul><p>ğŸ“Œ <strong>ì˜ˆì œ (ì…ë ¥ ìš”ì²­)</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-12 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-12 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-12><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>1. &#34;Translate the following text into French: Hello, how are you?&#34;
</span></span><span class=line><span class=ln>2</span><span class=cl>2. &#34;Translate the following text into French: Hello, my name is John.&#34;</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-12",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li>ë‘ ë²ˆì§¸ ìš”ì²­ì—ì„œ <code>"Translate the following text into French:"</code>ê°€ ì´ë¯¸ ìºì‹œì— ì¡´ì¬í•˜ë¯€ë¡œ <strong>Prefix Caching ì ìš©</strong></li><li>ì²« ë²ˆì§¸ ìš”ì²­ì˜ Prefix ìƒíƒœë¥¼ <strong>ë¶ˆëŸ¬ì™€ ì—°ì‚°ì„ ìŠ¤í‚µ</strong>í•˜ê³ , ìƒˆë¡œìš´ ë¶€ë¶„ <code>"Hello, my name is John."</code>ë§Œ ê³„ì‚°</li></ul><p>ğŸ“Œ <strong>ê²°ê³¼ (ìºì‹œ íˆíŠ¸ ì ìš©)</strong></p><ul><li>ì²« ë²ˆì§¸ ìš”ì²­: ëª¨ë“  í† í° ì—°ì‚° í•„ìš” (Cache Miss)</li><li>ë‘ ë²ˆì§¸ ìš”ì²­: <code>"Translate the following text into French:"</code>ëŠ” ìºì‹œì—ì„œ ë¶ˆëŸ¬ì™€ ì‚¬ìš© (Cache Hit)</li></ul><hr><h1 id=3-ëª¨ë¸-ì•„í‚¤í…ì²˜-ë¶„ì„><strong>3. ëª¨ë¸ ì•„í‚¤í…ì²˜ ë¶„ì„</strong></h1><p>MarconiëŠ” <strong>ê¸°ì¡´ Transformer ê¸°ë°˜ ëª¨ë¸ê³¼ëŠ” ë‹¤ë¥¸ Hybrid LLM(Attention + SSM)ì„ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘</strong>í•œë‹¤.</p><h2 id=1-hybrid-llmì˜-ì£¼ìš”-êµ¬ì„±-ìš”ì†Œ><strong>(1) Hybrid LLMì˜ ì£¼ìš” êµ¬ì„± ìš”ì†Œ</strong></h2><p>MarconiëŠ” <strong>Attention Layer + SSM Layer</strong>ë¥¼ ì¡°í•©í•œ Hybrid LLM êµ¬ì¡°ì—ì„œ ìµœì í™”ë˜ì—ˆë‹¤.</p><table><thead><tr><th><strong>êµ¬ì„± ìš”ì†Œ</strong></th><th><strong>ì„¤ëª…</strong></th></tr></thead><tbody><tr><td><strong>Attention Layer</strong></td><td>ê¸°ì¡´ Transformerì˜ Attention ë©”ì»¤ë‹ˆì¦˜</td></tr><tr><td><strong>SSM (State Space Model) Layer</strong></td><td>Recurrent ë°©ì‹ìœ¼ë¡œ ì—°ì‚°ëŸ‰ì„ ì¤„ì´ëŠ” ëŒ€ì²´ êµ¬ì¡°</td></tr><tr><td><strong>KV Cache (Attention)</strong></td><td>ê¸°ì¡´ Transformerì²˜ëŸ¼ Prefix ì •ë³´ë¥¼ ì €ì¥</td></tr><tr><td><strong>SSM States (Recurrent Layer)</strong></td><td>SSMì—ì„œ ì‚¬ìš©ë˜ëŠ” ë‚´ë¶€ ìƒíƒœ ì €ì¥</td></tr></tbody></table><p>ğŸ“Œ <strong>Hybrid LLM êµ¬ì¡° ì˜ˆì‹œ</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-13 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-13 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-13><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>[Input] â†’ [Attention Layer] â†’ [SSM Layer] â†’ [Attention Layer] â†’ [Output]</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-13",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li>Attention LayerëŠ” <strong>í° ë¬¸ë§¥ì„ ê³ ë ¤í•œ í† í° ê°„ ê´€ê³„ í•™ìŠµ</strong></li><li>SSM LayerëŠ” <strong>ê³¼ê±° ìƒíƒœë¥¼ ì••ì¶•í•˜ì—¬ ì €ì¥, ì—°ì‚°ëŸ‰ì„ ì¤„ì„</strong></li></ul><h2 id=2-ì£¼ìš”-ì—°ì‚°ëŸ‰-ë¶„ì„><strong>(2) ì£¼ìš” ì—°ì‚°ëŸ‰ ë¶„ì„</strong></h2><p>Marconiì˜ Hybrid LLM êµ¬ì¡°ì—ì„œ <strong>ê° ë ˆì´ì–´ì˜ FLOP ì—°ì‚°ëŸ‰ì„ ë¹„êµ</strong>í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><table><thead><tr><th><strong>ì—°ì‚° ìš”ì†Œ</strong></th><th><strong>FLOPs per layer</strong></th><th><strong>Memory (MB)</strong></th></tr></thead><tbody><tr><td><strong>Attention Layer</strong></td><td>O(LÂ²D)</td><td>O(LD)</td></tr><tr><td><strong>SSM Layer</strong></td><td>O(LD)</td><td>O(DN)</td></tr><tr><td><strong>MLP Layer</strong></td><td>O(LDÂ²)</td><td>O(LD)</td></tr></tbody></table><ul><li><strong>SSM Layerì˜ ì—°ì‚°ëŸ‰ì´ ì„ í˜•ì (O(LD))ì´ë¯€ë¡œ, Attention(O(LÂ²D))ë³´ë‹¤ í›¨ì”¬ íš¨ìœ¨ì </strong></li><li><strong>ê·¸ëŸ¬ë‚˜ SSM LayerëŠ” ìƒíƒœë¥¼ ì €ì¥í•´ì•¼ í•˜ë¯€ë¡œ KV Cacheë³´ë‹¤ ë” ë§ì€ ë©”ëª¨ë¦¬ë¥¼ ì†Œëª¨</strong></li></ul><p>ğŸ“Œ <strong>ê²°ë¡ :</strong></p><ul><li><strong>MarconiëŠ” SSMì˜ ë©”ëª¨ë¦¬ ë¬¸ì œë¥¼ ê³ ë ¤í•˜ì—¬, FLOP-aware Evictionì„ í†µí•´ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±ì„ ê°œì„ </strong></li><li><strong>SSM Layerì˜ ì²´í¬í¬ì¸íŠ¸ë¥¼ ê´€ë¦¬í•˜ì—¬ ë¶ˆí•„ìš”í•œ ìºì‹œ ì¦ê°€ë¥¼ ë°©ì§€</strong></li></ul><hr><h1 id=4-marconiì˜-ì»´í“¨íŒ…-ìì›-ìš”êµ¬ëŸ‰-ë¶„ì„><strong>4. Marconiì˜ ì»´í“¨íŒ… ìì› ìš”êµ¬ëŸ‰ ë¶„ì„</strong></h1><p>Marconiì˜ ì—°ì‚°ëŸ‰ ë° ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ì„ <strong>100ë§Œ ê°œ ìš”ì²­(1M requests) ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°</strong>í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><table><thead><tr><th><strong>ìì› ìœ í˜•</strong></th><th><strong>ê¸°ì¡´ LLM (vLLM)</strong></th><th><strong>Marconi ì ìš© í›„</strong></th><th><strong>ë³€í™”ìœ¨</strong></th></tr></thead><tbody><tr><td><strong>CPU ì‚¬ìš©ëŸ‰</strong></td><td>16ì½”ì–´</td><td><strong>32~64ì½”ì–´</strong></td><td><strong>2~4ë°° ì¦ê°€</strong></td></tr><tr><td><strong>GPU ì‚¬ìš©ëŸ‰</strong></td><td>8 Ã— A100-40GB</td><td><strong>8 Ã— A100-40GB</strong></td><td><strong>ë³€í™” ì—†ìŒ</strong></td></tr><tr><td><strong>RAM (Memory)</strong></td><td>128GB</td><td><strong>256GB</strong></td><td><strong>2ë°° ì¦ê°€</strong></td></tr><tr><td><strong>ì €ì¥ê³µê°„ (SSD)</strong></td><td>1TB</td><td><strong>2TB</strong></td><td><strong>2ë°° ì¦ê°€</strong></td></tr></tbody></table><p>ğŸ“Œ <strong>ë¶„ì„ ê²°ê³¼</strong><br>âœ… GPU ìš”êµ¬ëŸ‰ì€ ë³€í•˜ì§€ ì•Šì§€ë§Œ, <strong>CPU ì—°ì‚°ëŸ‰ê³¼ RAM ì‚¬ìš©ëŸ‰ì´ 2~3ë°° ì¦ê°€í•  ê°€ëŠ¥ì„±ì´ ìˆìŒ</strong><br>âœ… Radix Tree ì—°ì‚° ì¦ê°€ë¡œ ì¸í•´, <strong>ì„œë²„ë‹¹ 32~64ì½”ì–´ì˜ ê³ ì„±ëŠ¥ CPU í•„ìš”</strong><br>âœ… Prefix Cachingì´ ë§ì•„ì§ˆìˆ˜ë¡ SSD ì €ì¥ê³µê°„ë„ 2ë°° ì´ìƒ ì¦ê°€</p><hr><h1 id=5-ê²°ë¡ -1><strong>5. ê²°ë¡ </strong></h1><p>âœ… <strong>ì…ë ¥ ë°ì´í„°</strong> â†’ ì‚¬ìš©ì ìš”ì²­ + Prefix Caching ìƒíƒœ + ì—°ì‚°ëŸ‰ ë°ì´í„°(FLOP, Memory)<br>âœ… <strong>ì¶”ë¡  ê³¼ì •</strong> â†’ Radix Treeë¡œ Prefix íƒìƒ‰ â†’ í•„ìš”í•˜ë©´ ìºì‹œ ì‚¬ìš© â†’ SSM & KV Cache ìµœì í™”<br>âœ… <strong>ëª¨ë¸ ì•„í‚¤í…ì²˜</strong> â†’ Hybrid LLM (Attention + SSM) ê¸°ë°˜<br>âœ… <strong>ì»´í“¨íŒ… ìš”êµ¬ëŸ‰</strong> â†’ CPU ë° RAM ì‚¬ìš©ëŸ‰ ì¦ê°€, GPU ìš”êµ¬ëŸ‰ì€ ê¸°ì¡´ê³¼ ë™ì¼</p><p>ğŸ‘‰ <strong>ê²°ë¡ ì ìœ¼ë¡œ, MarconiëŠ” í•˜ë“œì›¨ì–´ì ì¸ í•œê³„ë¥¼ ê³ ë ¤í•˜ì—¬ Prefix Cachingì„ ìµœì í™”í•˜ì—¬ í•˜ì´ë¸Œë¦¬ë“œ LLMì„ ë³´ë‹¤ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆë‹¤! ğŸš€</strong></p><h1 id=q--ì´-ë…¼ë¬¸ì˜-í•œê³„ë¥¼-ê·¹ë³µí•˜ê¸°-ìœ„í•œ-ë°©ë²•ìœ¼ë¡œ-ì–´ë–¤-ì—°êµ¬íë¦„ì´-ìˆëŠ”ì§€-ì •ë¦¬í•´ì„œ-ìì„¸í•˜ê²Œ-ì„¤ëª…í•´-ì¤˜>Q : ì´ ë…¼ë¬¸ì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œ ì–´ë–¤ ì—°êµ¬íë¦„ì´ ìˆëŠ”ì§€ ì •ë¦¬í•´ì„œ ìì„¸í•˜ê²Œ ì„¤ëª…í•´ ì¤˜</h1><h1 id=-marconi-ë…¼ë¬¸ì˜-í•œê³„ë¥¼-ê·¹ë³µí•˜ê¸°-ìœ„í•œ-ì—°êµ¬-íë¦„-ì •ë¦¬><strong>ğŸ”¹ Marconi ë…¼ë¬¸ì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•œ ì—°êµ¬ íë¦„ ì •ë¦¬</strong></h1><p>MarconiëŠ” <strong>Hybrid LLM(Attention + SSM)ì—ì„œ Prefix Cachingì„ ìµœì í™”</strong>í•˜ì—¬ ê¸°ì¡´ Transformer ê¸°ë°˜ ì‹œìŠ¤í…œë³´ë‹¤ ì„±ëŠ¥ì„ ê°œì„ í–ˆì§€ë§Œ, ëª‡ ê°€ì§€ í•œê³„ê°€ ì¡´ì¬í•œë‹¤. ì´ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•œ ìµœì‹  ì—°êµ¬ íë¦„ì„ ë‹¤ìŒê³¼ ê°™ì´ ì •ë¦¬í•  ìˆ˜ ìˆë‹¤.</p><hr><h1 id=1-marconiì˜-ì£¼ìš”-í•œê³„ì ><strong>1. Marconiì˜ ì£¼ìš” í•œê³„ì </strong></h1><p>MarconiëŠ” ê¸°ì¡´ ì‹œìŠ¤í…œ ëŒ€ë¹„ í˜ì‹ ì ì¸ ì„±ëŠ¥ í–¥ìƒì„ ì œê³µí•˜ì§€ë§Œ, ë‹¤ìŒê³¼ ê°™ì€ í•œê³„ë¥¼ ê°€ì§„ë‹¤.</p><table><thead><tr><th><strong>í•œê³„ì </strong></th><th><strong>ì„¤ëª…</strong></th><th><strong>ì˜í–¥</strong></th></tr></thead><tbody><tr><td><strong>1ï¸âƒ£ ë†’ì€ CPU ì—°ì‚°ëŸ‰</strong></td><td>Radix Tree ê¸°ë°˜ Prefix íƒìƒ‰ê³¼ FLOP-aware Evictionì´ CPU ì—°ì‚°ì„ ì¦ê°€ì‹œí‚´</td><td>ì„œë²„ë‹¹ <strong>32~64ì½”ì–´ CPU í•„ìš”</strong></td></tr><tr><td><strong>2ï¸âƒ£ SSM Layerì˜ Checkpointing í•œê³„</strong></td><td>SSMì€ in-place state updateë¡œ ì¸í•´ ì¤‘ê°„ ìƒíƒœë¥¼ ì €ì¥í•˜ê¸° ì–´ë ¤ì›€</td><td>ì¼ë¶€ Prefixê°€ ì¬ì‚¬ìš© ë¶ˆê°€ëŠ¥</td></tr><tr><td><strong>3ï¸âƒ£ ì§§ì€ Prefix Reuseì—ì„œ ì„±ëŠ¥ ì €í•˜</strong></td><td>ê¸´ ë¬¸ë§¥ì—ì„œ ì„±ëŠ¥ì´ ì¢‹ì§€ë§Œ, ì§§ì€ ìš”ì²­ì—ì„œëŠ” íš¨ê³¼ê°€ ì œí•œì </td><td>ê²€ìƒ‰ ì—”ì§„, ì±—ë´‡ ë“±ì˜ ì§§ì€ ìš”ì²­ì—ì„œ íš¨ê³¼ ê°ì†Œ</td></tr><tr><td><strong>4ï¸âƒ£ ê³ ì •ëœ Eviction Policyì˜ í•œê³„</strong></td><td>FLOP-aware Evictionì€ ì •ì ì¸ Heuristic ê¸°ë°˜</td><td><strong>Adaptive Evictionì´ í•„ìš”í•¨</strong></td></tr><tr><td><strong>5ï¸âƒ£ ìºì‹œ ë©”ëª¨ë¦¬ ê´€ë¦¬ ë¬¸ì œ</strong></td><td>ìºì‹œê°€ ì»¤ì§ˆìˆ˜ë¡ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ í¬ê²Œ ì¦ê°€</td><td>GPU ë° CPU RAM ë¶€ë‹´ ì¦ê°€</td></tr></tbody></table><p>ğŸ“Œ <strong>ê²°ë¡ :</strong></p><ul><li>MarconiëŠ” <strong>ê¸´ ë¬¸ë§¥ì„ ë‹¤ë£¨ëŠ” Hybrid LLMì—ì„œ ê°•ë ¥í•œ ì„±ëŠ¥ì„ ì œê³µí•˜ì§€ë§Œ, ì§§ì€ ìš”ì²­ ì²˜ë¦¬, ë©”ëª¨ë¦¬ ê´€ë¦¬, CPU ë¶€ë‹´ ë¬¸ì œ ë“±ì´ í•´ê²°ë˜ì–´ì•¼ í•¨</strong>.</li></ul><hr><h1 id=2-marconiì˜-í•œê³„ë¥¼-ê·¹ë³µí•˜ëŠ”-ì—°êµ¬-íë¦„><strong>2. Marconiì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ëŠ” ì—°êµ¬ íë¦„</strong></h1><p>Marconiì˜ í•œê³„ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ìµœê·¼ ì—°êµ¬ë“¤ì€ <strong>(1) CPU ë¶€ë‹´ì„ ì¤„ì´ëŠ” ì—°êµ¬, (2) SSM Layerì˜ íš¨ìœ¨ì ì¸ State Management, (3) Adaptive Eviction ì •ì±… ê°œë°œ, (4) ë™ì  ìºì‹œ ê´€ë¦¬ ê¸°ë²• ê°œë°œ</strong> ë“±ì˜ ë°©í–¥ìœ¼ë¡œ ì§„í–‰ë˜ê³  ìˆë‹¤.</p><h2 id=-1-cpu-ì—°ì‚°ëŸ‰ì„-ì¤„ì´ëŠ”-ì—°êµ¬-íë¦„><strong>ğŸ”¹ (1) CPU ì—°ì‚°ëŸ‰ì„ ì¤„ì´ëŠ” ì—°êµ¬ íë¦„</strong></h2><h3 id=-1-1-learned-data-structuresë¥¼-í™œìš©í•œ-radix-tree-ìµœì í™”>âœ… <strong>1-1. Learned Data Structuresë¥¼ í™œìš©í•œ Radix Tree ìµœì í™”</strong></h3><ul><li><strong>ê¸°ì¡´ Radix Tree íƒìƒ‰ ë¹„ìš©:</strong> O(log N)</li><li><strong>Neural Network ê¸°ë°˜ LSM(Tree) íƒìƒ‰ ë¹„ìš©:</strong> O(1)</li></ul><p>ğŸ“Œ <strong>ëŒ€í‘œ ì—°êµ¬:</strong></p><ul><li><strong>Ailamazyan et al., 2022</strong>: Learned Indexesë¥¼ ì ìš©í•˜ì—¬ Radix Tree íƒìƒ‰ ì†ë„ ê°œì„ </li><li><strong>Ferragina et al., 2023</strong>: Neural Hashingì„ ì ìš©í•˜ì—¬ Radix Treeë¥¼ Neural Network ê¸°ë°˜ìœ¼ë¡œ ìµœì í™”</li></ul><p>ğŸ“Œ <strong>Marconiì— ì ìš© ê°€ëŠ¥ì„±:</strong><br>âœ… Radix Tree íƒìƒ‰ì„ Neural Index ê¸°ë°˜ìœ¼ë¡œ ë³€í™˜í•˜ë©´ <strong>CPU ì—°ì‚° ë¶€ë‹´ì„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆìŒ</strong><br>âœ… Prefix íƒìƒ‰ì„ GPUì—ì„œ ìˆ˜í–‰í•  ê°€ëŠ¥ì„±ë„ ìˆìŒ</p><hr><h3 id=-1-2-gpu-ê¸°ë°˜-prefix-caching-ì‹œìŠ¤í…œ-ê°œë°œ>âœ… <strong>1-2. GPU ê¸°ë°˜ Prefix Caching ì‹œìŠ¤í…œ ê°œë°œ</strong></h3><ul><li>í˜„ì¬ MarconiëŠ” <strong>Prefix íƒìƒ‰ê³¼ ìºì‹œ ê´€ë¦¬ë¥¼ CPUì—ì„œ ìˆ˜í–‰</strong></li><li>ìµœê·¼ ì—°êµ¬ì—ì„œëŠ” <strong>Prefix Cachingì„ GPUì—ì„œ ì§ì ‘ ì²˜ë¦¬í•˜ëŠ” ê¸°ë²•</strong>ì´ ì œì•ˆë¨</li></ul><p>ğŸ“Œ <strong>ëŒ€í‘œ ì—°êµ¬:</strong></p><ul><li><strong>Huang et al., 2024 (FastKV)</strong>: <strong>GPUì—ì„œ Key-Value ìºì‹±ì„ ìˆ˜í–‰í•˜ì—¬ Inference ì†ë„ 10ë°° í–¥ìƒ</strong></li><li><strong>Chen et al., 2024 (KVFusion)</strong>: <strong>GPUì—ì„œ ì§ì ‘ Prefix Cacheë¥¼ ê´€ë¦¬í•˜ëŠ” ë°©ì‹ ì œì•ˆ</strong></li></ul><p>ğŸ“Œ <strong>Marconiì— ì ìš© ê°€ëŠ¥ì„±:</strong><br>âœ… <strong>Prefix íƒìƒ‰ ë° ìºì‹±ì„ GPUì—ì„œ ìˆ˜í–‰</strong>í•˜ë©´ <strong>CPU ë¶€í•˜ ê°ì†Œ</strong><br>âœ… <strong>GPU ë©”ëª¨ë¦¬ì—ì„œ Prefixë¥¼ ê´€ë¦¬</strong>í•˜ë©´ CPU-RAM í†µì‹  ë¹„ìš©ë„ ì ˆì•½ ê°€ëŠ¥</p><hr><h2 id=-2-ssm-layerì˜-checkpointing-í•œê³„ë¥¼-ê·¹ë³µí•˜ëŠ”-ì—°êµ¬-íë¦„><strong>ğŸ”¹ (2) SSM Layerì˜ Checkpointing í•œê³„ë¥¼ ê·¹ë³µí•˜ëŠ” ì—°êµ¬ íë¦„</strong></h2><h3 id=-2-1-recurrent-state-compression-ssm-stateì„-íš¨ìœ¨ì ìœ¼ë¡œ-ì €ì¥>âœ… <strong>2-1. Recurrent State Compression (SSM Stateì„ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥)</strong></h3><ul><li>MarconiëŠ” SSM Stateë¥¼ ìºì‹±í•˜ì§€ë§Œ, <strong>SSMì€ in-place updateë¡œ ì¸í•´ ì¤‘ê°„ ìƒíƒœë¥¼ ì‰½ê²Œ ì €ì¥í•  ìˆ˜ ì—†ìŒ</strong></li><li>ìµœê·¼ ì—°êµ¬ì—ì„œëŠ” <strong>SSMì˜ ìƒíƒœë¥¼ ì••ì¶•í•˜ì—¬ ì €ì¥í•˜ëŠ” ë°©ì‹</strong>ì´ ì œì•ˆë¨</li></ul><p>ğŸ“Œ <strong>ëŒ€í‘œ ì—°êµ¬:</strong></p><ul><li><strong>Gu & Dao, 2024 (Efficient State Space Caching)</strong>: SSMì˜ ë‚´ë¶€ ìƒíƒœë¥¼ Tensor Factorizationì„ í™œìš©í•˜ì—¬ ì••ì¶•</li><li><strong>Yang et al., 2024 (DeltaNet)</strong>: <strong>ì´ì „ ìƒíƒœì™€ì˜ ì°¨ì´(Differential State)ë§Œ ì €ì¥í•˜ì—¬ Checkpoint í¬ê¸° ìµœì†Œí™”</strong></li></ul><p>ğŸ“Œ <strong>Marconiì— ì ìš© ê°€ëŠ¥ì„±:</strong><br>âœ… SSM Stateë¥¼ ì••ì¶•í•˜ë©´ <strong>ìºì‹œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì¼ ìˆ˜ ìˆìŒ</strong><br>âœ… <strong>ê¸°ì¡´ Prefix Cachingë³´ë‹¤ ë” ì‘ì€ ê³µê°„ìœ¼ë¡œ ë§ì€ Prefixë¥¼ ì €ì¥ ê°€ëŠ¥</strong></p><hr><h2 id=-3-adaptive-eviction-ì •ì±…-ê°œë°œ><strong>ğŸ”¹ (3) Adaptive Eviction ì •ì±… ê°œë°œ</strong></h2><p>MarconiëŠ” <strong>FLOP-aware Evictionì„ ì‚¬ìš©í•˜ì§€ë§Œ, ê³ ì •ëœ ì •ì±…(Heuristic ê¸°ë°˜)ì´ë¼ì„œ ìœ ë™ì ì¸ í™˜ê²½ì—ì„œëŠ” ìµœì ì´ ì•„ë‹ ìˆ˜ ìˆìŒ</strong>.</p><h3 id=-3-1-reinforcement-learning-ê¸°ë°˜-eviction-ì •ì±…>âœ… <strong>3-1. Reinforcement Learning ê¸°ë°˜ Eviction ì •ì±…</strong></h3><p>ğŸ“Œ <strong>ëŒ€í‘œ ì—°êµ¬:</strong></p><ul><li><strong>Jin et al., 2023 (RL-Evict)</strong>: RL ê¸°ë°˜ìœ¼ë¡œ Eviction ì •ì±…ì„ í•™ìŠµí•˜ì—¬ <strong>ì›Œí¬ë¡œë“œì— ë§ê²Œ ìë™ ìµœì í™”</strong></li><li><strong>DeepCache (Yuan et al., 2024)</strong>: Q-Learningì„ ì´ìš©í•˜ì—¬ <strong>ìµœì ì˜ ìºì‹œ ìœ ì§€/ì‚­ì œ ì •ì±…ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ê²°ì •</strong></li></ul><p>ğŸ“Œ <strong>Marconiì— ì ìš© ê°€ëŠ¥ì„±:</strong><br>âœ… RLì„ ì ìš©í•˜ë©´ Prefix Cachingì´ <strong>ì›Œí¬ë¡œë“œì— ë§ê²Œ ìë™ ìµœì í™”</strong> ê°€ëŠ¥<br>âœ… <strong>ì§§ì€ ìš”ì²­ì´ ë§ì€ ê²½ìš°, ê¸´ Prefixë³´ë‹¤ ì§§ì€ Prefixë¥¼ ìš°ì„  ìºì‹±í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥</strong></p><hr><h2 id=-4-ë™ì -ìºì‹œ-ê´€ë¦¬-ê¸°ë²•-ê°œë°œ><strong>ğŸ”¹ (4) ë™ì  ìºì‹œ ê´€ë¦¬ ê¸°ë²• ê°œë°œ</strong></h2><p>MarconiëŠ” í˜„ì¬ <strong>ê³ ì •ëœ ìºì‹œ í¬ê¸°ë¥¼ ì‚¬ìš©</strong>í•˜ì§€ë§Œ, ìµœì‹  ì—°êµ¬ë“¤ì€ <strong>ìºì‹œ í¬ê¸°ë¥¼ ë™ì ìœ¼ë¡œ ì¡°ì •í•˜ëŠ” ë°©ë²•</strong>ì„ ì—°êµ¬í•˜ê³  ìˆë‹¤.</p><h3 id=-4-1-dynamic-cache-allocation>âœ… <strong>4-1. Dynamic Cache Allocation</strong></h3><p>ğŸ“Œ <strong>ëŒ€í‘œ ì—°êµ¬:</strong></p><ul><li><strong>Qin et al., 2024 (MoonCache)</strong>: Prefix Cache í¬ê¸°ë¥¼ <strong>ì‹¤ì‹œê°„ìœ¼ë¡œ ì¡°ì •í•˜ì—¬ ë©”ëª¨ë¦¬ ìµœì í™”</strong></li><li><strong>SmartCache (Zhao et al., 2024)</strong>: GPUì™€ CPU ë©”ëª¨ë¦¬ë¥¼ ë™ì ìœ¼ë¡œ í™œìš©í•˜ì—¬ <strong>ìµœì ì˜ ìºì‹œ í¬ê¸° ìœ ì§€</strong></li></ul><p>ğŸ“Œ <strong>Marconiì— ì ìš© ê°€ëŠ¥ì„±:</strong><br>âœ… <strong>í˜„ì¬ ìš”ì²­ëŸ‰ì— ë”°ë¼ ìºì‹œ í¬ê¸°ë¥¼ ìë™ ì¡°ì •</strong>í•˜ë©´, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ë©´ì„œ ì„±ëŠ¥ ìœ ì§€ ê°€ëŠ¥<br>âœ… <strong>GPU + CPU ë©”ëª¨ë¦¬ë¥¼ ë™ì ìœ¼ë¡œ í™œìš©í•˜ì—¬, ìºì‹œ thrashingì„ ë°©ì§€</strong></p><hr><h1 id=3-ê²°ë¡ ><strong>3. ê²°ë¡ </strong></h1><p>âœ… <strong>Marconiì˜ í•œê³„ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ì—°êµ¬ íë¦„ì´ ì§„í–‰ë˜ê³  ìˆìŒ</strong>
1ï¸âƒ£ <strong>CPU ì—°ì‚° ë¶€ë‹´ í•´ê²°</strong> â†’ Learned Index(Radix Tree ìµœì í™”) + GPU ê¸°ë°˜ Prefix Caching<br>2ï¸âƒ£ <strong>SSM State ì €ì¥ ë¬¸ì œ í•´ê²°</strong> â†’ State Compression(Differential Checkpointing)<br>3ï¸âƒ£ <strong>Adaptive Eviction ì ìš©</strong> â†’ Reinforcement Learning ê¸°ë°˜ Cache Eviction<br>4ï¸âƒ£ <strong>Dynamic Cache Allocation</strong> â†’ ì‹¤ì‹œê°„ìœ¼ë¡œ ìºì‹œ í¬ê¸°ë¥¼ ì¡°ì •í•˜ëŠ” ì—°êµ¬</p><p>âœ… <strong>Marconiì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ë©´ ë”ìš± íš¨ìœ¨ì ì¸ Hybrid LLM ìºì‹± ì‹œìŠ¤í…œì„ ë§Œë“¤ ìˆ˜ ìˆìŒ! ğŸš€</strong></p><h1 id=q--marconiì—ì„œ-ì œì•ˆí•œ-radix-tree-ê¸°ë°˜-speculative-insertion-ê¸°ë²•ì´-ê¸°ì¡´-lru-ë°©ì‹ê³¼-ë¹„êµí•˜ì—¬-prefix-cachingì˜-íš¨ìœ¨ì„±ì„-ì–´ë–»ê²Œ-ê°œì„ í•˜ëŠ”ê°€>Q : <strong>Marconiì—ì„œ ì œì•ˆí•œ Radix Tree ê¸°ë°˜ Speculative Insertion ê¸°ë²•ì´ ê¸°ì¡´ LRU ë°©ì‹ê³¼ ë¹„êµí•˜ì—¬ Prefix Cachingì˜ íš¨ìœ¨ì„±ì„ ì–´ë–»ê²Œ ê°œì„ í•˜ëŠ”ê°€?</strong></h1><h3 id=marconiì—ì„œ-ì œì•ˆí•œ-radix-tree-ê¸°ë°˜-speculative-insertion-ê¸°ë²•ì´-ê¸°ì¡´-lru-ë°©ì‹ê³¼-ë¹„êµí•˜ì—¬-prefix-cachingì˜-íš¨ìœ¨ì„±ì„-ì–´ë–»ê²Œ-ê°œì„ í•˜ëŠ”ê°€><strong>Marconiì—ì„œ ì œì•ˆí•œ Radix Tree ê¸°ë°˜ Speculative Insertion ê¸°ë²•ì´ ê¸°ì¡´ LRU ë°©ì‹ê³¼ ë¹„êµí•˜ì—¬ Prefix Cachingì˜ íš¨ìœ¨ì„±ì„ ì–´ë–»ê²Œ ê°œì„ í•˜ëŠ”ê°€?</strong></h3><hr><h2 id=1-ê¸°ì¡´-lru-ê¸°ë°˜-prefix-caching-ë°©ì‹ì˜-í•œê³„><strong>1. ê¸°ì¡´ LRU ê¸°ë°˜ Prefix Caching ë°©ì‹ì˜ í•œê³„</strong></h2><p>ê¸°ì¡´ ì‹œìŠ¤í…œ(vLLM, SGLang ë“±)ì—ì„œ ì‚¬ìš©í•˜ëŠ” <strong>LRU(Least Recently Used) ê¸°ë°˜ ìºì‹œ ê´€ë¦¬ ë°©ì‹</strong>ì€ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤.</p><p>1ï¸âƒ£ <strong>LLM ì…ë ¥ì„ Prefix Cacheì—ì„œ íƒìƒ‰</strong></p><ul><li>ê¸°ì¡´ ìš”ì²­ê³¼ ë™ì¼í•œ Prefixê°€ ìˆìœ¼ë©´ ìºì‹œë¥¼ ì¬ì‚¬ìš© (Cache Hit)</li><li>ì—†ë‹¤ë©´ ëª¨ë“  í† í°ì„ ìƒˆë¡­ê²Œ ì—°ì‚° (Cache Miss)</li></ul><p>2ï¸âƒ£ <strong>ìºì‹œê°€ ê°€ë“ ì°° ê²½ìš°, ê°€ì¥ ì˜¤ë˜ ì‚¬ìš©ë˜ì§€ ì•Šì€ í•­ëª©(LRU)ì„ ì‚­ì œ</strong></p><ul><li>ë‹¨ìˆœíˆ ìµœê·¼ì— ì‚¬ìš©ëœ íšŸìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì œê±°</li></ul><p>ğŸ“Œ <strong>í•œê³„ì :</strong><br>âœ… <strong>Prefixê°€ ì–¼ë§ˆë‚˜ ìì£¼ ì¬ì‚¬ìš©ë˜ëŠ”ì§€ ê³ ë ¤í•˜ì§€ ì•ŠìŒ</strong><br>âœ… <strong>ì¤‘ë³µëœ Prefixë¼ë„ ìµœê·¼ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©´ ì‚­ì œë  ê°€ëŠ¥ì„± ë†’ìŒ</strong><br>âœ… <strong>ì›Œí¬ë¡œë“œì— ë”°ë¼ Prefix Cache Hit Rateì´ ë‚®ì•„ì§ˆ ìˆ˜ ìˆìŒ</strong></p><p>ğŸ‘‰ <strong>ê²°ë¡ ì ìœ¼ë¡œ, LRU ê¸°ë°˜ ë°©ì‹ì€ Prefixì˜ ì¬ì‚¬ìš© íŒ¨í„´ì„ ê³ ë ¤í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ê¸´ ë¬¸ë§¥ì´ í•„ìš”í•œ Hybrid LLMì—ì„œ ìµœì ì˜ ìºì‹œ í™œìš©ì´ ì–´ë µë‹¤.</strong></p><hr><h2 id=2-marconiì˜-radix-tree-ê¸°ë°˜-speculative-insertion-ê¸°ë²•ì´-ê°œì„ í•˜ëŠ”-ì ><strong>2. Marconiì˜ Radix Tree ê¸°ë°˜ Speculative Insertion ê¸°ë²•ì´ ê°œì„ í•˜ëŠ” ì </strong></h2><p>MarconiëŠ” <strong>Radix Tree ê¸°ë°˜ Speculative Insertion ê¸°ë²•</strong>ì„ ì‚¬ìš©í•˜ì—¬ <strong>Prefixê°€ ì–¼ë§ˆë‚˜ ì¬ì‚¬ìš©ë  ê°€ëŠ¥ì„±ì´ ë†’ì€ì§€ ì‚¬ì „ì— íŒë‹¨</strong>í•˜ê³ , íš¨ìœ¨ì ì¸ ìºì‹±ì„ ìˆ˜í–‰í•œë‹¤.</p><h3 id=-radix-treeë¥¼-í™œìš©í•œ-prefix-íƒìƒ‰-ìµœì í™”>âœ… <strong>Radix Treeë¥¼ í™œìš©í•œ Prefix íƒìƒ‰ ìµœì í™”</strong></h3><ul><li><strong>Radix Tree</strong>ëŠ” Prefixë¥¼ ê³µìœ í•˜ëŠ” êµ¬ì¡°ë¥¼ íŠ¸ë¦¬ í˜•íƒœë¡œ ê´€ë¦¬í•˜ëŠ” ìë£Œêµ¬ì¡°ì´ë‹¤.</li><li>MarconiëŠ” <strong>Radix Treeë¥¼ í™œìš©í•˜ì—¬, ìƒˆë¡œìš´ ì…ë ¥ì´ ê¸°ì¡´ Prefix Cacheì™€ ì–¼ë§ˆë‚˜ ê²¹ì¹˜ëŠ”ì§€ ë¶„ì„</strong>í•œë‹¤.</li><li>ê¸°ì¡´ LRUëŠ” Prefix ì „ì²´ë¥¼ ê°œë³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ì§€ë§Œ, Radix TreeëŠ” <strong>Prefix ê°„ì˜ ì¤‘ë³µì„±ì„ ì ê·¹ í™œìš©</strong>í•˜ì—¬ ì €ì¥ ê³µê°„ì„ ìµœì í™”í•œë‹¤.</li></ul><p>ğŸ“Œ <strong>ì˜ˆì œ</strong><br>1ï¸âƒ£ ê¸°ì¡´ ìš”ì²­: <code>"Translate the following text into French: Hello, how are you?"</code><br>2ï¸âƒ£ ìƒˆë¡œìš´ ìš”ì²­: <code>"Translate the following text into French: Hello, my name is John."</code></p><ul><li>LRU ë°©ì‹ì—ì„œëŠ” <code>"Translate the following text into French:"</code>ê°€ ë…ë¦½ì ì¸ ìºì‹œ ì—”íŠ¸ë¦¬ë¡œ ì €ì¥ë˜ì§€ë§Œ,</li><li><strong>Radix TreeëŠ” ê³µí†µëœ Prefix ë¶€ë¶„ì„ ê³µìœ í•˜ëŠ” í˜•íƒœë¡œ ì €ì¥í•˜ì—¬ ê³µê°„ì„ ì ˆì•½í•˜ê³ , ìºì‹œ ê²€ìƒ‰ ì†ë„ë¥¼ ë†’ì„</strong></li></ul><hr><h3 id=-speculative-insertionì„-í†µí•´-prefix-reuse-ê°€ëŠ¥ì„±-ì‚¬ì „-í‰ê°€>âœ… <strong>Speculative Insertionì„ í†µí•´ Prefix Reuse ê°€ëŠ¥ì„± ì‚¬ì „ í‰ê°€</strong></h3><p>MarconiëŠ” <strong>ì…ë ¥ ë¬¸ì¥ì´ Prefix Cacheì— ì¶”ê°€ë˜ê¸° ì „ì—, Radix Treeë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ì „ íƒìƒ‰ì„ ìˆ˜í–‰í•˜ì—¬</strong> ë‹¤ìŒê³¼ ê°™ì€ ê²°ì •ì„ ë‚´ë¦°ë‹¤.</p><p>1ï¸âƒ£ <strong>Prefixê°€ ìì£¼ ì¬ì‚¬ìš©ë  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤ë©´</strong> â†’ SSM ìƒíƒœì™€ KV Cacheë¥¼ ì €ì¥<br>2ï¸âƒ£ <strong>Prefixê°€ ì¬ì‚¬ìš© ê°€ëŠ¥ì„±ì´ ë‚®ë‹¤ë©´</strong> â†’ ìºì‹œ ê³µê°„ ë‚­ë¹„ë¥¼ ë§‰ê¸° ìœ„í•´ ì €ì¥í•˜ì§€ ì•ŠìŒ</p><p>ğŸ“Œ <strong>LRU ëŒ€ë¹„ ì°¨ì´ì :</strong><br>âœ… <strong>Prefixê°€ ì–¼ë§ˆë‚˜ ìì£¼ ë“±ì¥í• ì§€ë¥¼ ì˜ˆì¸¡í•˜ì—¬ ìºì‹œí•  í•­ëª©ì„ ì„ ë³„ì ìœ¼ë¡œ ì €ì¥</strong><br>âœ… <strong>ë‹¨ìˆœíˆ ìµœê·¼ ì‚¬ìš©ëœ í•­ëª©ì´ ì•„ë‹ˆë¼, í–¥í›„ ì¬ì‚¬ìš©ë  í™•ë¥ ì´ ë†’ì€ í•­ëª©ì„ ìºì‹œì— ì €ì¥</strong><br>âœ… <strong>ìºì‹œ thrashing(ë¶ˆí•„ìš”í•œ ë°ì´í„°ê°€ ê³„ì† êµì²´ë˜ëŠ” í˜„ìƒ)ì„ ë°©ì§€í•˜ì—¬ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„± ì¦ê°€</strong></p><hr><h2 id=3-radix-tree-ê¸°ë°˜-speculative-insertion-vs-ê¸°ì¡´-lru-ë°©ì‹-ë¹„êµ><strong>3. Radix Tree ê¸°ë°˜ Speculative Insertion vs. ê¸°ì¡´ LRU ë°©ì‹ ë¹„êµ</strong></h2><table><thead><tr><th><strong>ë¹„êµ í•­ëª©</strong></th><th><strong>ê¸°ì¡´ LRU ë°©ì‹</strong></th><th><strong>Marconi (Radix Tree ê¸°ë°˜ Speculative Insertion)</strong></th></tr></thead><tbody><tr><td><strong>ìºì‹œ ì €ì¥ ì •ì±…</strong></td><td>ìµœê·¼ ì‚¬ìš©ëœ í•­ëª©ì„ ìœ ì§€</td><td><strong>ì¬ì‚¬ìš© ê°€ëŠ¥ì„±ì´ ë†’ì€ í•­ëª©ë§Œ ì €ì¥</strong></td></tr><tr><td><strong>Prefix íƒìƒ‰ ë°©ì‹</strong></td><td>ê°œë³„ Prefix ë¹„êµ (O(N))</td><td><strong>Radix Tree ê¸°ë°˜ íƒìƒ‰ (O(log N))</strong></td></tr><tr><td><strong>Prefix ê´€ë¦¬ ë°©ì‹</strong></td><td>ê°œë³„ì ìœ¼ë¡œ ì €ì¥</td><td><strong>ê³µí†µ Prefixë¥¼ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ì €ì¥í•˜ì—¬ ìµœì í™”</strong></td></tr><tr><td><strong>ìºì‹œ Eviction ì •ì±…</strong></td><td>ê°€ì¥ ì˜¤ë˜ëœ í•­ëª© ì‚­ì œ</td><td><strong>FLOP-aware Evictionìœ¼ë¡œ ì—°ì‚° ì ˆì•½ì´ ì ì€ í•­ëª© ì‚­ì œ</strong></td></tr><tr><td><strong>ìºì‹œ thrashing ë¬¸ì œ</strong></td><td>ë°œìƒ ê°€ëŠ¥ì„± ë†’ìŒ</td><td><strong>Prefix Reuseë¥¼ ì˜ˆì¸¡í•˜ì—¬ ë°©ì§€</strong></td></tr></tbody></table><p>ğŸ“Œ <strong>ê²°ë¡ :</strong></p><ul><li><strong>ê¸°ì¡´ LRU ë°©ì‹ì€ ë‹¨ìˆœíˆ ìµœê·¼ ì‚¬ìš©ëœ í•­ëª©ì„ ìœ ì§€í•˜ì§€ë§Œ, MarconiëŠ” Prefix Reuse ê°€ëŠ¥ì„±ì„ ê³ ë ¤í•˜ì—¬ ë” íš¨ê³¼ì ì¸ ìºì‹±ì„ ìˆ˜í–‰í•¨.</strong></li><li><strong>Radix Tree ê¸°ë°˜ Speculative Insertionì€ Prefix ê°„ ì¤‘ë³µì„ í™œìš©í•˜ì—¬ ê³µê°„ì„ ì ˆì•½í•˜ê³  ê²€ìƒ‰ ì†ë„ë¥¼ ë†’ì„.</strong></li><li><strong>FLOP-aware Evictionê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´, ë©”ëª¨ë¦¬ ë° ì—°ì‚°ëŸ‰ì„ ìµœì í™”í•˜ë©´ì„œ ë” ë†’ì€ ìºì‹œ íˆíŠ¸ìœ¨ì„ ë‹¬ì„± ê°€ëŠ¥! ğŸš€</strong></li></ul><h1 id=q--hybrid-llmì—ì„œ-ssmstate-space-model-layerì˜-in-place-state-update-íŠ¹ì„±ì´-prefix-caching-ìµœì í™”ì—-ì–´ë–¤-ë„ì „-ê³¼ì œë¥¼-ì œì‹œí•˜ë©°-marconiëŠ”-ì´ë¥¼-ì–´ë–»ê²Œ-í•´ê²°í•˜ëŠ”ê°€>Q : <strong>Hybrid LLMì—ì„œ SSM(State Space Model) Layerì˜ in-place state update íŠ¹ì„±ì´ Prefix Caching ìµœì í™”ì— ì–´ë–¤ ë„ì „ ê³¼ì œë¥¼ ì œì‹œí•˜ë©°, MarconiëŠ” ì´ë¥¼ ì–´ë–»ê²Œ í•´ê²°í•˜ëŠ”ê°€?</strong></h1><h3 id=hybrid-llmì—ì„œ-ssmstate-space-model-layerì˜-in-place-state-update-íŠ¹ì„±ì´-prefix-caching-ìµœì í™”ì—-ì–´ë–¤-ë„ì „-ê³¼ì œë¥¼-ì œì‹œí•˜ë©°-marconiëŠ”-ì´ë¥¼-ì–´ë–»ê²Œ-í•´ê²°í•˜ëŠ”ê°€><strong>Hybrid LLMì—ì„œ SSM(State Space Model) Layerì˜ in-place state update íŠ¹ì„±ì´ Prefix Caching ìµœì í™”ì— ì–´ë–¤ ë„ì „ ê³¼ì œë¥¼ ì œì‹œí•˜ë©°, MarconiëŠ” ì´ë¥¼ ì–´ë–»ê²Œ í•´ê²°í•˜ëŠ”ê°€?</strong></h3><hr><h2 id=1-hybrid-llmì—ì„œ-ssmstate-space-model-layerì˜-in-place-state-update-íŠ¹ì„±-ì´í•´><strong>1. Hybrid LLMì—ì„œ SSM(State Space Model) Layerì˜ in-place state update íŠ¹ì„± ì´í•´</strong></h2><p>Hybrid LLM(ì˜ˆ: Mamba ê¸°ë°˜ ëª¨ë¸)ì€ Transformerì˜ <strong>Attention Layer</strong>ì™€ <strong>State Space Model (SSM) Layer</strong>ë¥¼ ì¡°í•©í•˜ì—¬ <strong>ì—°ì‚° íš¨ìœ¨ì„±ê³¼ ì¥ê¸° ë¬¸ë§¥ ìœ ì§€ ëŠ¥ë ¥ì„ ê°œì„ </strong>í•œë‹¤.</p><p>íŠ¹íˆ <strong>SSM Layer</strong>ëŠ” ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì„±ì„ ê°€ì§„ë‹¤.</p><h3 id=-ssmì˜-í•µì‹¬-íŠ¹ì„±-in-place-state-update>âœ… <strong>SSMì˜ í•µì‹¬ íŠ¹ì„±: In-place State Update</strong></h3><ul><li><strong>SSMì€ ì´ì „ í† í° ì •ë³´ë¥¼ recurrent ë°©ì‹ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ë©°, ê¸°ì¡´ ìƒíƒœë¥¼ ë®ì–´ì“´ë‹¤.</strong></li><li>ì¦‰, í•œ ë²ˆ ê³„ì‚°ëœ SSM ìƒíƒœëŠ” <strong>ë˜ëŒë¦´ ìˆ˜ ì—†ê³ (Prefix Rollback ë¶ˆê°€), ìƒˆë¡œìš´ ìƒíƒœë¡œ ê³„ì† ë®ì–´ì“°ê¸°</strong> ëœë‹¤.</li><li>ì´ë¡œ ì¸í•´ <strong>ì´ì „ Prefix ìƒíƒœë¥¼ ì •í™•íˆ ì €ì¥í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì›€</strong>.</li></ul><p>ğŸ“Œ <strong>ì˜ˆì œ:</strong><br>1ï¸âƒ£ LLM ì…ë ¥: <code>"New York City is a great place to live"</code><br>2ï¸âƒ£ SSM Layer ë‚´ë¶€ ìƒíƒœ(State Vector) ì—…ë°ì´íŠ¸ ê³¼ì •</p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-14 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-14 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-14><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>State_1 = f(&#34;New&#34;)
</span></span><span class=line><span class=ln>2</span><span class=cl>State_2 = f(State_1, &#34;York&#34;)
</span></span><span class=line><span class=ln>3</span><span class=cl>State_3 = f(State_2, &#34;City&#34;)</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-14",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li><strong>State_3ì€ ì´ì „ ìƒíƒœ(State_1, State_2)ë¥¼ í¬í•¨í•˜ì§€ë§Œ, ê°œë³„ì ìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ì—†ìŒ</strong></li><li>ì¦‰, <code>"New York City"</code> ë¶€ë¶„ì´ ë‹¤ì‹œ í•„ìš”í•˜ë”ë¼ë„, <strong>State_3ì—ì„œ ì§ì ‘ ë³µì›í•  ìˆ˜ ì—†ìŒ</strong></li></ul><p>ğŸ“Œ <strong>ì´ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ë¬¸ì œ:</strong><br>âœ… <strong>Prefix Cacheë¥¼ í™œìš©í•˜ë ¤ë©´ SSMì˜ ì¤‘ê°„ ìƒíƒœ(State)ë¥¼ ì €ì¥í•´ì•¼ í•˜ì§€ë§Œ, ê¸°ì¡´ ìºì‹œ ë°©ì‹ì€ ì´ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŒ.</strong><br>âœ… <strong>SSM ìƒíƒœê°€ in-placeë¡œ ì—…ë°ì´íŠ¸ë˜ë¯€ë¡œ, ê¸°ì¡´ ìš”ì²­ì—ì„œ ì¼ë¶€ Prefixë§Œ ì¬ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥</strong><br>âœ… <strong>Transformerì˜ KV Cacheì²˜ëŸ¼ ë‹¨ìˆœíˆ ì˜ë¼ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ</strong></p><p>ğŸ‘‰ <strong>ê²°ë¡ ì ìœ¼ë¡œ, ê¸°ì¡´ Transformer ê¸°ë°˜ Prefix Caching ê¸°ë²•(vLLM, SGLang)ì€ SSMì˜ in-place ì—…ë°ì´íŠ¸ íŠ¹ì„±ì„ ì§€ì›í•˜ì§€ ëª»í•˜ì—¬, Hybrid LLMì—ì„œëŠ” ìºì‹œ í™œìš©ë„ê°€ ë‚®ì•„ì§€ëŠ” ë¬¸ì œê°€ ë°œìƒí•œë‹¤.</strong></p><hr><h2 id=2-marconiê°€-ssm-layerì˜-in-place-state-update-ë¬¸ì œë¥¼-í•´ê²°í•˜ëŠ”-ë°©ë²•><strong>2. Marconiê°€ SSM Layerì˜ in-place state update ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•</strong></h2><p>MarconiëŠ” <strong>Prefix Cachingì„ ìµœì í™”í•˜ê¸° ìœ„í•´ SSMì˜ in-place state update íŠ¹ì„±ì„ ê³ ë ¤í•œ ìƒˆë¡œìš´ ìºì‹± ê¸°ë²•ì„ ë„ì…</strong>í–ˆë‹¤.</p><h3 id=-1-judicious-cache-admission-ì„ ë³„ì -ìºì‹œ-ì €ì¥>âœ… <strong>(1) Judicious Cache Admission (ì„ ë³„ì  ìºì‹œ ì €ì¥)</strong></h3><ul><li><strong>ëª¨ë“  SSM ìƒíƒœë¥¼ ìºì‹±í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì¬ì‚¬ìš© ê°€ëŠ¥ì„±ì´ ë†’ì€ ìƒíƒœë§Œ ì €ì¥</strong></li><li>Radix Tree ê¸°ë°˜ ë¶„ì„ì„ í†µí•´ <strong>Prefixê°€ ì—¬ëŸ¬ ìš”ì²­ì—ì„œ ê³µìœ ë  ê°€ëŠ¥ì„±ì´ ë†’ì„ ë•Œë§Œ SSM ìƒíƒœ ì €ì¥</strong></li></ul><p>ğŸ“Œ <strong>ê¸°ì¡´ ë°©ì‹(LRU) ëŒ€ë¹„ ì°¨ì´ì :</strong><br>âœ… ê¸°ì¡´ LRU ë°©ì‹ â†’ SSMì˜ ëª¨ë“  ìƒíƒœë¥¼ ì €ì¥í•˜ë ¤ê³  í•˜ì§€ë§Œ, ëŒ€ë¶€ë¶„ ì¬ì‚¬ìš©ë˜ì§€ ì•Šì•„ ë©”ëª¨ë¦¬ ë‚­ë¹„<br>âœ… Marconi â†’ SSMì˜ ëª¨ë“  ìƒíƒœë¥¼ ì €ì¥í•˜ëŠ” ëŒ€ì‹ , <strong>ì¬ì‚¬ìš© ê°€ëŠ¥ì„±ì´ ë†’ì€ íŠ¹ì • ìƒíƒœë§Œ ì €ì¥</strong></p><hr><h3 id=-2-speculative-insertionì„-í™œìš©í•œ-prefix-checkpointing>âœ… <strong>(2) Speculative Insertionì„ í™œìš©í•œ Prefix Checkpointing</strong></h3><ul><li><strong>Prefix Cacheì— ì €ì¥í•  SSM ìƒíƒœë¥¼ ë¯¸ë¦¬ ì˜ˆì¸¡í•˜ì—¬ ì €ì¥í•˜ëŠ” ë°©ì‹</strong></li><li>Radix Treeë¥¼ í™œìš©í•˜ì—¬ <strong>SSM ìƒíƒœë¥¼ íŠ¹ì • ì§€ì ì—ì„œë§Œ ì €ì¥</strong></li><li>ì˜ˆë¥¼ ë“¤ì–´, ëŒ€í™”í˜• AIì˜ ê²½ìš°, <strong>ëŒ€í™”ê°€ ì¢…ë£Œë  ê°€ëŠ¥ì„±ì´ ë†’ì€ ì§€ì ì—ì„œë§Œ SSM ìƒíƒœë¥¼ ì €ì¥</strong></li></ul><p>ğŸ“Œ <strong>ì˜ˆì œ:</strong><br>1ï¸âƒ£ ìš”ì²­ 1: <code>"Tell me about New York Cityâ€™s history."</code><br>2ï¸âƒ£ ìš”ì²­ 2: <code>"Tell me about New York Cityâ€™s culture."</code></p><ul><li><code>"Tell me about New York City"</code> ë¶€ë¶„ì€ ë™ì¼í•œ Prefix</li><li>MarconiëŠ” ì´ ë¶€ë¶„ì˜ <strong>SSM ìƒíƒœë¥¼ ë¯¸ë¦¬ ì €ì¥</strong>í•˜ì—¬, ë‘ ë²ˆì§¸ ìš”ì²­ì—ì„œ Prefix Cachingì„ í™œìš© ê°€ëŠ¥</li></ul><p>âœ… <strong>íš¨ê³¼:</strong></p><ul><li><strong>SSM ìƒíƒœë¥¼ ë¬´ì¡°ê±´ ì €ì¥í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë¯¸ë¦¬ Prefixë¥¼ ì˜ˆì¸¡í•˜ì—¬ í•„ìš”í•œ ë¶€ë¶„ë§Œ ìºì‹±</strong></li><li><strong>ë©”ëª¨ë¦¬ ë‚­ë¹„ ë°©ì§€ ë° ìºì‹œ íˆíŠ¸ìœ¨ ì¦ê°€</strong></li></ul><hr><h3 id=-3-flop-aware-evictionì„-í†µí•œ-ìµœì í™”>âœ… <strong>(3) FLOP-aware Evictionì„ í†µí•œ ìµœì í™”</strong></h3><ul><li>ê¸°ì¡´ ì‹œìŠ¤í…œì€ <strong>ìºì‹œê°€ ê°€ë“ ì°¨ë©´ ë‹¨ìˆœíˆ ê°€ì¥ ì˜¤ë˜ëœ í•­ëª©(LRU)ì„ ì‚­ì œ</strong></li><li>MarconiëŠ” <strong>FLOP-aware Evictionì„ ì ìš©í•˜ì—¬, ìºì‹œì—ì„œ ì œê±°í•  í•­ëª©ì„ ì—°ì‚° íš¨ìœ¨ì„±ì„ ê¸°ì¤€ìœ¼ë¡œ ê²°ì •</strong></li><li><strong>SSM ìƒíƒœëŠ” í¬ê¸°ê°€ í¬ë¯€ë¡œ, FLOP ëŒ€ë¹„ íš¨ìœ¨ì„±ì´ ë‚®ì€ ìƒíƒœë¶€í„° ì œê±°</strong></li></ul><p>ğŸ“Œ <strong>ê¸°ì¡´ LRU vs. Marconiì˜ FLOP-aware Eviction ë¹„êµ</strong></p><table><thead><tr><th><strong>ë¹„êµ í•­ëª©</strong></th><th><strong>ê¸°ì¡´ LRU ë°©ì‹</strong></th><th><strong>Marconi FLOP-aware Eviction</strong></th></tr></thead><tbody><tr><td><strong>ì‚­ì œ ê¸°ì¤€</strong></td><td>ê°€ì¥ ì˜¤ë˜ëœ í•­ëª© ì‚­ì œ</td><td><strong>FLOP ì ˆì•½ëŸ‰ì´ ë‚®ì€ í•­ëª© ì‚­ì œ</strong></td></tr><tr><td><strong>SSM ìƒíƒœ ê´€ë¦¬</strong></td><td>í¬ê¸°ë§Œ ê³ ë ¤í•˜ì—¬ ì œê±°</td><td><strong>ì—°ì‚° ì ˆì•½ëŸ‰ ëŒ€ë¹„ íš¨ìœ¨ì´ ë‚®ì€ ìƒíƒœë¶€í„° ì œê±°</strong></td></tr><tr><td><strong>Prefix Reuse ê³ ë ¤ ì—¬ë¶€</strong></td><td>ê³ ë ¤í•˜ì§€ ì•ŠìŒ</td><td><strong>Prefixê°€ ë‹¤ì‹œ ë“±ì¥í•  ê°€ëŠ¥ì„±ì„ ê³ ë ¤</strong></td></tr></tbody></table><p>âœ… <strong>íš¨ê³¼:</strong></p><ul><li><strong>ë¶ˆí•„ìš”í•œ SSM ìƒíƒœ ì œê±° â†’ ë©”ëª¨ë¦¬ ì ˆì•½</strong></li><li><strong>ê¸´ Prefixì—ì„œ íš¨ê³¼ì ì¸ ìƒíƒœ ê´€ë¦¬ ê°€ëŠ¥ â†’ Hybrid LLM ìµœì í™”</strong></li></ul><hr><h2 id=3-marconi-vs-ê¸°ì¡´-ë°©ë²•-vllm-sglang-ë¹„êµ><strong>3. Marconi vs. ê¸°ì¡´ ë°©ë²• (vLLM, SGLang) ë¹„êµ</strong></h2><table><thead><tr><th><strong>ë¹„êµ í•­ëª©</strong></th><th><strong>ê¸°ì¡´ ë°©ë²• (vLLM, SGLang)</strong></th><th><strong>Marconi (Radix Tree ê¸°ë°˜ ìµœì í™”)</strong></th></tr></thead><tbody><tr><td><strong>Prefix Cache ë°©ì‹</strong></td><td>ëª¨ë“  ìš”ì²­ì„ ê°œë³„ì ìœ¼ë¡œ ì €ì¥</td><td><strong>Radix Treeë¡œ Prefix ê³µìœ </strong></td></tr><tr><td><strong>SSM ìƒíƒœ ê´€ë¦¬</strong></td><td>in-place ì—…ë°ì´íŠ¸ë¡œ ì¸í•´ ë³µì› ë¶ˆê°€</td><td><strong>Speculative Insertionìœ¼ë¡œ ë¯¸ë¦¬ ì €ì¥</strong></td></tr><tr><td><strong>ìºì‹œ ì €ì¥ ì •ì±…</strong></td><td>ëª¨ë“  ìƒíƒœë¥¼ ì €ì¥</td><td><strong>ì¬ì‚¬ìš© ê°€ëŠ¥ì„±ì´ ë†’ì€ ìƒíƒœë§Œ ì €ì¥</strong></td></tr><tr><td><strong>ìºì‹œ ì‚­ì œ(Eviction) ì •ì±…</strong></td><td>LRU ê¸°ë°˜ ì‚­ì œ</td><td><strong>FLOP-aware Eviction ì ìš©</strong></td></tr><tr><td><strong>ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰</strong></td><td><strong>SSM ìƒíƒœë¥¼ ì €ì¥í•˜ëŠ” ê²½ìš° ë©”ëª¨ë¦¬ ë‚­ë¹„ í¼</strong></td><td><strong>í•„ìš”í•œ ë¶€ë¶„ë§Œ ì €ì¥í•˜ì—¬ ë©”ëª¨ë¦¬ ì ˆì•½</strong></td></tr><tr><td><strong>ì—°ì‚°ëŸ‰ ìµœì í™”</strong></td><td>ë¶ˆí•„ìš”í•œ ì—°ì‚°ì´ ë§ìŒ</td><td><strong>FLOP ì ˆì•½ëŸ‰ì„ ê³ ë ¤í•˜ì—¬ ìµœì í™”</strong></td></tr></tbody></table><p>ğŸ“Œ <strong>ê²°ë¡ :</strong><br>âœ… <strong>MarconiëŠ” SSMì˜ in-place state update ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, Prefixë¥¼ ì‚¬ì „ì— ì˜ˆì¸¡í•˜ì—¬ í•„ìš”í•œ ìƒíƒœë§Œ ì €ì¥í•˜ëŠ” Speculative Insertion ê¸°ë²•ì„ ë„ì…í–ˆë‹¤.</strong><br>âœ… <strong>ê¸°ì¡´ ì‹œìŠ¤í…œ(vLLM, SGLang)ì€ Prefix Cacheë¥¼ Transformer KV Cache ë°©ì‹ìœ¼ë¡œë§Œ ê´€ë¦¬í•˜ë ¤ í–ˆì§€ë§Œ, MarconiëŠ” SSMì˜ íŠ¹ì„±ì„ ê³ ë ¤í•˜ì—¬ ìºì‹± ì „ëµì„ ìµœì í™”í–ˆë‹¤.</strong><br>âœ… <strong>FLOP-aware Evictionì„ ì ìš©í•˜ì—¬, Hybrid LLM í™˜ê²½ì—ì„œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±ì„ ê°œì„ í•˜ë©´ì„œë„ ë†’ì€ Prefix Cache Hit Rateì„ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆë‹¤.</strong></p><p>ğŸ‘‰ <strong>ê²°ê³¼ì ìœ¼ë¡œ, MarconiëŠ” SSMì˜ in-place state update íŠ¹ì„±ì´ ì•¼ê¸°í•˜ëŠ” ìºì‹œ ìµœì í™” ë¬¸ì œë¥¼ í•´ê²°í•˜ë©´ì„œ, Hybrid LLMì—ì„œ Prefix Caching ì„±ëŠ¥ì„ ê·¹ëŒ€í™”í•˜ëŠ” ë° ì„±ê³µí–ˆë‹¤! ğŸš€</strong></p><h1 id=q--flop-aware-eviction-ì •ì±…ì´-ê¸°ì¡´-lru-ê¸°ë°˜-ìºì‹œ-ì œê±°-ë°©ì‹-ëŒ€ë¹„-ì—°ì‚°ëŸ‰ê³¼-ë©”ëª¨ë¦¬-ì‚¬ìš©ëŸ‰ì„-ì–´ë–»ê²Œ-ìµœì í™”í•˜ë©°-íŠ¹ì •-ì›Œí¬ë¡œë“œì—ì„œì˜-í•œê³„ì ì€-ë¬´ì—‡ì¸ê°€>Q : <strong>FLOP-aware Eviction ì •ì±…ì´ ê¸°ì¡´ LRU ê¸°ë°˜ ìºì‹œ ì œê±° ë°©ì‹ ëŒ€ë¹„ ì—°ì‚°ëŸ‰ê³¼ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì–´ë–»ê²Œ ìµœì í™”í•˜ë©°, íŠ¹ì • ì›Œí¬ë¡œë“œì—ì„œì˜ í•œê³„ì ì€ ë¬´ì—‡ì¸ê°€?</strong></h1><h3 id=flop-aware-eviction-ì •ì±…ì´-ê¸°ì¡´-lru-ê¸°ë°˜-ìºì‹œ-ì œê±°-ë°©ì‹-ëŒ€ë¹„-ì—°ì‚°ëŸ‰ê³¼-ë©”ëª¨ë¦¬-ì‚¬ìš©ëŸ‰ì„-ì–´ë–»ê²Œ-ìµœì í™”í•˜ë©°-íŠ¹ì •-ì›Œí¬ë¡œë“œì—ì„œì˜-í•œê³„ì ì€-ë¬´ì—‡ì¸ê°€><strong>FLOP-aware Eviction ì •ì±…ì´ ê¸°ì¡´ LRU ê¸°ë°˜ ìºì‹œ ì œê±° ë°©ì‹ ëŒ€ë¹„ ì—°ì‚°ëŸ‰ê³¼ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì–´ë–»ê²Œ ìµœì í™”í•˜ë©°, íŠ¹ì • ì›Œí¬ë¡œë“œì—ì„œì˜ í•œê³„ì ì€ ë¬´ì—‡ì¸ê°€?</strong></h3><hr><h2 id=1-ê¸°ì¡´-lru-ê¸°ë°˜-ìºì‹œ-ì œê±°-ë°©ì‹ì˜-í•œê³„ì ><strong>1. ê¸°ì¡´ LRU ê¸°ë°˜ ìºì‹œ ì œê±° ë°©ì‹ì˜ í•œê³„ì </strong></h2><p><strong>LRU(Least Recently Used) ê¸°ë°˜ ìºì‹œ ì œê±° ë°©ì‹</strong>ì€ ê°€ì¥ ì˜¤ë˜ ì‚¬ìš©ë˜ì§€ ì•Šì€ ìºì‹œ í•­ëª©ì„ ì œê±°í•˜ëŠ” ë‹¨ìˆœí•œ ë°©ì‹ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ LLM ì„œë¹™ ì‹œìŠ¤í…œ(vLLM, SGLang ë“±)ì—ì„œ ì‚¬ìš©ëœë‹¤.</p><p>ğŸ“Œ <strong>LRUì˜ ë™ì‘ ë°©ì‹</strong><br>1ï¸âƒ£ <strong>Prefix Cacheê°€ ê°€ë“ ì°¨ë©´ ê°€ì¥ ì˜¤ë˜ ì‚¬ìš©ë˜ì§€ ì•Šì€ í•­ëª©ì„ ì œê±°</strong><br>2ï¸âƒ£ <strong>ìºì‹œê°€ ë‹¤ ì°¨ê¸° ì „ê¹Œì§€ëŠ” ìƒˆë¡œìš´ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ê·¸ëŒ€ë¡œ ì €ì¥</strong><br>3ï¸âƒ£ <strong>ìì£¼ ì‚¬ìš©ë˜ëŠ” ìºì‹œ í•­ëª©ë„ ìµœê·¼ì— ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©´ ì‚­ì œë  ìˆ˜ ìˆìŒ</strong></p><p>ğŸ“Œ <strong>LRU ë°©ì‹ì˜ í•œê³„</strong><br>âœ… <strong>Prefixì˜ ì—°ì‚°ëŸ‰(FLOP) ëŒ€ë¹„ íš¨ìœ¨ì„±ì„ ê³ ë ¤í•˜ì§€ ì•ŠìŒ</strong><br>âœ… <strong>ê¸´ ë¬¸ë§¥ì˜ Prefixë¼ë„ ìµœê·¼ì— ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©´ ì‚­ì œë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ</strong><br>âœ… <strong>Hybrid LLMì—ì„œ SSM(State Space Model) ìƒíƒœë¥¼ ì €ì¥í•´ì•¼ í•˜ì§€ë§Œ, SSM ìƒíƒœëŠ” í¬ê¸°ê°€ í¬ë¯€ë¡œ ë©”ëª¨ë¦¬ ë‚­ë¹„ê°€ ë°œìƒ</strong></p><p>ğŸ‘‰ <strong>ê²°ë¡ ì ìœ¼ë¡œ, LRUëŠ” ë‹¨ìˆœí•œ ìºì‹œ ìœ ì§€ ì •ì±…ìœ¼ë¡œ ì¸í•´ ë¶ˆí•„ìš”í•œ ì—°ì‚°ì´ ë§ì•„ì§€ê³ , ì¤‘ìš”í•œ Prefixê°€ ì‚­ì œë˜ëŠ” ë¹„íš¨ìœ¨ì ì¸ ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.</strong></p><hr><h2 id=2-marconiì˜-flop-aware-eviction-ì •ì±…ì´-ê°œì„ í•˜ëŠ”-ì ><strong>2. Marconiì˜ FLOP-aware Eviction ì •ì±…ì´ ê°œì„ í•˜ëŠ” ì </strong></h2><p>MarconiëŠ” ë‹¨ìˆœ LRU ê¸°ë°˜ ìºì‹œ ì‚­ì œ ë°©ì‹ ëŒ€ì‹  <strong>FLOP-aware Eviction ì •ì±…ì„ ë„ì…</strong>í•˜ì—¬ ìºì‹œ í•­ëª©ì˜ <strong>ì—°ì‚°ëŸ‰(FLOP) ëŒ€ë¹„ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±</strong>ì„ í‰ê°€í•˜ì—¬ ì œê±°í•  í•­ëª©ì„ ê²°ì •í•œë‹¤.</p><p>ğŸ“Œ <strong>FLOP-aware Evictionì˜ í•µì‹¬ ê°œë…</strong><br>âœ… <strong>FLOP Efficiency = ìºì‹œ í•­ëª©ì´ ì ˆì•½í•˜ëŠ” ì—°ì‚°ëŸ‰(FLOP) / í•´ë‹¹ ìºì‹œ í•­ëª©ì˜ ë©”ëª¨ë¦¬ í¬ê¸°</strong><br>âœ… <strong>LRUì²˜ëŸ¼ ë‹¨ìˆœíˆ &ldquo;ì˜¤ë˜ëœ í•­ëª©"ì„ ì‚­ì œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, &ldquo;FLOP ì ˆì•½ íš¨ê³¼ê°€ ë‚®ì€ í•­ëª©"ì„ ìš°ì„  ì‚­ì œ</strong><br>âœ… <strong>ì—°ì‚°ëŸ‰ì„ ë§ì´ ì ˆì•½í•  ìˆ˜ ìˆëŠ” ìºì‹œ í•­ëª©ì„ ë” ì˜¤ë˜ ìœ ì§€í•˜ì—¬ íš¨ìœ¨ì ì¸ ìºì‹±ì„ ì‹¤í˜„</strong></p><hr><h2 id=3-flop-aware-evictionì˜-ì—°ì‚°ëŸ‰-ë°-ë©”ëª¨ë¦¬-ìµœì í™”-ë°©ë²•><strong>3. FLOP-aware Evictionì˜ ì—°ì‚°ëŸ‰ ë° ë©”ëª¨ë¦¬ ìµœì í™” ë°©ë²•</strong></h2><h3 id=-1-ì—°ì‚°ëŸ‰flop-ì ˆê°-íš¨ê³¼>âœ… <strong>(1) ì—°ì‚°ëŸ‰(FLOP) ì ˆê° íš¨ê³¼</strong></h3><p><strong>LRU ë°©ì‹ì˜ ë¬¸ì œì :</strong></p><ul><li>LRUëŠ” <strong>ìµœê·¼ ì‚¬ìš© ì—¬ë¶€ë§Œ ê³ ë ¤</strong>í•˜ë¯€ë¡œ, ì—°ì‚° ì ˆì•½ íš¨ê³¼ê°€ ë†’ì€ Prefixë¼ë„ ì˜¤ë˜ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©´ ì‚­ì œë  ìˆ˜ ìˆìŒ</li><li>ê²°ê³¼ì ìœ¼ë¡œ <strong>ë¶ˆí•„ìš”í•œ ì—°ì‚°ì´ ì¦ê°€</strong>í•˜ì—¬ ëª¨ë¸ ì¶”ë¡  ì†ë„ê°€ ëŠë ¤ì§</li></ul><p><strong>FLOP-aware Evictionì˜ ê°œì„ ì :</strong></p><ul><li><strong>ì—°ì‚°ëŸ‰ ì ˆì•½ì´ ë§ì€ PrefixëŠ” ìµœëŒ€í•œ ìœ ì§€</strong>í•˜ê³ , <strong>ì—°ì‚° ì ˆì•½ì´ ì ì€ í•­ëª©ì„ ë¨¼ì € ì‚­ì œ</strong></li><li>ì´ë¥¼ ìœ„í•´ ê° ìºì‹œ í•­ëª©ì˜ <strong>FLOP Efficiencyë¥¼ ê³„ì‚°í•˜ê³ , ìµœì†Œ ê°’ë¶€í„° ì œê±°</strong></li></ul><p>ğŸ“Œ <strong>FLOP Efficiency ê³„ì‚° ê³µì‹</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-15 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=ì ‘ê¸° aria-label=ì ‘ê¸°>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">ì ‘ê¸°</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-15 title=ë³µì‚¬ aria-label=ë³µì‚¬>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">ë³µì‚¬</span></button></div></div><div class="code-block-content relative" id=code-15><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>FLOP Efficiency = (ì´ Prefixê°€ ì¬ì‚¬ìš©ë  ê²½ìš° ì ˆì•½ë˜ëŠ” FLOP) / (ìºì‹œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰)</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">í´ë¦­í•˜ì—¬ ë” ë³´ê¸°</div></div></div></div><script>(function(){const s="code-15",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="ë³µì‚¬ë¨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="ë³µì‚¬"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("å¤åˆ¶å¤±è´¥:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="ì„ íƒë¨"),setTimeout(()=>{t&&(t.textContent="ë³µì‚¬"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="í¼ì¹˜ê¸°"),t.title="í¼ì¹˜ê¸°"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="ì ‘ê¸°"),t.title="ì ‘ê¸°"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li><strong>ê°’ì´ ì‘ì€ í•­ëª©ë¶€í„° ì œê±°</strong> â†’ ì¦‰, ë©”ëª¨ë¦¬ë§Œ ì°¨ì§€í•˜ê³  ì—°ì‚° ì ˆì•½ íš¨ê³¼ê°€ ë‚®ì€ í•­ëª©ì€ ìºì‹œì—ì„œ ì œê±°ë¨</li></ul><p>ğŸ“Œ <strong>ì˜ˆì œ (FLOP Efficiency ê³„ì‚° ë¹„êµ)</strong></p><table><thead><tr><th>ìºì‹œ í•­ëª©</th><th>ì €ì¥ëœ Prefix</th><th>ìºì‹œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ (MB)</th><th>ì ˆì•½ëœ FLOP (TFLOP)</th><th>FLOP Efficiency (TFLOP/MB)</th><th>ì‚­ì œ ìš°ì„ ìˆœìœ„</th></tr></thead><tbody><tr><td>A</td><td><code>"Translate the following text into French"</code></td><td><strong>10MB</strong></td><td><strong>100 TFLOP</strong></td><td><strong>10</strong></td><td>ìœ ì§€</td></tr><tr><td>B</td><td><code>"New York City is a big"</code></td><td><strong>8MB</strong></td><td><strong>20 TFLOP</strong></td><td><strong>2.5</strong></td><td>âŒ ì œê±°</td></tr><tr><td>C</td><td><code>"The capital of France is Paris"</code></td><td><strong>6MB</strong></td><td><strong>90 TFLOP</strong></td><td><strong>15</strong></td><td>ìœ ì§€</td></tr></tbody></table><p>âœ… <strong>FLOP Efficiencyê°€ ë‚®ì€ B í•­ëª©ì„ ì‚­ì œí•˜ê³ , Aì™€ C í•­ëª©ì„ ìœ ì§€ â†’ ë¶ˆí•„ìš”í•œ ì—°ì‚°ì„ ì¤„ì´ê³  ë©”ëª¨ë¦¬ íš¨ìœ¨ì„ ë†’ì„</strong></p><hr><h3 id=-2-ë©”ëª¨ë¦¬-ì‚¬ìš©ëŸ‰-ìµœì í™”-íš¨ê³¼>âœ… <strong>(2) ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™” íš¨ê³¼</strong></h3><p><strong>LRU ë°©ì‹ì˜ ë¬¸ì œì :</strong></p><ul><li>ìºì‹œê°€ ê°€ë“ ì°¨ë©´ ë‹¨ìˆœíˆ ì˜¤ë˜ëœ í•­ëª©ë¶€í„° ì‚­ì œí•˜ê¸° ë•Œë¬¸ì—, ë©”ëª¨ë¦¬ë¥¼ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©</li><li>ì—°ì‚°ëŸ‰ì´ ë§ì•„ë„ ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì°¨ì§€í•˜ëŠ” í•­ëª©ì€ ì‚­ì œë  ê°€ëŠ¥ì„±ì´ í¼</li></ul><p><strong>FLOP-aware Evictionì˜ ê°œì„ ì :</strong></p><ul><li><strong>ì ì€ ë©”ëª¨ë¦¬ë¡œ ë§ì€ ì—°ì‚° ì ˆì•½ì´ ê°€ëŠ¥í•œ ìºì‹œ í•­ëª©ì„ ìœ ì§€</strong></li><li><strong>SSM ìƒíƒœëŠ” í¬ê¸°ê°€ í¬ë¯€ë¡œ, SSM ìƒíƒœì˜ FLOP Efficiencyë¥¼ ê³ ë ¤í•˜ì—¬ í•„ìš” ì—†ëŠ” ìƒíƒœë¶€í„° ì‚­ì œ</strong></li></ul><p>ğŸ“Œ <strong>ì˜ˆì œ (SSM ìƒíƒœì˜ ë©”ëª¨ë¦¬ ì‚¬ìš© ìµœì í™”)</strong></p><table><thead><tr><th>ìºì‹œ í•­ëª©</th><th>ì €ì¥ëœ SSM ìƒíƒœ í¬ê¸° (MB)</th><th>ì ˆì•½ëœ FLOP (TFLOP)</th><th>FLOP Efficiency (TFLOP/MB)</th><th>ì‚­ì œ ìš°ì„ ìˆœìœ„</th></tr></thead><tbody><tr><td>X</td><td>SSM State for <code>"Paris is beautiful"</code></td><td><strong>20MB</strong></td><td><strong>30 TFLOP</strong></td><td><strong>1.5</strong></td></tr><tr><td>Y</td><td>SSM State for <code>"What is the capital of France?"</code></td><td><strong>15MB</strong></td><td><strong>90 TFLOP</strong></td><td><strong>6</strong></td></tr></tbody></table><p>âœ… <strong>ë©”ëª¨ë¦¬ íš¨ìœ¨ì´ ë‚®ì€ X í•­ëª©ì„ ì‚­ì œí•˜ê³ , ì—°ì‚° ì ˆì•½ íš¨ê³¼ê°€ ë†’ì€ Y í•­ëª©ì„ ìœ ì§€ â†’ SSM ìºì‹œ ìµœì í™”</strong></p><hr><h2 id=4-flop-aware-evictionì˜-íŠ¹ì •-ì›Œí¬ë¡œë“œì—ì„œì˜-í•œê³„ì ><strong>4. FLOP-aware Evictionì˜ íŠ¹ì • ì›Œí¬ë¡œë“œì—ì„œì˜ í•œê³„ì </strong></h2><h3 id=-1-ì§§ì€-ë¬¸ë§¥ì—ì„œì˜-ìºì‹±-ì„±ëŠ¥-ì €í•˜>ğŸ”´ <strong>(1) ì§§ì€ ë¬¸ë§¥ì—ì„œì˜ ìºì‹± ì„±ëŠ¥ ì €í•˜</strong></h3><ul><li>FLOP-aware Evictionì€ ê¸´ ë¬¸ë§¥ì—ì„œ íš¨ê³¼ì ì´ì§€ë§Œ, <strong>ì§§ì€ ì§ˆì˜ì‘ë‹µ(Query-Answering)ì´ë‚˜ ê²€ìƒ‰ ì—”ì§„ê³¼ ê°™ì€ ì§§ì€ ì›Œí¬ë¡œë“œì—ì„œëŠ” íš¨ê³¼ê°€ ì œí•œì </strong></li><li>ì´ìœ : ì§§ì€ PrefixëŠ” ì—°ì‚° ì ˆì•½ëŸ‰ì´ ì‘ì•„ì„œ, FLOP Efficiencyê°€ ë‚®ê²Œ ë‚˜ì˜¬ ê°€ëŠ¥ì„±ì´ í¼</li><li>í•´ê²°ì±…: <strong>ì§§ì€ Prefixì—ì„œë„ FLOP ì ˆì•½ëŸ‰ì„ ë³´ì •í•˜ì—¬ ìœ ì§€í•˜ëŠ” Adaptive Eviction í•„ìš”</strong></li></ul><h3 id=-2-ì¶”ê°€ì ì¸-ì—°ì‚°ëŸ‰-ë¶€ë‹´>ğŸ”´ <strong>(2) ì¶”ê°€ì ì¸ ì—°ì‚°ëŸ‰ ë¶€ë‹´</strong></h3><ul><li>FLOP-aware Evictionì€ <strong>ê° ìºì‹œ í•­ëª©ì˜ FLOP Efficiencyë¥¼ ê³„ì‚°í•´ì•¼ í•˜ë¯€ë¡œ ì¶”ê°€ì ì¸ ì—°ì‚°ì´ í•„ìš”</strong></li><li>Eviction ê³¼ì •ì—ì„œ O(N log N)ì˜ ì •ë ¬ ì—°ì‚°ì´ í•„ìš”í•˜ë¯€ë¡œ, ìºì‹œ í¬ê¸°ê°€ ì»¤ì§ˆìˆ˜ë¡ ì—°ì‚° ë¶€ë‹´ ì¦ê°€</li><li>í•´ê²°ì±…: <strong>Reinforcement Learning(RL) ê¸°ë°˜ Adaptive Evictionì„ ì ìš©í•˜ì—¬ ì—°ì‚° ìµœì í™”</strong></li></ul><h3 id=-3-íŠ¹ì •-ì‘ìš©-ë¶„ì•¼ì—ì„œì˜-ì ìš©-í•œê³„>ğŸ”´ <strong>(3) íŠ¹ì • ì‘ìš© ë¶„ì•¼ì—ì„œì˜ ì ìš© í•œê³„</strong></h3><ul><li>ì‹¤ì‹œê°„ LLM ì¶”ë¡  ì‹œìŠ¤í…œ(ì˜ˆ: ì±„íŒ… AI)ì—ì„œëŠ” Eviction ì—°ì‚°ì´ ë§ì€ ì§€ì—°(latency)ì„ ì´ˆë˜í•  ìˆ˜ ìˆìŒ</li><li>í•´ê²°ì±…: <strong>Eviction ì—°ì‚°ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ì—¬, LLM ì¶”ë¡  ì†ë„ë¥¼ ë°©í•´í•˜ì§€ ì•Šë„ë¡ ì¡°ì •</strong></li></ul><hr><h2 id=5-ê²°ë¡ -ë°-ì •ë¦¬><strong>5. ê²°ë¡  ë° ì •ë¦¬</strong></h2><p>âœ… <strong>FLOP-aware Evictionì€ ê¸°ì¡´ LRU ë°©ì‹ ëŒ€ë¹„ ì—°ì‚°ëŸ‰(FLOP)ì„ ì¤„ì´ê³ , ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ìµœì í™”í•˜ëŠ” ê°•ë ¥í•œ ë°©ë²•</strong><br>âœ… <strong>ì§§ì€ Prefixì—ì„œì˜ ì„±ëŠ¥ ë¬¸ì œ, ì¶”ê°€ ì—°ì‚° ë¶€ë‹´ ë“±ì˜ í•œê³„ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Adaptive Eviction ì—°êµ¬ê°€ í•„ìš”</strong><br>âœ… <strong>ê²°ê³¼ì ìœ¼ë¡œ, Marconiì˜ FLOP-aware Evictionì€ Hybrid LLM í™˜ê²½ì—ì„œ ìµœì ì˜ Prefix Cachingì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì¤‘ìš”í•œ ê¸°ìˆ ì´ë‹¤! ğŸš€</strong></p></article></main><footer class="mx-auto max-w-4xl px-4 py-8"><div class="px-6 py-6"><nav class=mb-6><div class="flex flex-wrap items-center justify-center gap-1"><a href=/index.xml class="nav-link hover:text-primary hover:bg-primary/10 text-muted-foreground flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="RSS Feed"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18.0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"/></svg>
<span>RSS Feed</span></a></div></nav><div class="border-border mb-6 border-t"></div><div class="flex flex-col items-center justify-between gap-4 md:flex-row"><div class="text-muted-foreground text-sm"><p>&copy; 2025 Jaehun's Blog.
ëª¨ë“  ê¶Œë¦¬ ë³´ìœ .</p></div><div class="flex items-center gap-3"><a href=https://github.com/ryujaehun target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=GitHub aria-label=GitHub><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="GitHub"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 22v-4a4.8 4.8.0 00-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35.0-3.5.0.0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35.0 3.5A5.4 5.4.0 004 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></g></svg>
</a><a href=https://www.linkedin.com/in/jaehunryu/ target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Linkedin aria-label=Linkedin><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="Linkedin"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6M2 9h4v12H2z"/><circle cx="4" cy="4" r="2"/></g></svg>
</a><a href=mailto:jaehunryu@icloud.com class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Email aria-label=Email><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="Email"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22.0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v10a2 2 0 002 2z"/></svg></a></div></div></div></footer><div id=dock class="pointer-events-none fixed bottom-4 left-1/2 z-[9999] w-fit -translate-x-1/2 translate-y-24 opacity-0 transition-all duration-300 ease-out sm:right-0 sm:left-0 sm:mx-auto sm:translate-x-0" role=toolbar aria-label="ë°”ë¡œê°€ê¸° ë„êµ¬ ëª¨ìŒ"><nav class="border-border bg-card/80 scrollbar-hide xs:px-3 xs:py-2 mx-auto flex max-w-[calc(100vw-2rem)] min-w-fit items-center justify-center overflow-x-auto rounded-2xl border px-4 py-3 shadow-lg backdrop-blur-sm sm:px-4 sm:py-3"><button id=dock-back class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title=ë’¤ë¡œ aria-label=ë’¤ë¡œ>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
<span class="hidden sm:inline">ë’¤ë¡œ</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-toc class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title=ëª©ì°¨ aria-label=ëª©ì°¨>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg>
<span class="hidden sm:inline">ëª©ì°¨</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-search class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-3 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-4 sm:py-2" title=ê²€ìƒ‰ aria-label=ê²€ìƒ‰>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg>
<span class="hidden md:inline">ê²€ìƒ‰</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-top class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title="ë§¨ ìœ„ë¡œ" aria-label="ë§¨ ìœ„ë¡œ">
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m18 15-6-6-6 6"/></svg>
<span class="hidden sm:inline">ë§¨ ìœ„ë¡œ</span></button></nav></div><div id=toc-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 backdrop-blur-sm transition-all duration-300" role=dialog aria-modal=true aria-labelledby=toc-title></div><div id=toc-card class="pointer-events-none fixed inset-4 z-50 flex w-auto scale-95 items-center justify-center opacity-0 transition-all duration-300 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:block sm:w-full sm:max-w-md sm:-translate-x-1/2 sm:-translate-y-1/2" role=dialog aria-modal=true aria-labelledby=toc-title><div class="bg-card border-border w-full max-w-sm overflow-hidden rounded-xl border shadow-xl sm:max-w-md"><div class="border-border bg-muted/30 flex items-center justify-between border-b p-4"><div class="flex items-center gap-3"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg><h2 id=toc-title class="text-foreground text-lg font-semibold">ëª©ì°¨</h2></div><button id=toc-close class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 rounded-lg p-2 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none" title=ë‹«ê¸° aria-label=ë‹«ê¸°>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div class="max-h-96 overflow-y-auto p-4"><nav id=toc-nav class=toc-scrollbar aria-label="ê¸€ ëª©ì°¨"><div id=toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#ë…¼ë¬¸ì˜-í•µì‹¬-ìš”ì•½-ë°-í‰ê°€>ë…¼ë¬¸ì˜ í•µì‹¬ ìš”ì•½ ë° í‰ê°€</a></li></ul></li><li><a href=#1-ê°•ì -ë°-ë…ì°½ì ì¸-ì§€ì >1. ê°•ì  ë° ë…ì°½ì ì¸ ì§€ì </a><ul><li><a href=#-11-ìƒˆë¡œìš´-ìºì‹œ-admission-ì •ì±…>ğŸ“Œ <strong>1.1 ìƒˆë¡œìš´ ìºì‹œ Admission ì •ì±…</strong></a></li><li><a href=#-12-flop-aware-ìºì‹œ-eviction-ì •ì±…>ğŸ“Œ <strong>1.2 FLOP-aware ìºì‹œ Eviction ì •ì±…</strong></a></li><li><a href=#-13-ì„±ëŠ¥-ë¹„êµ-ë°-ê°œì„ >ğŸ“Œ <strong>1.3 ì„±ëŠ¥ ë¹„êµ ë° ê°œì„ </strong></a></li></ul></li><li><a href=#2-í•µì‹¬-ì•Œê³ ë¦¬ì¦˜-marconiì˜-ìºì‹±-í”„ë¡œì„¸ìŠ¤>2. í•µì‹¬ ì•Œê³ ë¦¬ì¦˜: Marconiì˜ ìºì‹± í”„ë¡œì„¸ìŠ¤</a><ul><li><a href=#ì˜ˆì‹œ-ì…ë ¥><strong>ì˜ˆì‹œ ì…ë ¥</strong></a></li><li><a href=#ì „ì²´-ë™ì‘-ê³¼ì •><strong>ì „ì²´ ë™ì‘ ê³¼ì •</strong></a></li></ul></li><li><a href=#3-í•œê³„ì -ë°-ê°œì„ -ê°€ëŠ¥ì„±>3. í•œê³„ì  ë° ê°œì„  ê°€ëŠ¥ì„±</a><ul><li><a href=#-31-ssm-layerê°€-ë„ˆë¬´-ì ìœ¼ë©´-íš¨ê³¼-ê°ì†Œ><strong>ğŸ“Œ 3.1 SSM Layerê°€ ë„ˆë¬´ ì ìœ¼ë©´ íš¨ê³¼ ê°ì†Œ</strong></a></li><li><a href=#-32-ë‹¨ê¸°ì ì¸-prefix-reuseì—ëŠ”-ì•½í• -ìˆ˜-ìˆìŒ><strong>ğŸ“Œ 3.2 ë‹¨ê¸°ì ì¸ Prefix Reuseì—ëŠ” ì•½í•  ìˆ˜ ìˆìŒ</strong></a></li><li><a href=#-33-ë³µì¡í•œ-ìºì‹œ-ê´€ë¦¬-ë¹„ìš©><strong>ğŸ“Œ 3.3 ë³µì¡í•œ ìºì‹œ ê´€ë¦¬ ë¹„ìš©</strong></a></li></ul></li><li><a href=#4-ê²°ë¡ >4. ê²°ë¡ </a><ul><li><a href=#ìµœì ì˜-ì‚¬ìš©-ì‚¬ë¡€><strong>ğŸ”¹ìµœì ì˜ ì‚¬ìš© ì‚¬ë¡€</strong></a></li><li><a href=#ê°œì„ -ê°€ëŠ¥ì„±><strong>ğŸ”¹ê°œì„  ê°€ëŠ¥ì„±</strong></a></li></ul></li></ul><ul><li><a href=#-marconiì˜-í•µì‹¬-ì•Œê³ ë¦¬ì¦˜-ìƒì„¸-ë¶„ì„>ğŸ”¹ <strong>Marconiì˜ í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ ìƒì„¸ ë¶„ì„</strong></a></li></ul><ul><li><a href=#-21-ì˜ˆì œ-ì…ë ¥><strong>ğŸ”¹ 2.1 ì˜ˆì œ ì…ë ¥</strong></a><ul><li><a href=#ì²«-ë²ˆì§¸-ìš”ì²­><strong>ì²« ë²ˆì§¸ ìš”ì²­</strong></a></li><li><a href=#ë‘-ë²ˆì§¸-ìš”ì²­><strong>ë‘ ë²ˆì§¸ ìš”ì²­</strong></a></li></ul></li><li><a href=#-22-ì•Œê³ ë¦¬ì¦˜-ë‹¨ê³„ë³„-ë™ì‘-ê³¼ì •><strong>ğŸ”¹ 2.2 ì•Œê³ ë¦¬ì¦˜ ë‹¨ê³„ë³„ ë™ì‘ ê³¼ì •</strong></a><ul><li><a href=#1-speculative-insertion-radix-tree-í™œìš©í•œ-ì˜ˆì¸¡-ì‚½ì…><strong>1ï¸âƒ£ Speculative Insertion (Radix Tree í™œìš©í•œ ì˜ˆì¸¡ ì‚½ì…)</strong></a></li><li><a href=#2-cache-admission-ì„ ë³„ì -ìºì‹œ-ì €ì¥><strong>2ï¸âƒ£ Cache Admission (ì„ ë³„ì  ìºì‹œ ì €ì¥)</strong></a></li><li><a href=#3-flop-aware-eviction-flop-ê¸°ë°˜-ìºì‹œ-ì œê±°><strong>3ï¸âƒ£ FLOP-aware Eviction (FLOP ê¸°ë°˜ ìºì‹œ ì œê±°)</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#-1-llm-ìš”ì²­-íŒ¨í„´-ë°ì´í„°-ìˆ˜ì§‘><strong>ğŸ”¹ (1) LLM ìš”ì²­ íŒ¨í„´ ë°ì´í„° ìˆ˜ì§‘</strong></a></li><li><a href=#-2-flop-ë°-ë©”ëª¨ë¦¬-ì†Œë¹„-ë¶„ì„><strong>ğŸ”¹ (2) FLOP ë° ë©”ëª¨ë¦¬ ì†Œë¹„ ë¶„ì„</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#1-prefix-caching-í•™ìŠµ-prefix-reuse-ì˜ˆì¸¡-ëª¨ë¸><strong>1ï¸âƒ£ Prefix Caching í•™ìŠµ</strong> (Prefix Reuse ì˜ˆì¸¡ ëª¨ë¸)</a></li><li><a href=#2-flop-aware-ìºì‹œ-ê´€ë¦¬-í•™ìŠµ-eviction-policy><strong>2ï¸âƒ£ FLOP-aware ìºì‹œ ê´€ë¦¬ í•™ìŠµ</strong> (Eviction Policy)</a></li></ul></li></ul><ul><li><a href=#1-ë…¼ë¬¸ì—ì„œ-ì œì‹œí•œ-ê²°ê³¼-ìš”ì•½><strong>1. ë…¼ë¬¸ì—ì„œ ì œì‹œí•œ ê²°ê³¼ ìš”ì•½</strong></a></li><li><a href=#2-ê¸°ì¡´-ë°©ë²•ë¡ ê³¼-marconiì˜-ì°¨ë³„ì ><strong>2. ê¸°ì¡´ ë°©ë²•ë¡ ê³¼ Marconiì˜ ì°¨ë³„ì </strong></a><ul><li><a href=#1-ê¸°ì¡´-prefix-caching-ì‹œìŠ¤í…œì˜-ë¬¸ì œì ><strong>(1) ê¸°ì¡´ Prefix Caching ì‹œìŠ¤í…œì˜ ë¬¸ì œì </strong></a></li><li><a href=#2-marconiì˜-ì°¨ë³„í™”ëœ-ë°©ë²•ë¡ ><strong>(2) Marconiì˜ ì°¨ë³„í™”ëœ ë°©ë²•ë¡ </strong></a><ul><li><a href=#-1-speculative-insertion-radix-tree-ê¸°ë°˜-ì‚¬ì „-ì˜ˆì¸¡><strong>ğŸ“Œ 1ï¸âƒ£ Speculative Insertion (Radix Tree ê¸°ë°˜ ì‚¬ì „ ì˜ˆì¸¡)</strong></a></li><li><a href=#-2-judicious-cache-admission-ì„ ë³„ì -ìºì‹œ-ì €ì¥><strong>ğŸ“Œ 2ï¸âƒ£ Judicious Cache Admission (ì„ ë³„ì  ìºì‹œ ì €ì¥)</strong></a></li><li><a href=#-3-flop-aware-eviction-ì—°ì‚°-íš¨ìœ¨ì„-ê³ ë ¤í•œ-ìºì‹œ-ì‚­ì œ><strong>ğŸ“Œ 3ï¸âƒ£ FLOP-aware Eviction (ì—°ì‚° íš¨ìœ¨ì„ ê³ ë ¤í•œ ìºì‹œ ì‚­ì œ)</strong></a></li></ul></li></ul></li><li><a href=#3-ë…¼ë¬¸ì—ì„œ-ì œê¸°í•˜ëŠ”-marconiì˜-ì„±ëŠ¥-í–¥ìƒ-ì´ìœ ><strong>3. ë…¼ë¬¸ì—ì„œ ì œê¸°í•˜ëŠ” Marconiì˜ ì„±ëŠ¥ í–¥ìƒ ì´ìœ </strong></a></li><li><a href=#4-ë‚˜ì˜-ë¶„ì„-ë°-ì¶”ê°€ì ì¸-ìƒê°><strong>4. ë‚˜ì˜ ë¶„ì„ ë° ì¶”ê°€ì ì¸ ìƒê°</strong></a><ul><li><a href=#-1-marconiì˜-í•œê³„><strong>ğŸ”¹ (1) Marconiì˜ í•œê³„</strong></a></li><li><a href=#-2-speculative-insertionì´-ëª¨ë“ -ìƒí™©ì—ì„œ-ìµœì ì¸ê°€><strong>ğŸ”¹ (2) Speculative Insertionì´ ëª¨ë“  ìƒí™©ì—ì„œ ìµœì ì¸ê°€?</strong></a></li><li><a href=#-3-rl-ê¸°ë°˜-eviction-ì •ì±…-ì ìš©-ê°€ëŠ¥ì„±><strong>ğŸ”¹ (3) RL ê¸°ë°˜ Eviction ì •ì±… ì ìš© ê°€ëŠ¥ì„±</strong></a></li></ul></li><li><a href=#5-ê²°ë¡ ><strong>5. ê²°ë¡ </strong></a></li></ul><ul><li><a href=#1-ê¸°ì¡´-prefix-caching-ì‹œìŠ¤í…œvllm-sglang-ëŒ€ë¹„-ì¶”ê°€ì ì¸-êµ¬í˜„-ìš”ì†Œ><strong>1. ê¸°ì¡´ Prefix Caching ì‹œìŠ¤í…œ(vLLM, SGLang) ëŒ€ë¹„ ì¶”ê°€ì ì¸ êµ¬í˜„ ìš”ì†Œ</strong></a></li><li><a href=#2-êµ¬í˜„ì—-í•„ìš”í•œ-ê³µìˆ˜ê°œë°œ-ë‚œì´ë„-ë¶„ì„><strong>2. êµ¬í˜„ì— í•„ìš”í•œ ê³µìˆ˜(ê°œë°œ ë‚œì´ë„ ë¶„ì„)</strong></a></li><li><a href=#3-ì—°ì‚°ëŸ‰-ì¦ê°€-ë°-ì¶”ê°€-ì»´í“¨íŒ…-ìì›-ìš”êµ¬-ë¶„ì„><strong>3. ì—°ì‚°ëŸ‰ ì¦ê°€ ë° ì¶”ê°€ ì»´í“¨íŒ… ìì› ìš”êµ¬ ë¶„ì„</strong></a><ul><li><a href=#1-ì—°ì‚°ëŸ‰-ì¦ê°€-ë¶„ì„-big-o-í‘œê¸°ë²•><strong>(1) ì—°ì‚°ëŸ‰ ì¦ê°€ ë¶„ì„ (Big-O í‘œê¸°ë²•)</strong></a></li><li><a href=#2-ì¶”ê°€-ì»´í“¨íŒ…-ìì›-ìš”êµ¬ëŸ‰-gpu-cpu-ë©”ëª¨ë¦¬><strong>(2) ì¶”ê°€ ì»´í“¨íŒ… ìì› ìš”êµ¬ëŸ‰ (GPU, CPU, ë©”ëª¨ë¦¬)</strong></a></li></ul></li><li><a href=#4-ì‹¤ì œ-ì»´í“¨íŒ…-ìì›-ìš”êµ¬-ì˜ˆì¸¡><strong>4. ì‹¤ì œ ì»´í“¨íŒ… ìì› ìš”êµ¬ ì˜ˆì¸¡</strong></a></li><li><a href=#5-ê²°ë¡ -ë°-ìµœì í™”-ë°©ì•ˆ><strong>5. ê²°ë¡  ë° ìµœì í™” ë°©ì•ˆ</strong></a></li></ul><ul><li><a href=#1-ì…ë ¥-ë°ì´í„°ì˜-êµ¬ì„±><strong>(1) ì…ë ¥ ë°ì´í„°ì˜ êµ¬ì„±</strong></a></li></ul><ul><li><a href=#1-ì „ì²´-ì¶”ë¡ -ê³¼ì •><strong>(1) ì „ì²´ ì¶”ë¡  ê³¼ì •</strong></a></li></ul><ul><li><a href=#1-hybrid-llmì˜-ì£¼ìš”-êµ¬ì„±-ìš”ì†Œ><strong>(1) Hybrid LLMì˜ ì£¼ìš” êµ¬ì„± ìš”ì†Œ</strong></a></li><li><a href=#2-ì£¼ìš”-ì—°ì‚°ëŸ‰-ë¶„ì„><strong>(2) ì£¼ìš” ì—°ì‚°ëŸ‰ ë¶„ì„</strong></a></li></ul><ul><li><a href=#-1-cpu-ì—°ì‚°ëŸ‰ì„-ì¤„ì´ëŠ”-ì—°êµ¬-íë¦„><strong>ğŸ”¹ (1) CPU ì—°ì‚°ëŸ‰ì„ ì¤„ì´ëŠ” ì—°êµ¬ íë¦„</strong></a><ul><li><a href=#-1-1-learned-data-structuresë¥¼-í™œìš©í•œ-radix-tree-ìµœì í™”>âœ… <strong>1-1. Learned Data Structuresë¥¼ í™œìš©í•œ Radix Tree ìµœì í™”</strong></a></li><li><a href=#-1-2-gpu-ê¸°ë°˜-prefix-caching-ì‹œìŠ¤í…œ-ê°œë°œ>âœ… <strong>1-2. GPU ê¸°ë°˜ Prefix Caching ì‹œìŠ¤í…œ ê°œë°œ</strong></a></li></ul></li><li><a href=#-2-ssm-layerì˜-checkpointing-í•œê³„ë¥¼-ê·¹ë³µí•˜ëŠ”-ì—°êµ¬-íë¦„><strong>ğŸ”¹ (2) SSM Layerì˜ Checkpointing í•œê³„ë¥¼ ê·¹ë³µí•˜ëŠ” ì—°êµ¬ íë¦„</strong></a><ul><li><a href=#-2-1-recurrent-state-compression-ssm-stateì„-íš¨ìœ¨ì ìœ¼ë¡œ-ì €ì¥>âœ… <strong>2-1. Recurrent State Compression (SSM Stateì„ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥)</strong></a></li></ul></li><li><a href=#-3-adaptive-eviction-ì •ì±…-ê°œë°œ><strong>ğŸ”¹ (3) Adaptive Eviction ì •ì±… ê°œë°œ</strong></a><ul><li><a href=#-3-1-reinforcement-learning-ê¸°ë°˜-eviction-ì •ì±…>âœ… <strong>3-1. Reinforcement Learning ê¸°ë°˜ Eviction ì •ì±…</strong></a></li></ul></li><li><a href=#-4-ë™ì -ìºì‹œ-ê´€ë¦¬-ê¸°ë²•-ê°œë°œ><strong>ğŸ”¹ (4) ë™ì  ìºì‹œ ê´€ë¦¬ ê¸°ë²• ê°œë°œ</strong></a><ul><li><a href=#-4-1-dynamic-cache-allocation>âœ… <strong>4-1. Dynamic Cache Allocation</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#marconiì—ì„œ-ì œì•ˆí•œ-radix-tree-ê¸°ë°˜-speculative-insertion-ê¸°ë²•ì´-ê¸°ì¡´-lru-ë°©ì‹ê³¼-ë¹„êµí•˜ì—¬-prefix-cachingì˜-íš¨ìœ¨ì„±ì„-ì–´ë–»ê²Œ-ê°œì„ í•˜ëŠ”ê°€><strong>Marconiì—ì„œ ì œì•ˆí•œ Radix Tree ê¸°ë°˜ Speculative Insertion ê¸°ë²•ì´ ê¸°ì¡´ LRU ë°©ì‹ê³¼ ë¹„êµí•˜ì—¬ Prefix Cachingì˜ íš¨ìœ¨ì„±ì„ ì–´ë–»ê²Œ ê°œì„ í•˜ëŠ”ê°€?</strong></a></li></ul></li><li><a href=#1-ê¸°ì¡´-lru-ê¸°ë°˜-prefix-caching-ë°©ì‹ì˜-í•œê³„><strong>1. ê¸°ì¡´ LRU ê¸°ë°˜ Prefix Caching ë°©ì‹ì˜ í•œê³„</strong></a></li><li><a href=#2-marconiì˜-radix-tree-ê¸°ë°˜-speculative-insertion-ê¸°ë²•ì´-ê°œì„ í•˜ëŠ”-ì ><strong>2. Marconiì˜ Radix Tree ê¸°ë°˜ Speculative Insertion ê¸°ë²•ì´ ê°œì„ í•˜ëŠ” ì </strong></a><ul><li><a href=#-radix-treeë¥¼-í™œìš©í•œ-prefix-íƒìƒ‰-ìµœì í™”>âœ… <strong>Radix Treeë¥¼ í™œìš©í•œ Prefix íƒìƒ‰ ìµœì í™”</strong></a></li><li><a href=#-speculative-insertionì„-í†µí•´-prefix-reuse-ê°€ëŠ¥ì„±-ì‚¬ì „-í‰ê°€>âœ… <strong>Speculative Insertionì„ í†µí•´ Prefix Reuse ê°€ëŠ¥ì„± ì‚¬ì „ í‰ê°€</strong></a></li></ul></li><li><a href=#3-radix-tree-ê¸°ë°˜-speculative-insertion-vs-ê¸°ì¡´-lru-ë°©ì‹-ë¹„êµ><strong>3. Radix Tree ê¸°ë°˜ Speculative Insertion vs. ê¸°ì¡´ LRU ë°©ì‹ ë¹„êµ</strong></a></li></ul><ul><li><ul><li><a href=#hybrid-llmì—ì„œ-ssmstate-space-model-layerì˜-in-place-state-update-íŠ¹ì„±ì´-prefix-caching-ìµœì í™”ì—-ì–´ë–¤-ë„ì „-ê³¼ì œë¥¼-ì œì‹œí•˜ë©°-marconiëŠ”-ì´ë¥¼-ì–´ë–»ê²Œ-í•´ê²°í•˜ëŠ”ê°€><strong>Hybrid LLMì—ì„œ SSM(State Space Model) Layerì˜ in-place state update íŠ¹ì„±ì´ Prefix Caching ìµœì í™”ì— ì–´ë–¤ ë„ì „ ê³¼ì œë¥¼ ì œì‹œí•˜ë©°, MarconiëŠ” ì´ë¥¼ ì–´ë–»ê²Œ í•´ê²°í•˜ëŠ”ê°€?</strong></a></li></ul></li><li><a href=#1-hybrid-llmì—ì„œ-ssmstate-space-model-layerì˜-in-place-state-update-íŠ¹ì„±-ì´í•´><strong>1. Hybrid LLMì—ì„œ SSM(State Space Model) Layerì˜ in-place state update íŠ¹ì„± ì´í•´</strong></a><ul><li><a href=#-ssmì˜-í•µì‹¬-íŠ¹ì„±-in-place-state-update>âœ… <strong>SSMì˜ í•µì‹¬ íŠ¹ì„±: In-place State Update</strong></a></li></ul></li><li><a href=#2-marconiê°€-ssm-layerì˜-in-place-state-update-ë¬¸ì œë¥¼-í•´ê²°í•˜ëŠ”-ë°©ë²•><strong>2. Marconiê°€ SSM Layerì˜ in-place state update ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•</strong></a><ul><li><a href=#-1-judicious-cache-admission-ì„ ë³„ì -ìºì‹œ-ì €ì¥>âœ… <strong>(1) Judicious Cache Admission (ì„ ë³„ì  ìºì‹œ ì €ì¥)</strong></a></li><li><a href=#-2-speculative-insertionì„-í™œìš©í•œ-prefix-checkpointing>âœ… <strong>(2) Speculative Insertionì„ í™œìš©í•œ Prefix Checkpointing</strong></a></li><li><a href=#-3-flop-aware-evictionì„-í†µí•œ-ìµœì í™”>âœ… <strong>(3) FLOP-aware Evictionì„ í†µí•œ ìµœì í™”</strong></a></li></ul></li><li><a href=#3-marconi-vs-ê¸°ì¡´-ë°©ë²•-vllm-sglang-ë¹„êµ><strong>3. Marconi vs. ê¸°ì¡´ ë°©ë²• (vLLM, SGLang) ë¹„êµ</strong></a></li></ul><ul><li><ul><li><a href=#flop-aware-eviction-ì •ì±…ì´-ê¸°ì¡´-lru-ê¸°ë°˜-ìºì‹œ-ì œê±°-ë°©ì‹-ëŒ€ë¹„-ì—°ì‚°ëŸ‰ê³¼-ë©”ëª¨ë¦¬-ì‚¬ìš©ëŸ‰ì„-ì–´ë–»ê²Œ-ìµœì í™”í•˜ë©°-íŠ¹ì •-ì›Œí¬ë¡œë“œì—ì„œì˜-í•œê³„ì ì€-ë¬´ì—‡ì¸ê°€><strong>FLOP-aware Eviction ì •ì±…ì´ ê¸°ì¡´ LRU ê¸°ë°˜ ìºì‹œ ì œê±° ë°©ì‹ ëŒ€ë¹„ ì—°ì‚°ëŸ‰ê³¼ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì–´ë–»ê²Œ ìµœì í™”í•˜ë©°, íŠ¹ì • ì›Œí¬ë¡œë“œì—ì„œì˜ í•œê³„ì ì€ ë¬´ì—‡ì¸ê°€?</strong></a></li></ul></li><li><a href=#1-ê¸°ì¡´-lru-ê¸°ë°˜-ìºì‹œ-ì œê±°-ë°©ì‹ì˜-í•œê³„ì ><strong>1. ê¸°ì¡´ LRU ê¸°ë°˜ ìºì‹œ ì œê±° ë°©ì‹ì˜ í•œê³„ì </strong></a></li><li><a href=#2-marconiì˜-flop-aware-eviction-ì •ì±…ì´-ê°œì„ í•˜ëŠ”-ì ><strong>2. Marconiì˜ FLOP-aware Eviction ì •ì±…ì´ ê°œì„ í•˜ëŠ” ì </strong></a></li><li><a href=#3-flop-aware-evictionì˜-ì—°ì‚°ëŸ‰-ë°-ë©”ëª¨ë¦¬-ìµœì í™”-ë°©ë²•><strong>3. FLOP-aware Evictionì˜ ì—°ì‚°ëŸ‰ ë° ë©”ëª¨ë¦¬ ìµœì í™” ë°©ë²•</strong></a><ul><li><a href=#-1-ì—°ì‚°ëŸ‰flop-ì ˆê°-íš¨ê³¼>âœ… <strong>(1) ì—°ì‚°ëŸ‰(FLOP) ì ˆê° íš¨ê³¼</strong></a></li><li><a href=#-2-ë©”ëª¨ë¦¬-ì‚¬ìš©ëŸ‰-ìµœì í™”-íš¨ê³¼>âœ… <strong>(2) ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™” íš¨ê³¼</strong></a></li></ul></li><li><a href=#4-flop-aware-evictionì˜-íŠ¹ì •-ì›Œí¬ë¡œë“œì—ì„œì˜-í•œê³„ì ><strong>4. FLOP-aware Evictionì˜ íŠ¹ì • ì›Œí¬ë¡œë“œì—ì„œì˜ í•œê³„ì </strong></a><ul><li><a href=#-1-ì§§ì€-ë¬¸ë§¥ì—ì„œì˜-ìºì‹±-ì„±ëŠ¥-ì €í•˜>ğŸ”´ <strong>(1) ì§§ì€ ë¬¸ë§¥ì—ì„œì˜ ìºì‹± ì„±ëŠ¥ ì €í•˜</strong></a></li><li><a href=#-2-ì¶”ê°€ì ì¸-ì—°ì‚°ëŸ‰-ë¶€ë‹´>ğŸ”´ <strong>(2) ì¶”ê°€ì ì¸ ì—°ì‚°ëŸ‰ ë¶€ë‹´</strong></a></li><li><a href=#-3-íŠ¹ì •-ì‘ìš©-ë¶„ì•¼ì—ì„œì˜-ì ìš©-í•œê³„>ğŸ”´ <strong>(3) íŠ¹ì • ì‘ìš© ë¶„ì•¼ì—ì„œì˜ ì ìš© í•œê³„</strong></a></li></ul></li><li><a href=#5-ê²°ë¡ -ë°-ì •ë¦¬><strong>5. ê²°ë¡  ë° ì •ë¦¬</strong></a></li></ul></nav></div></nav></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground text-center text-xs"><span>ì œëª©ì„ í´ë¦­í•˜ë©´ í•´ë‹¹ ìœ„ì¹˜ë¡œ ì´ë™í•©ë‹ˆë‹¤</span></div></div></div></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css integrity=sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js integrity=sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous></script><script>function initKaTeX(){if(typeof renderMathInElement=="undefined"){setTimeout(initKaTeX,100);return}var e=[{display:!0,left:"$$",right:"$$"},{display:!1,left:"$",right:"$"}];renderMathInElement(document.body,{delimiters:e,throwOnError:!1,errorColor:"#cc0000",fleqn:!1,leqno:!1,trust:!1})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initKaTeX):initKaTeX()</script><div id=search-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 transition-opacity duration-300"></div><div id=search-modal class="bg-card border-border pointer-events-none fixed top-1/2 left-1/2 z-50 max-h-[80vh] w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 scale-95 transform overflow-hidden rounded-xl border opacity-0 shadow-xl transition-all duration-300"><div class="border-border flex items-center gap-3 border-b p-4"><div class="text-muted-foreground h-5 w-5 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><div class="relative flex-1"><button id=search-clear class="text-muted-foreground hover:text-foreground hover:bg-muted/50 pointer-events-none absolute top-1/2 left-0 z-10 h-5 w-5 -translate-y-1/2 rounded opacity-0 transition-all duration-200" title=ì§€ìš°ê¸° aria-label=ì§€ìš°ê¸°>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg>
</button>
<input id=search-input type=text placeholder="ê²Œì‹œê¸€ ê²€ìƒ‰..." class="text-foreground placeholder:text-muted-foreground w-full border-none bg-transparent pl-8 text-lg outline-none" autocomplete=off spellcheck=false></div><button id=search-close class="text-muted-foreground hover:text-foreground hover:bg-muted/50 flex h-6 w-6 items-center justify-center rounded-md p-0.5 transition-all duration-200" title=ë‹«ê¸° aria-label=ë‹«ê¸°>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div id=search-results class="max-h-96 overflow-y-auto"><div id=search-empty class="flex flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">ê²€ìƒ‰ ì‹œì‘</h3><p class="text-muted-foreground text-sm">ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”</p></div><div id=search-loading class="flex hidden items-center justify-center py-8"><div class="mr-3 h-6 w-6 animate-spin rounded-full border-2 border-current border-t-transparent"></div><span class=text-muted-foreground>ê²€ìƒ‰ ì¤‘...</span></div><div id=search-no-results class="flex hidden flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ</h3><p class="text-muted-foreground text-sm">ë‹¤ë¥¸ ê²€ìƒ‰ì–´ë¡œ ì‹œë„í•´ë³´ì„¸ìš”</p></div><div id=search-results-list class=hidden><div id=search-stats class="text-muted-foreground border-border border-b px-4 py-3 text-sm" data-template="%dê°œì˜ ê²°ê³¼ ì°¾ìŒ"></div><div id=search-items class="divide-border divide-y"></div></div></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground flex items-center justify-between text-xs"><div class="flex items-center gap-2 md:gap-4"><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">â†‘â†“</kbd>
<span class="hidden sm:inline">ì´ë™</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">â†µ</kbd>
<span class="hidden sm:inline">ì„ íƒ</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">ESC</kbd>
<span class="hidden sm:inline">ë‹«ê¸°</span></div></div><div class="search-hint-desktop flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">âŒ˜K</kbd>
<span>ë‹¨ì¶•í‚¤</span></div></div></div></div></body></html>