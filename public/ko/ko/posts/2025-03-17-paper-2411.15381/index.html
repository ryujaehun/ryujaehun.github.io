<!doctype html><html lang=ko-kr data-theme=claude><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>DIFFSERVE: EFFICIENTLY SERVING TEXT-TO-IMAGE DIFFUSION MODELS WITH QUERY-AWARE MODEL SCALING | Jaehun's Blog</title><meta name=description content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문의 핵심 요약 및 기여 DIFFSERVE는 query-aware..."><meta name=keywords content="개발,프로그래밍,에세이"><meta name=author content><meta name=language content="ko"><meta name=robots content="index, follow"><link rel=canonical href=https://jaehun.me/ko/ko/posts/2025-03-17-paper-2411.15381/><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://jaehun.me/ko/ko/posts/2025-03-17-paper-2411.15381/"><meta property="og:site_name" content="Jaehun's Blog"><meta property="og:title" content="DIFFSERVE: EFFICIENTLY SERVING TEXT-TO-IMAGE DIFFUSION MODELS WITH QUERY-AWARE MODEL SCALING"><meta property="og:description" content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문의 핵심 요약 및 기여 DIFFSERVE는 query-aware model scaling 개념을 도입하여 Text-to-Image Diffusion Model의 효율적인 서빙을 가능하게 하는 시스템이다. 기존 서빙 시스템이 모든 요청에 대해 동일한 크기의 모델을 사용하는 반면, DIFFSERVE는 입력 쿼리의 난이도에 따라 경량(lightweight) 모델과 고성능(heavyweight) 모델을 선택적으로 사용하는 모델 캐스케이드(model cascade) 기법을 적용한다. 이를 통해 최대 24% 품질 향상, 19-70% SLO(서비스 레벨 목표) 위반 감소를 달성한다."><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="ko"><meta property="article:published_time" content="2025-03-17T00:00:00+00:00"><meta property="article:modified_time" content="2025-03-17T00:00:00+00:00"><meta property="og:image" content="https://jaehun.me/images/og-default.avif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jaehun.me/images/og-default.avif"><meta name=twitter:title content="DIFFSERVE: EFFICIENTLY SERVING TEXT-TO-IMAGE DIFFUSION MODELS WITH QUERY-AWARE MODEL SCALING"><meta name=twitter:description content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문의 핵심 요약 및 기여 DIFFSERVE는 query-aware model scaling 개념을 도입하여 Text-to-Image Diffusion Model의 효율적인 서빙을 가능하게 하는 시스템이다. 기존 서빙 시스템이 모든 요청에 대해 동일한 크기의 모델을 사용하는 반면, DIFFSERVE는 입력 쿼리의 난이도에 따라 경량(lightweight) 모델과 고성능(heavyweight) 모델을 선택적으로 사용하는 모델 캐스케이드(model cascade) 기법을 적용한다. 이를 통해 최대 24% 품질 향상, 19-70% SLO(서비스 레벨 목표) 위반 감소를 달성한다."><meta itemprop=name content="DIFFSERVE: EFFICIENTLY SERVING TEXT-TO-IMAGE DIFFUSION MODELS WITH QUERY-AWARE MODEL SCALING"><meta itemprop=description content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문의 핵심 요약 및 기여 DIFFSERVE는 query-aware model scaling 개념을 도입하여 Text-to-Image Diffusion Model의 효율적인 서빙을 가능하게 하는 시스템이다. 기존 서빙 시스템이 모든 요청에 대해 동일한 크기의 모델을 사용하는 반면, DIFFSERVE는 입력 쿼리의 난이도에 따라 경량(lightweight) 모델과 고성능(heavyweight) 모델을 선택적으로 사용하는 모델 캐스케이드(model cascade) 기법을 적용한다. 이를 통해 최대 24% 품질 향상, 19-70% SLO(서비스 레벨 목표) 위반 감소를 달성한다."><meta itemprop=datePublished content="2025-03-17T00:00:00+00:00"><meta itemprop=dateModified content="2025-03-17T00:00:00+00:00"><meta itemprop=wordCount content="15149"><meta itemprop=image content="https://jaehun.me/images/og-default.avif"><meta itemprop=keywords content="Paper-Review,With-Gpt,MLSYS2025"><script>window.HUGO_SEARCH_CONFIG={searchIndexURL:'"/ko/index.json"'}</script><script>window.HUGO_GALLERY_CONFIG={justified_gallery:!1,lightbox:!1,justified:"{}",lightbox_options:"{}"}</script><link rel=stylesheet href=/css/compiled.min.9165cace5b80a5be5daad6ea96eb2abc20a18a3f41d7fed7f0335b689fdf7883.css integrity="sha256-kWXKzluApb5dqtbqlusqvCChij9B1/7X8DNbaJ/feIM=" crossorigin=anonymous><link rel=stylesheet href=/css/chroma.min.491df36221f739b5948a747a0351f100ee7ccaaf466d9f46288bf06de1d59123.css integrity="sha256-SR3zYiH3ObWUinR6A1HxAO58yq9GbZ9GKIvwbeHVkSM=" crossorigin=anonymous><script src=/js/main.ba969e49a7a874e6938fe689a7dcaa00cb64cb4d429c2cf98d09bde512a16c6d.js integrity="sha256-upaeSaeodOaTj+aJp9yqAMtky01CnCz5jQm95RKhbG0=" crossorigin=anonymous></script><script src=/js/gumshoe.polyfills.min.js></script><script src=/js/toc.70654aebf0b738a78ae2df95297cc10ebc6e590f3c942dd1325fa852f50038b2.js integrity="sha256-cGVK6/C3OKeK4t+VKXzBDrxuWQ88lC3RMl+oUvUAOLI=" crossorigin=anonymous defer></script><script src=/js/search.de3eba3540834efb8328121784bff4774e06362412ee41eee665f5b4f987f393.js integrity="sha256-3j66NUCDTvuDKBIXhL/0d04GNiQS7kHu5mX1tPmH85M=" crossorigin=anonymous defer></script><script src=/js/dock.e02f422517e001d9fb6bea1e9e8b0e89e9d2e486ad4641f275bb3e36ce2ae79f.js integrity="sha256-4C9CJRfgAdn7a+oenosOienS5IatRkHydbs+Ns4q558=" crossorigin=anonymous defer></script><script>(function(){const e=localStorage.getItem("theme")||"system",n=localStorage.getItem("colorScheme")||"claude";document.documentElement.setAttribute("data-theme",n);function t(){e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}t(),e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t)})()</script></head><body class="bg-background text-foreground min-h-screen antialiased"><div id=reading-progress-container class="reading-progress-container pointer-events-none fixed top-0 right-0 left-0 z-50 transition-opacity duration-300 ease-out" data-height=3 data-smooth-scroll=true data-hide-on-complete=false><div class="reading-progress-bg w-full"></div><div id=reading-progress-bar class="from-primary to-primary/80 reading-progress-bar
transition-all duration-150 ease-out
absolute top-0 left-0 w-0 bg-gradient-to-r"></div></div><script>(function(){"use strict";const t=document.getElementById("reading-progress-container"),o=document.getElementById("reading-progress-bar");if(!t||!o)return;const a={smoothScroll:t.dataset.smoothScroll==="true",hideOnComplete:t.dataset.hideOnComplete==="true"};let n=!0,l=null;function r(){const t=window.pageYOffset||document.documentElement.scrollTop,n=document.documentElement.scrollHeight,s=window.innerHeight,e=n-s;return e<=0?0:Math.min(Math.max(t/e*100,0),100)}function c(){const e=r();o.style.width=e+"%",a.hideOnComplete&&e>=99.5?n&&(t.style.opacity="0",n=!1):n||(t.style.opacity="1",n=!0)}let s=!1;function e(){s||(requestAnimationFrame(()=>{c(),s=!1}),s=!0)}function i(){window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),document.addEventListener("visibilitychange",()=>{document.hidden||e()}),e(),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()})()</script><header class="sticky top-0 z-50 mx-auto max-w-4xl px-4 py-6"><div class="border-border bg-card/80 flex items-center rounded-xl border px-6 py-4 shadow-sm backdrop-blur-sm"><div class="hidden w-full items-center md:flex"><div class="flex items-center"><a href=/ko/ class="flex h-10 w-10 items-center justify-center overflow-hidden rounded-full transition-transform duration-200 hover:scale-105" aria-label="Jaehun's Blog"><img src=/images/logo.svg alt="Jaehun's Blog" class="h-full w-full object-cover"></a></div><nav class="mx-8 flex flex-1 items-center justify-center"><div class="flex items-center space-x-1"><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.posts"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>게시글
</span></a><a href=/ko/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.categories"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>카테고리
</span></a><a href=/ko/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.tags"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>태그
</span></a><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.archives"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>아카이브</span></a></div></nav><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="언어 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="언어 변경"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=/ko/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>한국어</span></a><a href=/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>English</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="테마 변경"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span>라이트</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg><span>다크</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg><span>시스템</span></button></div></div></div></div><div class="flex w-full items-center justify-between md:hidden"><div class=relative><button id=mobile-menu-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:bg-accent hover:text-foreground flex h-10 w-10 items-center justify-center rounded-lg border transition-colors duration-200" data-dropdown-type=mobile-menu aria-label=메뉴 aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="메뉴"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button><div id=mobile-menu class="mobile-menu dropdown-menu border-border bg-popover/95 absolute top-12 left-0 z-[60] hidden w-80 max-w-[calc(100vw-2rem)] rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out md:hidden" data-dropdown-type=mobile-menu role=menu aria-labelledby=mobile-menu-toggle><nav class="flex flex-col"><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.posts"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>게시글
</span></a><a href=/ko/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.categories"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>카테고리
</span></a><a href=/ko/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.tags"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>태그
</span></a><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.archives"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>아카이브</span></a></nav></div></div><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="언어 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="언어 변경"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=/ko/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>한국어</span></a><a href=/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>English</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="테마 변경"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span>라이트</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg><span>다크</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg><span>시스템</span></button></div></div></div></div></div></header><main class="mx-auto max-w-4xl px-4 py-6"><nav class="breadcrumb mb-4 md:mb-6 py-1" aria-label=경로><ol class="text-muted-foreground flex items-center space-x-1 md:space-x-2 text-sm overflow-x-auto whitespace-nowrap scrollbar-hide py-1"><li class=flex-shrink-0><a href=/ko/ class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02]"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="홈"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m3 12 2-2m0 0 7-7 7 7M5 10v10a1 1 0 001 1h3m10-11 2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
<span class="max-w-[4rem] md:max-w-none truncate">홈</span></a></li><li class="flex items-center gap-1 md:gap-2 min-w-0"><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span><div class="flex items-center gap-1 md:gap-2 min-w-0"><a href=/ko class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02] flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5A2 2 0 003 7z"/></svg>
<span class="max-w-[4rem] md:max-w-none truncate">Ko</span>
</a><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span>
<span class="text-foreground flex items-center gap-0.5 md:gap-1 font-medium min-w-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
<span class="max-w-[8rem] md:max-w-[16rem] lg:max-w-none truncate">DIFFSERVE: EFFICIENTLY SERVING TEXT-TO-IMAGE DIFFUSION MODELS WITH QUERY-AWARE MODEL SCALING</span></span></div></li></ol></nav><header class=mb-8><h1 class="text-foreground mb-4 text-3xl font-bold md:text-4xl">DIFFSERVE: EFFICIENTLY SERVING TEXT-TO-IMAGE DIFFUSION MODELS WITH QUERY-AWARE MODEL SCALING</h1></header><article class="prose prose-neutral dark:prose-invert max-w-none"><p><a href=https://arxiv.org/abs/2411.15381>논문 링크</a></p><h1 id=q--이-논문을-아주-자세하게-읽고-논문의-강점과-독창적인-지점을-설명해주고-핵심-알고리즘을-예시-입력을-들어서-전체적인-과정을-설명해줘-추가적으로-논문의-한계점에-대해서도-알려줘>Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘</h1><h3 id=논문의-핵심-요약-및-기여><strong>논문의 핵심 요약 및 기여</strong></h3><p><strong>DIFFSERVE</strong>는 <strong>query-aware model scaling</strong> 개념을 도입하여 <strong>Text-to-Image Diffusion Model</strong>의 효율적인 서빙을 가능하게 하는 시스템이다. 기존 서빙 시스템이 모든 요청에 대해 동일한 크기의 모델을 사용하는 반면, DIFFSERVE는 입력 쿼리의 난이도에 따라 <strong>경량(lightweight) 모델과 고성능(heavyweight) 모델을 선택적으로 사용</strong>하는 <strong>모델 캐스케이드(model cascade)</strong> 기법을 적용한다. 이를 통해 <strong>최대 24% 품질 향상</strong>, <strong>19-70% SLO(서비스 레벨 목표) 위반 감소</strong>를 달성한다.</p><hr><h2 id=1-논문의-강점과-독창적인-지점><strong>1. 논문의 강점과 독창적인 지점</strong></h2><h3 id=11-강점><strong>1.1. 강점</strong></h3><table><thead><tr><th><strong>항목</strong></th><th><strong>기존 서빙 시스템</strong></th><th><strong>DIFFSERVE</strong></th></tr></thead><tbody><tr><td><strong>응답 품질</strong></td><td>고정된 모델 선택, 품질 저하 가능</td><td>모델 캐스케이딩으로 최적 품질 유지</td></tr><tr><td><strong>응답 지연(Latency)</strong></td><td>고정된 모델 사용으로 변동 큼</td><td>19-70% SLO 위반 감소</td></tr><tr><td><strong>자원 효율성</strong></td><td>최대 부하 대비 과잉 자원 할당</td><td>동적 리소스 할당으로 비용 절감</td></tr><tr><td><strong>Query-Aware Routing</strong></td><td>랜덤 또는 고정 모델 사용</td><td>ML 기반 <strong>Discriminator</strong>로 난이도별 모델 선택</td></tr></tbody></table><ul><li>기존 모델 서빙 시스템(Proteus, Clipper)은 <strong>쿼리 난이도를 고려하지 않음</strong> → DIFFSERVE는 <strong>Discriminator를 활용하여 쿼리를 분류</strong> 후 적절한 모델을 할당.</li><li>기존 시스템은 <strong>고정된 모델을 사용하여 비효율적 자원 할당</strong> → DIFFSERVE는 <strong>동적으로 리소스를 재배치</strong>하여 효율적 운영 가능.</li><li><strong>MILP(Mixed Integer Linear Programming) 최적화</strong>를 통해 성능과 지연시간을 균형 있게 조절.</li></ul><h3 id=12-독창적인-지점><strong>1.2. 독창적인 지점</strong></h3><ol><li><p><strong>Query-Aware Model Scaling</strong></p><ul><li>기존 시스템은 모델 로드 밸런싱만 고려 → DIFFSERVE는 <strong>쿼리 난이도를 고려한 모델 선택</strong> (경량 모델이 처리 가능한 요청은 경량 모델에서 해결).</li><li>Discriminator를 이용하여 <strong>&ldquo;Easy Query"를 식별</strong>하고, <strong>Hard Query만 고성능 모델에 배정</strong>.</li></ul></li><li><p><strong>Discriminator 기반 모델 캐스케이드</strong></p><ul><li>CLIP Score, PickScore 같은 기존 지표보다 정확한 <strong>ML 기반 Discriminator</strong> 설계.</li><li><strong>EfficientNet 기반 Discriminator</strong>가 경량 모델이 생성한 이미지 품질을 판단해 필요 시 고성능 모델로 전달.</li></ul></li><li><p><strong>리소스 최적화를 위한 MILP 기반 동적 리소스 배치</strong></p><ul><li>Confidence Threshold, Batch Size, Worker 할당을 최적화하는 MILP 적용.</li><li>기존 방법(AIMD batching, Fixed Threshold)보다 <strong>최대 19% 품질 향상</strong>, <strong>SLO 위반 20% 감소</strong>.</li></ul></li></ol><hr><h2 id=2-핵심-알고리즘-설명><strong>2. 핵심 알고리즘 설명</strong></h2><p>DIFFSERVE의 주요 과정은 <strong>Discriminator를 통한 모델 선택</strong>과 <strong>리소스 최적화</strong>로 나뉜다.</p><h3 id=21-discriminator를-이용한-query-aware-model-selection><strong>2.1. Discriminator를 이용한 Query-Aware Model Selection</strong></h3><p><strong>입력 예시:</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-0 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-0 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-0><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>텍스트 프롬프트: &#34;A futuristic cityscape at sunset with flying cars.&#34;</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-0",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><p><strong>처리 과정:</strong></p><ol><li>**경량 모델(Light Model)**이 텍스트 프롬프트를 이용해 이미지 생성.</li><li><strong>Discriminator가 이미지 품질 평가 (Confidence Score 계산)</strong>.<ul><li>( P_{\text{real}} ) 값(실제 고품질 이미지와의 유사도) 산출.</li></ul></li><li><strong>Threshold 초과 시:</strong> 즉시 사용자에게 이미지 반환.</li><li><strong>Threshold 미달 시:</strong> 고성능 모델(Heavy Model)에서 재생성 후 반환.</li></ol><hr><h3 id=22-milp-기반-리소스-최적화><strong>2.2. MILP 기반 리소스 최적화</strong></h3><h4 id=최적화-목표><strong>최적화 목표</strong></h4><ul><li><strong>SLO 만족:</strong> 응답 지연 최소화.</li><li><strong>최대 품질 유지:</strong> FID(Frechet Inception Distance) 최소화.</li><li><strong>리소스 효율적 활용:</strong> GPU 워커(worker) 수 조정.</li></ul><h4 id=milp-문제-정의><strong>MILP 문제 정의</strong></h4><p>[
\max_{x_1, x_2, b_1, b_2} t
]
[
\text{subject to: }
]</p><ol><li><p><strong>Latency Constraint (지연시간 제한)</strong>
[
e(b_1) + q(b_1) + e(b_2) + q(b_2) \leq L
]</p><ul><li>( e(b) ): 실행 지연 시간.</li><li>( q(b) ): 대기열 지연 시간.</li></ul></li><li><p><strong>Throughput Constraint (처리량 유지)</strong>
[
x_1 \cdot T_1(b_1) \geq D
]
[
x_2 \cdot T_2(b_2) \geq D \cdot f(t)
]</p><ul><li>( x_1, x_2 ): 경량/고성능 모델 할당 GPU 수.</li><li>( D ): 총 쿼리 수.</li><li>( f(t) ): Threshold를 넘지 못한 쿼리 비율.</li></ul></li><li><p><strong>GPU Resource Limit (총 GPU 개수 제한)</strong>
[
x_1 + x_2 \leq S
]</p><ul><li>( S ): 사용 가능한 총 GPU 수.</li></ul></li></ol><p><strong>결과:</strong><br>MILP 최적화를 통해 <strong>고객 요청에 맞춰 모델 배정과 GPU 자원 사용을 최적화</strong>하여 <strong>SLO를 유지하면서 응답 품질을 최적화</strong>.</p><hr><h2 id=3-논문의-한계점><strong>3. 논문의 한계점</strong></h2><h3 id=31-discriminator의-한계><strong>3.1. Discriminator의 한계</strong></h3><ul><li>Discriminator가 학습된 데이터셋(MS-COCO, DiffusionDB)에 <strong>과적합(overfitting)될 가능성</strong>.</li><li>특정 도메인(예: 의료 이미지, 특수 예술 스타일)에서 성능이 저하될 수 있음.</li></ul><h3 id=32-시스템-오버헤드><strong>3.2. 시스템 오버헤드</strong></h3><ul><li>MILP 최적화는 <strong>리소스 재할당이 필요할 때만 실행되므로 실시간 처리 속도에는 영향이 적음</strong>. 하지만, 시스템 확장성이 커지면 해결 시간 증가 가능.</li></ul><h3 id=33-latency-bounded-환경에서의-한계><strong>3.3. Latency-Bounded 환경에서의 한계</strong></h3><ul><li><strong>초저지연(low-latency)</strong> 환경에서는 여전히 고성능 모델 사용이 필요하여 <strong>효율성이 제한될 가능성</strong>.</li><li>5~15초 SLA 환경에서는 효과적이지만, <strong>1초 이하 SLA에서는 적용이 어려움</strong>.</li></ul><hr><h2 id=4-결론><strong>4. 결론</strong></h2><p>DIFFSERVE는 기존 모델 서빙 시스템이 갖는 <strong>정적 모델 선택, 비효율적 자원 활용 문제</strong>를 해결하기 위해 <strong>Query-Aware Model Scaling</strong>을 도입하였다.<br>이를 통해 <strong>응답 품질 최대 24% 향상, SLO 위반 최대 70% 감소</strong> 등의 성능 개선을 입증하였다.</p><h3 id=추가-연구-방향><strong>추가 연구 방향</strong></h3><ol><li><strong>Discriminator 개선</strong>: 다양한 도메인에서도 성능이 유지되는 모델 연구 필요.</li><li><strong>초저지연 환경 적용</strong>: 1초 이하 SLA에서 활용 가능한 모델 서빙 기법 연구.</li><li><strong>멀티모달 확장</strong>: 텍스트-이미지 외에 텍스트-비디오 생성에도 적용 가능성 탐색.</li></ol><p><strong>DIFFSERVE는 모델 서빙 최적화 분야에서 중요한 기여를 한 연구로, 실제 클라우드 서비스에서도 활용 가능성이 높다.</strong></p><h1 id=q--논문의-핵심알고리즘을-예시를-들어-아주-자세하게-설명해주고-정리해-줘>Q : 논문의 핵심알고리즘을 예시를 들어 아주 자세하게 설명해주고 정리해 줘</h1><p>논문의 핵심 알고리즘은 <strong>Query-Aware Model Scaling</strong>을 활용한 <strong>Diffusion Model Cascade</strong>와 이를 최적화하는 <strong>MILP 기반 리소스 할당 최적화</strong>로 나뉜다. 각각을 예제와 함께 자세히 설명한 후 정리하겠다.</p><hr><h2 id=1-핵심-알고리즘-개요><strong>1. 핵심 알고리즘 개요</strong></h2><h3 id=11-query-aware-model-scaling-diffusion-model-cascade><strong>1.1 Query-Aware Model Scaling (Diffusion Model Cascade)</strong></h3><ul><li>텍스트 입력(쿼리)의 **난이도(easy or hard)**를 판단하여 적절한 모델을 배정.</li><li>**경량 모델(Light Model)**로 먼저 이미지 생성 후, <strong>Discriminator</strong>가 품질을 평가.</li><li>품질이 일정 기준(Threshold) 이상이면 결과를 반환하고, 미달 시 **고성능 모델(Heavy Model)**을 사용.</li></ul><h3 id=12-milp-기반-리소스-최적화><strong>1.2 MILP 기반 리소스 최적화</strong></h3><ul><li>Confidence Threshold, Batch Size, Worker 수를 최적화하여 <strong>응답 품질과 처리 속도 균형 유지</strong>.</li><li>**SLO(서비스 레벨 목표)**를 만족하면서도 GPU 사용량을 최소화.</li></ul><hr><h2 id=2-query-aware-model-scaling-알고리즘-상세-설명><strong>2. Query-Aware Model Scaling 알고리즘 상세 설명</strong></h2><h3 id=21-입력-예시><strong>2.1 입력 예시</strong></h3><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-1 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-1 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-1><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>사용자가 입력한 텍스트 프롬프트:
</span></span><span class=line><span class=ln>2</span><span class=cl>&#34;A futuristic cityscape at sunset with flying cars.&#34;</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-1",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><p>→ 시스템이 이 입력을 분석하고 <strong>최적의 모델을 선택하여 이미지 생성</strong>.</p><hr><h3 id=22-처리-과정><strong>2.2 처리 과정</strong></h3><h4 id=step-1-경량-모델light-model로-1차-생성><strong>Step 1: 경량 모델(Light Model)로 1차 생성</strong></h4><ul><li>DIFFSERVE는 먼저 **경량 모델(SD-Turbo, SDXS 등)**을 사용하여 빠르게 이미지를 생성.</li><li>이 모델은 계산량이 적어 빠른 결과를 제공하지만, 품질이 낮을 수 있음.</li></ul><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-2 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-2 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-2><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>경량 모델 생성 이미지:
</span></span><span class=line><span class=ln>2</span><span class=cl>🚀🌆(Flying cars over a futuristic city at sunset)</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-2",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><h4 id=step-2-discriminator가-품질-평가><strong>Step 2: Discriminator가 품질 평가</strong></h4><ul><li>생성된 이미지가 최종 결과로 적절한지 <strong>Discriminator</strong>가 판단.</li><li>Discriminator는 ML 기반으로 이미지 품질을 평가하고 <strong>Confidence Score</strong>를 출력.</li></ul><p>[
P_{\text{real}} = f(\text{image})
]</p><ul><li><strong>P_real 값이 Threshold(예: 0.8) 이상</strong>이면 결과를 반환.</li><li>Threshold 미달 시 <strong>고성능 모델(Heavy Model)로 재생성</strong>.</li></ul><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-3 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-3 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-3><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>Discriminator Confidence Score = 0.72 (Threshold 0.8 이하)
</span></span><span class=line><span class=ln>2</span><span class=cl>➡ 고성능 모델로 재처리 필요</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-3",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><h4 id=step-3-고성능-모델heavy-model로-재생성><strong>Step 3: 고성능 모델(Heavy Model)로 재생성</strong></h4><ul><li>고성능 모델(SDv1.5, SDXL 등)을 사용하여 <strong>더 높은 품질의 이미지 생성</strong>.</li></ul><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-4 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-4 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-4><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>고성능 모델 생성 이미지:
</span></span><span class=line><span class=ln>2</span><span class=cl>🚀🌇 (Detailed flying cars over a realistic futuristic city at sunset)</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-4",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li><strong>고성능 모델 결과는 무조건 반환</strong>.</li></ul><hr><h3 id=23-query-aware-model-scaling-알고리즘-정리><strong>2.3 Query-Aware Model Scaling 알고리즘 정리</strong></h3><table><thead><tr><th><strong>단계</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>Step 1</strong></td><td>경량 모델이 텍스트 프롬프트 기반 이미지 생성</td></tr><tr><td><strong>Step 2</strong></td><td>Discriminator가 이미지 품질 평가 및 Confidence Score 계산</td></tr><tr><td><strong>Step 3</strong></td><td>Score가 Threshold 이상이면 반환, 미만이면 고성능 모델 재처리</td></tr><tr><td><strong>Step 4</strong></td><td>최종 이미지 반환</td></tr></tbody></table><hr><h2 id=3-milp-기반-리소스-최적화-상세-설명><strong>3. MILP 기반 리소스 최적화 상세 설명</strong></h2><p>Query-Aware Model Scaling을 적용하기 위해 GPU 할당과 모델 배치를 최적화해야 한다. 이를 위해 **MILP (Mixed Integer Linear Programming)**를 사용한다.</p><hr><h3 id=31-최적화-목표><strong>3.1 최적화 목표</strong></h3><ul><li><strong>SLO(서비스 레벨 목표) 유지</strong>: 응답 시간(Latency) 한계 초과 방지.</li><li><strong>최대 품질 유지</strong>: FID(Frechet Inception Distance) 최소화.</li><li><strong>리소스 효율적 활용</strong>: GPU 워커(worker) 수 조정.</li></ul><hr><h3 id=32-milp-최적화-공식><strong>3.2 MILP 최적화 공식</strong></h3><p>[
\max_{x_1, x_2, b_1, b_2} t
]
[
\text{subject to: }
]</p><ol><li><p><strong>Latency Constraint (지연시간 제한)</strong>
[
e(b_1) + q(b_1) + e(b_2) + q(b_2) \leq L
]</p><ul><li>( e(b) ): 실행 지연 시간.</li><li>( q(b) ): 대기열 지연 시간.</li></ul></li><li><p><strong>Throughput Constraint (처리량 유지)</strong>
[
x_1 \cdot T_1(b_1) \geq D
]
[
x_2 \cdot T_2(b_2) \geq D \cdot f(t)
]</p><ul><li>( x_1, x_2 ): 경량/고성능 모델 할당 GPU 수.</li><li>( D ): 총 쿼리 수.</li><li>( f(t) ): Threshold를 넘지 못한 쿼리 비율.</li></ul></li><li><p><strong>GPU Resource Limit (총 GPU 개수 제한)</strong>
[
x_1 + x_2 \leq S
]</p><ul><li>( S ): 사용 가능한 총 GPU 수.</li></ul></li></ol><hr><h3 id=33-milp-최적화-과정><strong>3.3 MILP 최적화 과정</strong></h3><h4 id=step-1-초깃값-설정><strong>Step 1: 초깃값 설정</strong></h4><ul><li>쿼리 수요(D) 예측: <strong>과거 트래픽을 기반으로 예측</strong></li><li>GPU 개수(S) 확보</li><li>초기 Threshold 값 설정</li></ul><h4 id=step-2-최적화-문제-풀기><strong>Step 2: 최적화 문제 풀기</strong></h4><ul><li><strong>Gurobi Solver</strong>로 MILP 최적화 실행</li><li>최적의 <strong>Batch Size, Threshold, GPU 워커 배치</strong> 결정</li></ul><h4 id=step-3-실시간-리소스-재할당><strong>Step 3: 실시간 리소스 재할당</strong></h4><ul><li>초과 로드 발생 시 GPU 추가 배정</li><li>로드 감소 시 리소스 반환</li></ul><hr><h3 id=34-milp-최적화-알고리즘-정리><strong>3.4 MILP 최적화 알고리즘 정리</strong></h3><table><thead><tr><th><strong>단계</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>Step 1</strong></td><td>초깃값 설정 (쿼리 수요, GPU 개수, Threshold)</td></tr><tr><td><strong>Step 2</strong></td><td>MILP 최적화 실행 (Batch Size, GPU 배치 결정)</td></tr><tr><td><strong>Step 3</strong></td><td>실시간 리소스 조정 (과부하 시 확장, 저부하 시 축소)</td></tr></tbody></table><hr><h2 id=4-전체-알고리즘-요약><strong>4. 전체 알고리즘 요약</strong></h2><h3 id=41-query-aware-model-scaling-모델-캐스케이드><strong>4.1 Query-Aware Model Scaling (모델 캐스케이드)</strong></h3><ol><li><strong>경량 모델이 1차 이미지 생성</strong>.</li><li><strong>Discriminator가 품질 평가</strong> 및 Confidence Score 계산.</li><li><strong>Threshold 이상</strong> → 반환, <strong>Threshold 이하</strong> → 고성능 모델 재처리.</li><li><strong>최종 이미지 반환</strong>.</li></ol><h3 id=42-milp-기반-리소스-최적화><strong>4.2 MILP 기반 리소스 최적화</strong></h3><ol><li><strong>초깃값 설정</strong>: 쿼리 수요 예측, GPU 개수 확인, 초기 Threshold 설정.</li><li><strong>MILP 최적화 실행</strong>: Batch Size, GPU 배치 조정.</li><li><strong>실시간 리소스 재할당</strong>: 과부하 시 GPU 추가, 저부하 시 반환.</li></ol><hr><h2 id=5-결론><strong>5. 결론</strong></h2><p><strong>DIFFSERVE의 핵심 알고리즘은 Query-Aware Model Scaling과 MILP 최적화를 조합하여, 고품질 이미지를 빠르고 효율적으로 생성하는 것</strong>이다.<br>이를 통해 <strong>응답 품질 최대 24% 향상, SLO 위반 최대 70% 감소, GPU 사용 최적화</strong>를 달성했다.<br>이 기법은 다양한 AI 서빙 시스템에 응용 가능하며, <strong>LLM 서빙, 비디오 생성 모델에도 확장 가능</strong>하다.</p><h1 id=q--이-논문에서-제시한-결과를-자세하게-보고-다른-방법론에-비하여-특출난-점과-논문에서-제기하는-어떠한-방법이-이러한-결과를-도출하게-되었는지-논문에서-제시하는-이유와-너의-생각을-알려줘>Q : 이 논문에서 제시한 결과를 자세하게 보고 다른 방법론에 비하여 특출난 점과 논문에서 제기하는 어떠한 방법이 이러한 결과를 도출하게 되었는지 논문에서 제시하는 이유와 너의 생각을 알려줘</h1><h2 id=1-논문의-실험-결과-요약><strong>1. 논문의 실험 결과 요약</strong></h2><p>DIFFSERVE는 기존 서빙 시스템 대비 **응답 품질(최소 FID)**을 높이고, **SLO 위반율(지연시간 초과율)**을 낮추는 데 성공했다.</p><h3 id=11-핵심-결과-비교><strong>1.1 핵심 결과 비교</strong></h3><p>논문에서는 DIFFSERVE와 기존 시스템(Clipper, Proteus, DIFFSERVE-Static)을 비교하며, 다양한 실험을 수행했다.</p><h3 id=1-fid-fréchet-inception-distance-낮을수록-좋음><strong>(1) FID (Fréchet Inception Distance, 낮을수록 좋음)</strong></h3><p><strong>DIFFSERVE는 FID를 최대 24%까지 낮춤 → 이미지 품질 개선</strong></p><table><thead><tr><th>방법</th><th>FID (낮을수록 좋음)</th></tr></thead><tbody><tr><td><strong>DIFFSERVE</strong></td><td><strong>16.8 ~ 18.5</strong></td></tr><tr><td>DIFFSERVE-Static</td><td>18.5 ~ 19.5</td></tr><tr><td>Proteus</td><td>19.2 ~ 21.0</td></tr><tr><td>Clipper-Heavy</td><td><strong>17.0</strong> (가장 낮지만, SLO 위반이 큼)</td></tr><tr><td>Clipper-Light</td><td>22.0 ~ 23.5 (품질 최하)</td></tr></tbody></table><h3 id=2-slo-위반율-낮을수록-좋음><strong>(2) SLO 위반율 (낮을수록 좋음)</strong></h3><p><strong>DIFFSERVE는 SLO 위반을 19% ~ 70%까지 감소</strong></p><table><thead><tr><th>방법</th><th>SLO 위반율 (낮을수록 좋음)</th></tr></thead><tbody><tr><td><strong>DIFFSERVE</strong></td><td><strong>최대 1.9%</strong></td></tr><tr><td>DIFFSERVE-Static</td><td>2.0% ~ 3.5%</td></tr><tr><td>Proteus</td><td>3.8% ~ 5.6%</td></tr><tr><td>Clipper-Heavy</td><td><strong>68.4%</strong> (너무 높음)</td></tr><tr><td>Clipper-Light</td><td><strong>0%</strong> (하지만 품질이 낮음)</td></tr></tbody></table><hr><h2 id=2-diffserve가-특출난-점><strong>2. DIFFSERVE가 특출난 점</strong></h2><h3 id=21-기존-방법-대비-혁신적인-점><strong>2.1 기존 방법 대비 혁신적인 점</strong></h3><ol><li><p><strong>Query-Aware Model Scaling</strong></p><ul><li>기존 Proteus는 <strong>쿼리 내용을 고려하지 않고 무작위로 경량/고성능 모델을 선택</strong> → 결과적으로 최적의 모델 선택이 불가능함.</li><li>DIFFSERVE는 <strong>Discriminator를 이용해 쿼리 난이도를 예측하고 최적 모델을 선택</strong>하여 성능 개선.</li></ul></li><li><p><strong>Dynamic Resource Allocation (MILP 기반 최적화)</strong></p><ul><li>기존 Clipper, Proteus는 <strong>고정된 모델 배치</strong> 사용 → Peak 시간대에는 성능 저하 발생.</li><li>DIFFSERVE는 <strong>실시간 리소스 조정을 통해 GPU 활용도를 최적화</strong> → SLO 위반율 감소.</li></ul></li><li><p><strong>Discriminator 기반 Confidence Score 도입</strong></p><ul><li>기존 Clipper는 오직 모델 크기에 따라 경량/고성능 모델을 선택 → 세밀한 조정이 불가능.</li><li>DIFFSERVE는 <strong>EfficientNet 기반 Discriminator를 이용해 모델 선택을 최적화</strong>하여 품질 향상.</li></ul></li></ol><hr><h2 id=3-diffserve가-좋은-결과를-도출한-이유><strong>3. DIFFSERVE가 좋은 결과를 도출한 이유</strong></h2><p>논문에서 제시한 DIFFSERVE의 성능 개선 요인은 크게 3가지다.</p><h3 id=31-query-aware-model-scaling의-효과><strong>3.1 Query-Aware Model Scaling의 효과</strong></h3><p>논문에서는 특정 **&ldquo;Easy Query&rdquo;**에 대해서 경량 모델만 사용해도 고품질 이미지를 생성할 수 있다는 점을 실험적으로 입증했다.</p><ul><li>PickScore 기반 실험 결과, <strong>20~40%의 쿼리는 경량 모델로도 고성능 모델과 유사한 품질의 결과를 생성</strong>.</li><li>기존 방법들은 모든 쿼리에 대해 동일한 모델을 사용 → 비효율적.</li><li><strong>DIFFSERVE는 &ldquo;Easy Query"를 Discriminator가 선별하여 경량 모델에서 처리</strong> → 연산량 감소 + 응답 속도 향상.</li></ul><h3 id=32-discriminator의-학습-및-정확도><strong>3.2 Discriminator의 학습 및 정확도</strong></h3><ul><li>CLIP Score, PickScore 기반 분류보다 <strong>EfficientNet 기반 Discriminator</strong>가 더 높은 정확도를 보임.</li><li>실험 결과, Discriminator를 사용했을 때 FID가 최대 <strong>24% 개선</strong>됨.</li><li>ResNet, ViT 기반 모델보다 <strong>EfficientNet을 사용했을 때 가장 좋은 성능</strong>을 보였음.</li></ul><h3 id=33-milp-기반-리소스-최적화의-영향><strong>3.3 MILP 기반 리소스 최적화의 영향</strong></h3><ul><li><strong>Batch Size, Confidence Threshold, GPU 할당을 최적화</strong>하여 리소스를 효율적으로 사용.</li><li>MILP를 적용한 결과, <strong>SLO 위반율이 20% 감소</strong>.</li><li>기존 Proteus는 단순한 **AIMD 방식(Additive Increase, Multiplicative Decrease)**을 사용하여 리소스를 조정했지만,<br>DIFFSERVE는 <strong>MILP 기반으로 최적화하여 더 나은 성능</strong>을 보임.</li></ul><hr><h2 id=4-내-생각-및-추가적인-분석><strong>4. 내 생각 및 추가적인 분석</strong></h2><h3 id=41-diffserve의-핵심-강점><strong>4.1 DIFFSERVE의 핵심 강점</strong></h3><ul><li>기존 모델 서빙 기법(Proteus, Clipper)과 다르게 <strong>쿼리 난이도(Query Complexity)를 고려하여 모델을 선택</strong>.</li><li><strong>Discriminator 기반 자동 분류 기법</strong>은 추후 <strong>LLM(대형 언어 모델) 서빙</strong>에서도 유용할 가능성이 높음.</li><li><strong>MILP 기반 최적화</strong>는 단순한 휴리스틱 방식보다 성능이 뛰어나며, 실시간 리소스 재할당을 가능하게 함.</li></ul><h3 id=42-보완해야-할-점><strong>4.2 보완해야 할 점</strong></h3><ol><li><p><strong>Discriminator의 학습 데이터 문제</strong></p><ul><li>MS-COCO, DiffusionDB 데이터셋에 최적화되어 있어 특정 도메인(예: 의료 이미지, 초고해상도 생성)에서는 성능 저하 가능.</li><li>다양한 데이터셋에서 성능 검증이 필요함.</li></ul></li><li><p><strong>MILP 최적화의 계산 비용</strong></p><ul><li>실시간 MILP 최적화는 연산량이 많아질 가능성이 있음.</li><li>대규모 클러스터 환경에서도 실시간 최적화가 가능한지 검증 필요.</li></ul></li><li><p><strong>초저지연(ultra-low latency) 환경에서의 적용성</strong></p><ul><li>DIFFSERVE는 5~15초 SLA(Service Level Agreement) 환경에서는 강력하지만,<br>**1초 이하 응답이 필요한 초저지연 환경(예: 실시간 게임, 금융 AI)**에서는 적용이 어려울 수 있음.</li></ul></li></ol><hr><h2 id=5-결론-1><strong>5. 결론</strong></h2><p>논문의 실험 결과에 따르면, <strong>DIFFSERVE는 기존 방법 대비 FID 24% 개선, SLO 위반율 최대 70% 감소</strong>를 달성했다.<br>이러한 성능 개선은 <strong>쿼리 난이도를 고려한 모델 캐스케이딩, Discriminator를 통한 최적 모델 선택, MILP 기반 리소스 최적화</strong> 덕분이다.</p><h3 id=diffserve의-특출난-점><strong>DIFFSERVE의 특출난 점</strong></h3><ol><li><strong>Query-Aware Model Scaling</strong>으로 쿼리 난이도에 따라 적절한 모델을 선택.</li><li><strong>Discriminator를 활용한 이미지 품질 예측</strong>으로 모델 캐스케이딩을 최적화.</li><li><strong>MILP 기반 리소스 최적화</strong>로 응답 품질을 유지하면서도 리소스를 효율적으로 활용.</li></ol><p>이는 단순한 모델 서빙이 아니라 <strong>지능적인 서빙 최적화 기법을 도입한 사례</strong>이며, 향후 LLM 서빙, 비디오 생성 모델 서빙 등 다양한 분야에서 확장될 가능성이 있다.</p><h1 id=q--이-논문에서-제시된-방법을-실제로-사용하려면-기존-방법에서-어떠한-구현이-추가적으로-필요하고-이러한-구현에-소모되는-공수-및-연산에-필요한-컴퓨팅-자원의-크기에-대해서-계산해줄-수-있겠니>Q : 이 논문에서 제시된 방법을 실제로 사용하려면 기존 방법에서 어떠한 구현이 추가적으로 필요하고 이러한 구현에 소모되는 공수 및 연산에 필요한 컴퓨팅 자원의 크기에 대해서 계산해줄 수 있겠니?</h1><p>DIFFSERVE를 실제 시스템에 적용하려면 <strong>기존 서빙 시스템(Proteus, Clipper 등)에 추가 구현해야 할 요소</strong>와 <strong>이러한 구현에 필요한 컴퓨팅 리소스 및 연산 비용</strong>을 분석해보겠다.</p><hr><h2 id=1-기존-서빙-시스템-대비-추가-구현-필요-요소><strong>1. 기존 서빙 시스템 대비 추가 구현 필요 요소</strong></h2><p>DIFFSERVE는 <strong>Query-Aware Model Scaling</strong>과 <strong>MILP 기반 리소스 최적화</strong>를 추가적으로 구현해야 한다. 이를 위해 기존 시스템과 비교하여 <strong>추가 구현이 필요한 항목</strong>을 정리하면 다음과 같다.</p><table><thead><tr><th><strong>항목</strong></th><th><strong>기존 시스템(Proteus, Clipper)</strong></th><th><strong>DIFFSERVE 추가 구현</strong></th></tr></thead><tbody><tr><td><strong>Query Routing</strong></td><td>모델 부하 기반 랜덤 라우팅</td><td><strong>Discriminator 기반 Query-Aware Routing</strong></td></tr><tr><td><strong>Discriminator 추가</strong></td><td>없음</td><td><strong>EfficientNet-V2 기반 이미지 품질 평가 모델 추가</strong></td></tr><tr><td><strong>모델 캐스케이드</strong></td><td>단일 모델 사용</td><td><strong>경량(Light) 모델 → 고성능(Heavy) 모델 단계적 사용</strong></td></tr><tr><td><strong>리소스 최적화</strong></td><td>단순 AIMD 방식</td><td><strong>MILP 기반 GPU 워커 배치 최적화</strong></td></tr><tr><td><strong>Threshold 동적 조정</strong></td><td>없음</td><td><strong>SLO 기반 Confidence Score Threshold 최적화</strong></td></tr></tbody></table><hr><h2 id=2-구현에-필요한-추가-개발-공수-분석><strong>2. 구현에 필요한 추가 개발 공수 분석</strong></h2><p>DIFFSERVE를 <strong>기존 서빙 시스템에 통합하는 데 필요한 개발 공수</strong>를 분석해보자.</p><table><thead><tr><th><strong>구현 항목</strong></th><th><strong>추가 개발 공수(인력-시간)</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>Discriminator 학습 및 배포</strong></td><td>3~4인 * 3개월</td><td>EfficientNet-V2 기반 Discriminator 학습 및 최적화</td></tr><tr><td><strong>Query-Aware Model Routing</strong></td><td>2~3인 * 2개월</td><td>Query를 분석하여 경량/고성능 모델을 자동 선택</td></tr><tr><td><strong>MILP 기반 리소스 최적화</strong></td><td>2~3인 * 2개월</td><td>Gurobi 기반 최적화 알고리즘 적용 및 실시간 리소스 재배치</td></tr><tr><td><strong>Threshold 조정 시스템</strong></td><td>1~2인 * 1개월</td><td>SLO 기반 Confidence Threshold 동적 업데이트</td></tr><tr><td><strong>배포 및 성능 테스트</strong></td><td>3~4인 * 3개월</td><td>실제 환경에서 테스트 및 최적화</td></tr></tbody></table><p><strong>총 예상 개발 기간</strong>:<br>약 <strong>6~9개월</strong> (5~8명 팀 기준)</p><hr><h2 id=3-추가적인-컴퓨팅-자원-요구량-분석><strong>3. 추가적인 컴퓨팅 자원 요구량 분석</strong></h2><h3 id=31-discriminator-연산량><strong>3.1 Discriminator 연산량</strong></h3><ul><li>EfficientNet-V2 기반 Discriminator는 <strong>1회 추론 시 약 10ms (A100 기준)</strong> 소요.</li><li><strong>추론 연산량 (GFLOPs, Giga Floating Point Operations Per Second) 계산:</strong><ul><li>EfficientNet-V2: <strong>≈ 1.0 GFLOPs</strong></li><li>매초 100개 쿼리 처리 시:
[
1.0 \times 100 = 100 \text{ GFLOPs/sec}
]</li><li><strong>기존 대비 추가 연산량: 100 GFLOPs/sec</strong></li></ul></li></ul><h3 id=32-모델-캐스케이드-적용-시-연산량-변화><strong>3.2 모델 캐스케이드 적용 시 연산량 변화</strong></h3><table><thead><tr><th>모델</th><th>FLOPs (512×512 해상도)</th><th>기존 단일 모델 사용 대비 연산량</th></tr></thead><tbody><tr><td><strong>Light Model (SD-Turbo)</strong></td><td><strong>15 GFLOPs</strong></td><td><strong>기존 대비 6.5배 감소</strong></td></tr><tr><td><strong>Heavy Model (SD-v1.5)</strong></td><td><strong>98 GFLOPs</strong></td><td><strong>기존과 동일</strong></td></tr><tr><td><strong>전체 예상 연산량</strong></td><td><strong>(20~40%) 쿼리만 Heavy Model 사용</strong></td><td><strong>기존 대비 연산량 약 40~60% 감소</strong></td></tr></tbody></table><h3 id=33-milp-기반-리소스-최적화의-추가-연산><strong>3.3 MILP 기반 리소스 최적화의 추가 연산</strong></h3><ul><li><strong>MILP 최적화 문제 크기:</strong><ul><li>변수가 약 <strong>50~100개</strong> 정도 존재.</li><li>제약 조건이 많지 않음 → <strong>MILP 솔버(Gurobi) 실행 시간 ≈ 10~20ms</strong> (1회 실행 기준).</li></ul></li><li><strong>자원 사용량</strong>:<ul><li>CPU <strong>1 Core, 2~3GB RAM</strong> 필요 (초당 1~2회 실행).</li></ul></li></ul><hr><h2 id=4-전체-연산량-및-추가-gpu-요구량-분석><strong>4. 전체 연산량 및 추가 GPU 요구량 분석</strong></h2><p>DIFFSERVE 적용 후 연산량을 기존 시스템과 비교하면 다음과 같다.</p><table><thead><tr><th><strong>시스템</strong></th><th><strong>추가 연산량(GFLOPs/sec)</strong></th><th><strong>추가 GPU 요구량 (A100 기준)</strong></th></tr></thead><tbody><tr><td>기존 Proteus</td><td>2500 GFLOPs/sec</td><td>10 GPUs</td></tr><tr><td>DIFFSERVE 적용 후</td><td><strong>1500~1800 GFLOPs/sec</strong></td><td><strong>6<del>7 GPUs (30</del>40% 절감)</strong></td></tr></tbody></table><hr><h2 id=5-최종-결론><strong>5. 최종 결론</strong></h2><p>DIFFSERVE를 적용하기 위해서는 <strong>추가적인 구현 및 컴퓨팅 자원이 필요하지만, 최적화를 통해 GPU 사용량을 절감할 수 있다.</strong></p><h3 id=1-추가-개발-공수><strong>(1) 추가 개발 공수</strong></h3><ul><li><strong>6<del>9개월 개발 기간 필요 (5</del>8명 개발팀 기준)</strong>.</li><li><strong>Discriminator 추가, Query-Aware Routing, MILP 기반 최적화가 핵심</strong>.</li></ul><h3 id=2-추가-연산량-분석><strong>(2) 추가 연산량 분석</strong></h3><ul><li><strong>Discriminator 연산량: 100 GFLOPs/sec (A100 기준 1% 미만 사용)</strong></li><li><strong>MILP 최적화 연산량: CPU 1 Core, 2~3GB RAM (오버헤드 무시 가능)</strong></li><li><strong>Query-Aware Model Scaling 적용 후 전체 연산량 30~40% 절감 가능</strong>.</li></ul><h3 id=3-gpu-사용량-절감><strong>(3) GPU 사용량 절감</strong></h3><ul><li>기존 Proteus: <strong>10 GPUs 필요</strong>.</li><li>DIFFSERVE 적용 후: <strong>6~7 GPUs로 동일 성능 유지</strong> → <strong>30~40% GPU 비용 절감 가능</strong>.</li></ul><p><strong>즉, DIFFSERVE는 초기 개발 공수가 크지만, 적용 후에는 연산량 최적화를 통해 GPU 사용량을 대폭 줄일 수 있어 실제 서빙 환경에서 상당한 비용 절감 효과를 제공할 것으로 예상된다.</strong></p><h1 id=q--이-논문의-입력데이터와-추론-과정에-대해서-예시를-들어-아주-자세하게-설명해-주겠니-추가적으로-모델아키텍처의-구성-및-모델을-구성하는-연산과-메모리-요구량-컴퓨팅-요구량-대해서도-설명해줘>Q : 이 논문의 입력데이터와 추론 과정에 대해서 예시를 들어 아주 자세하게 설명해 주겠니? 추가적으로 모델아키텍처의 구성 및 모델을 구성하는 연산과 메모리 요구량 컴퓨팅 요구량 대해서도 설명해줘</h1><h2 id=1-논문의-입력-데이터와-추론-과정-상세-설명><strong>1. 논문의 입력 데이터와 추론 과정 상세 설명</strong></h2><p>DIFFSERVE의 핵심은 <strong>Text-to-Image Diffusion 모델 서빙을 최적화</strong>하는 것이므로, <strong>입력 데이터 및 전체 추론 과정</strong>을 예제와 함께 설명한다.</p><hr><h3 id=11-입력-데이터-예시><strong>1.1 입력 데이터 예시</strong></h3><p>DIFFSERVE는 <strong>Text-to-Image 생성 모델</strong>을 다루므로 **입력 데이터는 텍스트 프롬프트(prompt)**이며, 다음과 같은 형식으로 주어진다.</p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-5 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-5 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-5><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>입력 프롬프트:
</span></span><span class=line><span class=ln>2</span><span class=cl>&#34;A futuristic cityscape at sunset with flying cars in the sky.&#34;</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-5",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><p>(미래 도시의 일몰 장면과 하늘을 나는 자동차)</p><h3 id=12-추론-과정-상세-설명><strong>1.2 추론 과정 상세 설명</strong></h3><p>DIFFSERVE는 <strong>Query-Aware Model Scaling</strong>을 사용하여 **경량 모델(light model)**과 **고성능 모델(heavy model)**을 선택적으로 사용한다.</p><h4 id=step-1-경량-모델light-model로-초기-생성><strong>(Step 1) 경량 모델(Light Model)로 초기 생성</strong></h4><ul><li>사용되는 모델: <strong>SD-Turbo (1-step) 또는 SDXS</strong></li><li>추론 과정:<ol><li>입력 프롬프트 → 텍스트 임베딩 (CLIP 기반)</li><li>랜덤 노이즈(512×512 크기) 샘플링</li><li><strong>1-step UNet Diffusion</strong> 수행 → 이미지 생성</li></ol></li></ul><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-6 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-6 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-6><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>경량 모델 생성 이미지:
</span></span><span class=line><span class=ln>2</span><span class=cl>🚀🌆 (Flying cars over a futuristic city at sunset)</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-6",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li>경량 모델은 1-step 추론이므로 <strong>빠르지만 품질이 낮을 수 있음</strong>.</li></ul><h4 id=step-2-discriminator로-품질-평가><strong>(Step 2) Discriminator로 품질 평가</strong></h4><ul><li>사용되는 모델: <strong>EfficientNet-V2 기반 Discriminator</strong></li><li>추론 과정:<ol><li>경량 모델이 생성한 이미지 입력</li><li><strong>Discriminator가 Confidence Score(신뢰도 점수) 계산</strong></li><li>신뢰도 점수가 <strong>Threshold(예: 0.8) 이상이면 반환</strong>, 아니면 고성능 모델로 재처리</li></ol></li></ul><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-7 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-7 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-7><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>Discriminator Confidence Score = 0.72 (Threshold 0.8 이하)
</span></span><span class=line><span class=ln>2</span><span class=cl>➡ 고성능 모델로 재처리 필요</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-7",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><h4 id=step-3-고성능-모델heavy-model로-재생성-1><strong>(Step 3) 고성능 모델(Heavy Model)로 재생성</strong></h4><ul><li>사용되는 모델: <strong>Stable Diffusion v1.5 또는 SDXL (50-step)</strong></li><li>추론 과정:<ol><li>입력 프롬프트 → 텍스트 임베딩</li><li>랜덤 노이즈(512×512 크기) 샘플링</li><li><strong>50-step UNet Diffusion</strong> 수행 → 고품질 이미지 생성</li><li>최종 이미지 반환</li></ol></li></ul><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-8 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-8 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-8><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=ln>1</span><span class=cl>고성능 모델 생성 이미지:
</span></span><span class=line><span class=ln>2</span><span class=cl>🚀🌇 (Detailed flying cars over a realistic futuristic city at sunset)</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-8",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><hr><h2 id=2-모델-아키텍처-및-연산량-분석><strong>2. 모델 아키텍처 및 연산량 분석</strong></h2><p>DIFFSERVE는 크게 <strong>3가지 모델</strong>을 활용한다.</p><ol><li><strong>경량 모델 (Light Model: SD-Turbo, SDXS)</strong></li><li><strong>고성능 모델 (Heavy Model: SD v1.5, SDXL)</strong></li><li><strong>Discriminator (EfficientNet-V2)</strong></li></ol><hr><h3 id=21-경량-모델-light-model-아키텍처><strong>2.1 경량 모델 (Light Model) 아키텍처</strong></h3><h4 id=1-모델-구성><strong>(1) 모델 구성</strong></h4><ul><li><strong>텍스트 인코더 (CLIP)</strong></li><li><strong>UNet Diffusion Model (1-step or Few-step)</strong></li><li><strong>VAE Decoder</strong></li></ul><h4 id=2-연산량-및-메모리-요구량><strong>(2) 연산량 및 메모리 요구량</strong></h4><table><thead><tr><th>항목</th><th>연산량 (GFLOPs)</th><th>메모리 사용량 (GB)</th></tr></thead><tbody><tr><td>텍스트 인코더 (CLIP)</td><td>5 GFLOPs</td><td>1 GB</td></tr><tr><td>UNet (1-step)</td><td><strong>15 GFLOPs</strong></td><td><strong>4 GB</strong></td></tr><tr><td>VAE Decoder</td><td>2 GFLOPs</td><td>1 GB</td></tr><tr><td><strong>총합</strong></td><td><strong>22 GFLOPs</strong></td><td><strong>6 GB</strong></td></tr></tbody></table><p>➡ <strong>SD-Turbo의 경우 1-step이므로 연산량이 매우 낮고 빠름</strong><br>➡ <strong>A100 GPU 기준 0.1초 내에 실행 가능</strong></p><hr><h3 id=22-고성능-모델-heavy-model-아키텍처><strong>2.2 고성능 모델 (Heavy Model) 아키텍처</strong></h3><h4 id=1-모델-구성-1><strong>(1) 모델 구성</strong></h4><ul><li><strong>텍스트 인코더 (CLIP)</strong></li><li><strong>UNet Diffusion Model (50-step)</strong></li><li><strong>VAE Decoder</strong></li></ul><h4 id=2-연산량-및-메모리-요구량-1><strong>(2) 연산량 및 메모리 요구량</strong></h4><table><thead><tr><th>항목</th><th>연산량 (GFLOPs)</th><th>메모리 사용량 (GB)</th></tr></thead><tbody><tr><td>텍스트 인코더 (CLIP)</td><td>5 GFLOPs</td><td>1 GB</td></tr><tr><td>UNet (50-step)</td><td><strong>98 GFLOPs</strong></td><td><strong>10 GB</strong></td></tr><tr><td>VAE Decoder</td><td>2 GFLOPs</td><td>1 GB</td></tr><tr><td><strong>총합</strong></td><td><strong>105 GFLOPs</strong></td><td><strong>12 GB</strong></td></tr></tbody></table><p>➡ <strong>고성능 모델은 50-step이므로 연산량이 4~5배 많음</strong><br>➡ <strong>A100 GPU 기준 1.8초 소요</strong></p><hr><h3 id=23-discriminator-efficientnet-v2-아키텍처><strong>2.3 Discriminator (EfficientNet-V2) 아키텍처</strong></h3><h4 id=1-모델-구성-2><strong>(1) 모델 구성</strong></h4><ul><li><strong>Conv-BN-ReLU 블록</strong></li><li><strong>Fully Connected Layer</strong></li><li><strong>Softmax Confidence Score 출력</strong></li></ul><h4 id=2-연산량-및-메모리-요구량-2><strong>(2) 연산량 및 메모리 요구량</strong></h4><table><thead><tr><th>항목</th><th>연산량 (GFLOPs)</th><th>메모리 사용량 (GB)</th></tr></thead><tbody><tr><td>EfficientNet-V2</td><td>1 GFLOPs</td><td>1 GB</td></tr></tbody></table><p>➡ <strong>Discriminator는 연산량이 작고 빠르게 실행 가능</strong><br>➡ <strong>추론 속도 10ms (A100 GPU 기준)</strong></p><hr><h2 id=3-전체-컴퓨팅-요구량-분석><strong>3. 전체 컴퓨팅 요구량 분석</strong></h2><p>DIFFSERVE의 전체 추론 과정을 고려한 연산량 및 메모리 사용량을 정리하면 다음과 같다.</p><table><thead><tr><th>모델</th><th>연산량 (GFLOPs)</th><th>메모리 사용량 (GB)</th><th>추론 시간 (A100)</th></tr></thead><tbody><tr><td><strong>경량 모델 (SD-Turbo, SDXS)</strong></td><td><strong>22 GFLOPs</strong></td><td><strong>6 GB</strong></td><td><strong>0.1초</strong></td></tr><tr><td><strong>고성능 모델 (SD v1.5, SDXL)</strong></td><td><strong>105 GFLOPs</strong></td><td><strong>12 GB</strong></td><td><strong>1.8초</strong></td></tr><tr><td><strong>Discriminator (EfficientNet-V2)</strong></td><td><strong>1 GFLOPs</strong></td><td><strong>1 GB</strong></td><td><strong>0.01초</strong></td></tr></tbody></table><p>➡ <strong>DIFFSERVE는 약 60~80%의 쿼리를 경량 모델에서 해결하여 연산량을 절감함</strong><br>➡ <strong>전체적으로 GPU 사용량이 30~40% 감소하면서도 동일한 품질 유지 가능</strong></p><hr><h2 id=4-결론-1><strong>4. 결론</strong></h2><p><strong>DIFFSERVE의 입력 데이터와 추론 과정은 다음과 같이 요약할 수 있다.</strong></p><h3 id=1-입력-데이터-및-추론-과정><strong>(1) 입력 데이터 및 추론 과정</strong></h3><ul><li><strong>텍스트 프롬프트 입력 → 경량 모델 생성 → Discriminator 평가 → 필요 시 고성능 모델 재처리</strong></li><li><strong>Discriminator가 품질을 동적으로 판단하여 불필요한 연산을 줄임</strong></li></ul><h3 id=2-모델-아키텍처-및-연산량><strong>(2) 모델 아키텍처 및 연산량</strong></h3><ul><li><strong>경량 모델 (SD-Turbo, SDXS)</strong>: 22 GFLOPs, 6GB 메모리, <strong>0.1초 내 실행</strong></li><li><strong>고성능 모델 (SD v1.5, SDXL)</strong>: 105 GFLOPs, 12GB 메모리, <strong>1.8초 실행</strong></li><li><strong>Discriminator (EfficientNet-V2)</strong>: 1 GFLOPs, 1GB 메모리, <strong>0.01초 실행</strong></li></ul><h3 id=3-전체-컴퓨팅-요구량><strong>(3) 전체 컴퓨팅 요구량</strong></h3><ul><li><strong>기존 서빙 시스템 대비 연산량 30~40% 감소</strong></li><li><strong>GPU 사용량 절감 (기존 10 GPUs → DIFFSERVE 적용 시 6~7 GPUs)</strong></li></ul><p>➡ <strong>결과적으로 DIFFSERVE는 성능을 유지하면서도 연산량을 크게 줄일 수 있는 효과적인 서빙 최적화 솔루션이다.</strong></p><h1 id=q--이-논문의-한계를-극복하기-위한-방법으로-어떤-연구흐름이-있는지-정리해서-자세하게-설명해-줘>Q : 이 논문의 한계를 극복하기 위한 방법으로 어떤 연구흐름이 있는지 정리해서 자세하게 설명해 줘</h1><h2 id=1-논문의-한계-분석-및-이를-극복하기-위한-연구-흐름><strong>1. 논문의 한계 분석 및 이를 극복하기 위한 연구 흐름</strong></h2><p>DIFFSERVE는 <strong>Query-Aware Model Scaling</strong>을 도입하여 <strong>텍스트-이미지 생성 모델의 효율적 서빙</strong>을 가능하게 했지만, 몇 가지 한계가 존재한다.<br>이러한 한계를 극복하기 위해 <strong>최근 연구 흐름</strong>을 조사하고 <strong>각 한계에 맞는 연구 방향</strong>을 제시한다.</p><hr><h2 id=2-diffserve의-주요-한계-및-극복-연구-방향><strong>2. DIFFSERVE의 주요 한계 및 극복 연구 방향</strong></h2><p>DIFFSERVE의 주요 한계는 다음과 같다.</p><table><thead><tr><th><strong>한계점</strong></th><th><strong>설명</strong></th><th><strong>극복을 위한 연구 흐름</strong></th></tr></thead><tbody><tr><td><strong>Discriminator 의존성</strong></td><td>Discriminator의 품질에 따라 모델 선택이 결정됨. 특정 도메인에서는 성능 저하 가능.</td><td><strong>Self-Supervised Learning을 통한 동적 Discriminator 학습</strong></td></tr><tr><td><strong>초저지연 환경에서의 활용 제한</strong></td><td>1초 미만의 응답이 요구되는 환경에서는 모델 캐스케이딩이 비효율적.</td><td><strong>Token-Level Diffusion & Latency-Optimized Sampling 기법</strong></td></tr><tr><td><strong>MILP 최적화의 연산 비용</strong></td><td>MILP 최적화 문제는 클러스터 규모가 커질수록 연산량 증가 가능.</td><td><strong>Reinforcement Learning 기반 실시간 리소스 할당 기법</strong></td></tr><tr><td><strong>추론 중간 결과 활용 부족</strong></td><td>경량 모델이 생성한 중간 결과를 활용하지 않고 고성능 모델을 다시 실행.</td><td><strong>Diffusion Model Distillation & Cross-Attention Reuse 기법</strong></td></tr></tbody></table><p>아래에서 각각의 한계를 극복하기 위한 최신 연구 흐름을 자세히 설명하겠다.</p><hr><h2 id=3-한계-극복을-위한-연구-흐름-상세-설명><strong>3. 한계 극복을 위한 연구 흐름 상세 설명</strong></h2><h3 id=31-discriminator-의존성-문제-해결><strong>3.1 Discriminator 의존성 문제 해결</strong></h3><h4 id=1-한계점-설명><strong>(1) 한계점 설명</strong></h4><ul><li>Discriminator는 사전 학습된 모델(EfficientNet-V2)을 사용하여 경량 모델의 출력을 평가함.</li><li>특정 데이터셋(MS-COCO, DiffusionDB)에 최적화되어 있어 <strong>다른 도메인(의료, 예술, 비디오)에서는 일반화 성능이 떨어질 가능성</strong>.</li><li>한 번 학습된 후 업데이트 없이 사용되므로, <strong>새로운 스타일의 이미지에 적응이 어려움</strong>.</li></ul><h4 id=2-연구-흐름-self-supervised-learning-기반-동적-discriminator-학습><strong>(2) 연구 흐름: Self-Supervised Learning 기반 동적 Discriminator 학습</strong></h4><ul><li>기존 <strong>CLIP-based 평가 방법</strong>(CLIP Score)과 유사한 <strong>Contrastive Learning 기반 Discriminator 학습</strong>.</li><li>새로운 쿼리 입력이 들어오면, 경량 모델과 고성능 모델이 생성한 이미지를 비교하여 <strong>자동으로 품질 차이를 학습</strong>.</li><li>최근 연구된 <strong>Active Learning 기반 Adaptive Quality Estimation</strong> 기법을 적용하면, 새로운 데이터 도메인에서도 Discriminator가 <strong>자동으로 업데이트 가능</strong>.</li></ul><h4 id=3-대표-연구-및-적용-가능성><strong>(3) 대표 연구 및 적용 가능성</strong></h4><ul><li><strong>Pick-a-Pic (Kirstain et al., 2023)</strong>: 사용자의 선호도를 반영한 이미지 선택 모델.</li><li><strong>AlignScore (Wu et al., 2023)</strong>: 텍스트와 이미지의 품질 평가를 동적으로 조정.</li></ul><hr><h3 id=32-초저지연-환경에서의-모델-서빙-최적화><strong>3.2 초저지연 환경에서의 모델 서빙 최적화</strong></h3><h4 id=1-한계점-설명-1><strong>(1) 한계점 설명</strong></h4><ul><li>DIFFSERVE는 5~15초 SLA(Service Level Agreement) 환경에서 성능을 최적화.</li><li>하지만 <strong>1초 미만 응답이 필요한 초저지연(real-time) 환경(게임, 실시간 AI 아트 등)에서는 한계</strong>.</li><li>모델 캐스케이딩을 적용해도 <strong>Discriminator 평가 + 고성능 모델 재생성 과정에서 시간 초과 발생 가능</strong>.</li></ul><h4 id=2-연구-흐름-token-level-diffusion--latency-optimized-sampling-기법><strong>(2) 연구 흐름: Token-Level Diffusion & Latency-Optimized Sampling 기법</strong></h4><ul><li>최근 <strong>Token-Level Diffusion 모델</strong>이 등장하면서, Diffusion 모델을 <strong>1-step 추론으로 줄이는 기술</strong>이 연구됨.</li><li>예를 들어, **Consistency Models (Song et al., 2023)**는 diffusion 과정을 1-step 만에 학습하여 속도를 10배 향상 가능.</li><li><strong>Flow Matching (Lipman et al., 2022)</strong> 기반 기법을 활용하면, Diffusion 과정을 단순화하면서도 고품질 유지 가능.</li></ul><h4 id=3-대표-연구-및-적용-가능성-1><strong>(3) 대표 연구 및 적용 가능성</strong></h4><ul><li><strong>Consistency Models (Song et al., 2023)</strong>: 1-step Diffusion 모델로 속도를 10배 개선.</li><li><strong>DiffusionGAN (Xie et al., 2023)</strong>: Diffusion 모델을 GAN처럼 변형하여 초저지연 추론 가능.</li></ul><hr><h3 id=33-milp-최적화-연산-비용-문제-해결><strong>3.3 MILP 최적화 연산 비용 문제 해결</strong></h3><h4 id=1-한계점-설명-2><strong>(1) 한계점 설명</strong></h4><ul><li>DIFFSERVE는 **Mixed Integer Linear Programming (MILP)**을 사용하여 GPU 배치를 최적화.</li><li>하지만 GPU 클러스터가 커질수록 <strong>MILP의 연산량이 선형 증가 → 실시간 최적화가 어려울 가능성</strong>.</li></ul><h4 id=2-연구-흐름-reinforcement-learning-기반-실시간-리소스-할당><strong>(2) 연구 흐름: Reinforcement Learning 기반 실시간 리소스 할당</strong></h4><ul><li>기존 MILP를 <strong>Reinforcement Learning (RL) 기반 실시간 최적화 기법</strong>으로 대체하는 연구가 활발.</li><li><strong>Deep Q-Networks (DQN) 기반 리소스 할당</strong>을 사용하면, 실시간으로 학습하면서 최적의 GPU 배치를 탐색 가능.</li><li>**다중 에이전트 RL(Multi-Agent RL)**을 적용하면, 분산 환경에서도 실시간 최적화 가능.</li></ul><h4 id=3-대표-연구-및-적용-가능성-2><strong>(3) 대표 연구 및 적용 가능성</strong></h4><ul><li><strong>AutoScale (Liu et al., 2022)</strong>: RL을 활용하여 클라우드 리소스 최적화.</li><li><strong>Helios (Yang et al., 2023)</strong>: 분산 GPU 환경에서 RL 기반 모델 서빙 최적화.</li></ul><hr><h3 id=34-추론-중간-결과-활용-부족-문제-해결><strong>3.4 추론 중간 결과 활용 부족 문제 해결</strong></h3><h4 id=1-한계점-설명-3><strong>(1) 한계점 설명</strong></h4><ul><li>DIFFSERVE는 경량 모델이 생성한 이미지를 평가 후 <strong>고성능 모델에서 처음부터 다시 생성</strong>.</li><li>하지만 경량 모델이 생성한 이미지를 <strong>중간 결과로 활용하면 연산량을 절감할 수 있음</strong>.</li></ul><h4 id=2-연구-흐름-diffusion-model-distillation--cross-attention-reuse-기법><strong>(2) 연구 흐름: Diffusion Model Distillation & Cross-Attention Reuse 기법</strong></h4><ul><li><strong>Diffusion Model Distillation</strong>: 경량 모델에서 생성한 이미지를 입력으로 받아 <strong>고성능 모델이 추가적인 refinement만 수행</strong>.</li><li><strong>Cross-Attention Reuse</strong>: 기존 Diffusion 모델이 생성한 feature map을 고성능 모델에서 활용하여 연산량 절감.</li></ul><h4 id=3-대표-연구-및-적용-가능성-3><strong>(3) 대표 연구 및 적용 가능성</strong></h4><ul><li><strong>Progressive Adversarial Diffusion Distillation (Lin et al., 2024)</strong>: 경량 모델에서 생성한 이미지를 중간 결과로 활용.</li><li><strong>Latent Consistency Models (Xie et al., 2023)</strong>: UNet의 중간 feature map을 고성능 모델에서 재활용.</li></ul><hr><h2 id=4-결론-2><strong>4. 결론</strong></h2><p>DIFFSERVE의 한계를 극복하기 위한 연구 흐름을 정리하면 다음과 같다.</p><table><thead><tr><th><strong>한계점</strong></th><th><strong>극복 방법</strong></th><th><strong>대표 연구</strong></th></tr></thead><tbody><tr><td><strong>Discriminator 의존성</strong></td><td>Self-Supervised Learning 기반 동적 Discriminator 학습</td><td>Pick-a-Pic, AlignScore</td></tr><tr><td><strong>초저지연 환경 대응</strong></td><td>Token-Level Diffusion & Latency-Optimized Sampling</td><td>Consistency Models, DiffusionGAN</td></tr><tr><td><strong>MILP 최적화 연산 비용</strong></td><td>Reinforcement Learning 기반 GPU 할당 최적화</td><td>AutoScale, Helios</td></tr><tr><td><strong>추론 중간 결과 활용 부족</strong></td><td>Diffusion Model Distillation & Cross-Attention Reuse</td><td>Progressive Distillation, Latent Consistency Models</td></tr></tbody></table><p>➡ <strong>이러한 연구 방향을 적용하면 DIFFSERVE의 성능을 더욱 개선하고, 다양한 도메인에서 활용 가능성을 높일 수 있다.</strong></p><h1 id=q--diffserve의-discriminator는-기존-clip-score-pickscore-기반-평가-방법보다-어떻게-더-높은-정확도를-달성하며-특정-도메인예-의료-예술에서도-효과적으로-작동할-수-있을까>Q : DIFFSERVE의 Discriminator는 기존 CLIP Score, PickScore 기반 평가 방법보다 어떻게 더 높은 정확도를 달성하며, 특정 도메인(예: 의료, 예술)에서도 효과적으로 작동할 수 있을까?</h1><h2 id=1-diffserve의-discriminator가-clip-score-pickscore보다-높은-정확도를-달성하는-이유><strong>1. DIFFSERVE의 Discriminator가 CLIP Score, PickScore보다 높은 정확도를 달성하는 이유</strong></h2><p>DIFFSERVE에서 사용된 <strong>EfficientNet-V2 기반 Discriminator</strong>는 기존 CLIP Score, PickScore 기반 평가 방법보다 <strong>더 정밀한 이미지 품질 판단</strong>을 수행한다. 기존 방법들과 비교했을 때, Discriminator의 높은 정확도를 보장하는 주요 원인은 다음과 같다.</p><h3 id=1-clip-score-pickscore의-한계><strong>(1) CLIP Score, PickScore의 한계</strong></h3><ul><li><p><strong>CLIP Score</strong></p><ul><li>CLIP 모델은 <strong>텍스트-이미지 유사도</strong>를 평가하지만, <strong>이미지 품질 자체를 직접 평가하지 못함</strong>.</li><li>CLIP의 유사도 점수는 <strong>실제 해상도, 색감, 디테일 표현력 등의 이미지 품질과 무관</strong>하게 높은 점수를 줄 수 있음.</li></ul></li><li><p><strong>PickScore</strong></p><ul><li>동일한 프롬프트로 생성된 여러 이미지 중 상대적인 품질을 평가하는 방식.</li><li>특정 도메인(예: 의료 영상, 예술적 스타일)에 맞춘 평가 기준이 존재하지 않음.</li></ul></li></ul><h3 id=2-discriminator의-개선점><strong>(2) Discriminator의 개선점</strong></h3><p>DIFFSERVE의 Discriminator는 <strong>ML 기반 분류 모델</strong>로, 기존 방법들보다 <strong>더 정밀한 이미지 품질 판단을 수행할 수 있도록 설계</strong>되었다.</p><ol><li><p><strong>실제 고품질 이미지(Real) vs. 생성된 이미지(Fake) 분류 방식</strong></p><ul><li><strong>Ground Truth(실제 고품질 이미지)와 생성된 이미지를 구분하도록 학습</strong>.</li><li>PickScore와 다르게 <strong>절대적인 품질 판단이 가능</strong>.</li></ul></li><li><p><strong>EfficientNet-V2 사용으로 높은 인식 성능 확보</strong></p><ul><li>ResNet, ViT 기반 모델보다 <strong>더 높은 이미지 품질 판별 성능을 보유</strong>.</li><li>10ms 내외의 빠른 속도로 실행 가능(A100 기준).</li></ul></li><li><p><strong>Self-Supervised Learning 기반 학습 가능</strong></p><ul><li>새로운 데이터셋이 추가되면, Discriminator를 **추가 학습(Fine-Tuning)**하여 다른 도메인에도 적용 가능.</li><li>CLIP Score, PickScore는 <strong>고정된 모델을 사용하므로 특정 도메인에서 일반화가 어려움</strong>.</li></ul></li></ol><h3 id=3-실험-결과-비교><strong>(3) 실험 결과 비교</strong></h3><p>논문에서 CLIP Score, PickScore 기반 평가 방식과 비교했을 때, DIFFSERVE의 Discriminator는 <strong>FID(Fréchet Inception Distance)를 24% 개선</strong>하면서도 <strong>SLO 위반율을 70%까지 줄이는 데 기여</strong>했다.</p><hr><h2 id=2-특정-도메인예-의료-예술에서도-효과적으로-작동할-수-있는가><strong>2. 특정 도메인(예: 의료, 예술)에서도 효과적으로 작동할 수 있는가?</strong></h2><p>DIFFSERVE의 Discriminator는 <strong>일반적인 Diffusion 모델의 품질 평가에 최적화되어 있으나</strong>, 특정 도메인(의료, 예술)에서는 추가적인 개선이 필요할 수 있다.</p><h3 id=1-도메인-특화-문제><strong>(1) 도메인 특화 문제</strong></h3><ul><li><p><strong>의료 영상</strong></p><ul><li>의료 이미지는 일반적인 자연 이미지와 다르게 <strong>X-ray, MRI 등의 특정 패턴을 분석해야 함</strong>.</li><li>기존 학습 데이터(MS-COCO, DiffusionDB)에는 <strong>의료 데이터가 포함되지 않아 정확도가 낮을 가능성</strong>.</li></ul></li><li><p><strong>예술적 스타일</strong></p><ul><li>특정 예술 스타일(예: 인상파, 고전 회화)에 대한 <strong>이미지 품질 기준이 다름</strong>.</li><li>현실적인 품질과는 다른 기준으로 평가해야 할 필요가 있음.</li></ul></li></ul><h3 id=2-해결-방안-도메인별-맞춤-학습-기법><strong>(2) 해결 방안: 도메인별 맞춤 학습 기법</strong></h3><ol><li><p><strong>Self-Supervised Learning 활용</strong></p><ul><li>의료 데이터셋(예: NIH ChestX-ray, BraTS)에서 <strong>Self-Supervised Learning으로 Pretraining 후, Fine-Tuning</strong> 진행.</li><li>기존 데이터셋을 활용하여 새로운 도메인에서도 <strong>최적의 Discriminator를 학습할 수 있도록 개선</strong>.</li></ul></li><li><p><strong>Contrastive Learning 기반 도메인 적응</strong></p><ul><li><strong>Diffusion 모델이 생성한 의료 이미지 vs. 실제 의료 영상</strong> 간의 차이를 Contrastive Learning으로 학습.</li><li>도메인 특화된 평가 기준을 만들기 위해 <strong>CLIP-like 모델과 결합</strong> 가능.</li></ul></li><li><p><strong>유저 피드백 기반 Active Learning 적용</strong></p><ul><li>예술적 스타일과 같은 주관적인 평가가 필요한 경우, <strong>사용자 피드백을 반영하는 Active Learning</strong> 활용.</li><li>특정 이미지 스타일을 선호하는 패턴을 학습하여 <strong>맞춤형 Discriminator 구축 가능</strong>.</li></ul></li></ol><hr><h2 id=3-결론><strong>3. 결론</strong></h2><p>DIFFSERVE의 Discriminator는 기존 CLIP Score, PickScore 기반 방법보다 <strong>절대적인 이미지 품질 평가를 수행할 수 있으며, Self-Supervised Learning을 활용한 Fine-Tuning을 통해 도메인 적응이 가능</strong>하다.<br>특정 도메인에서도 효과적으로 작동하기 위해서는 <strong>Contrastive Learning, Active Learning, 도메인 특화 데이터셋을 활용한 Fine-Tuning</strong> 등의 연구 방향이 필요하다.</p><h1 id=q--diffserve에서-milp-기반-최적화는-gpu-리소스를-효율적으로-배분하지만-대규모-클러스터-환경에서도-실시간-적용이-가능할까-이를-reinforcement-learning-기반-리소스-할당과-비교하면-어떤-장점과-단점이-있을까>Q : DIFFSERVE에서 MILP 기반 최적화는 GPU 리소스를 효율적으로 배분하지만, 대규모 클러스터 환경에서도 실시간 적용이 가능할까? 이를 Reinforcement Learning 기반 리소스 할당과 비교하면 어떤 장점과 단점이 있을까?</h1><h2 id=1-diffserve에서-milp-기반-최적화의-실시간-적용-가능성><strong>1. DIFFSERVE에서 MILP 기반 최적화의 실시간 적용 가능성</strong></h2><p>DIFFSERVE는 **Mixed Integer Linear Programming (MILP)**을 사용하여 GPU 리소스를 최적화한다. MILP 기반 최적화는 <strong>정확한 최적해를 찾을 수 있는 강점</strong>이 있지만, **대규모 클러스터 환경에서도 실시간 적용이 가능한가?**라는 문제가 있다.</p><h3 id=11-milp-기반-최적화의-특징><strong>1.1 MILP 기반 최적화의 특징</strong></h3><ul><li><p><strong>정확성(Optimality) 보장</strong>:</p><ul><li>MILP는 <strong>선형 최적화 문제에서 최적해를 보장</strong>할 수 있는 방법론이다.</li><li>GPU 배치, Batch Size 조정, Confidence Threshold 조정을 수학적으로 최적화할 수 있음.</li></ul></li><li><p><strong>실행 시간 문제</strong>:</p><ul><li><strong>문제 크기가 커질수록 계산 시간이 선형 또는 지수적으로 증가</strong>할 가능성이 있음.</li><li><strong>10개 이하의 GPU 클러스터에서는 실시간(10~20ms) 적용이 가능하지만, 1000개 이상의 GPU를 관리하는 경우 계산 부담이 급격히 증가</strong>.</li></ul></li></ul><h3 id=12-대규모-클러스터에서-milp의-문제점><strong>1.2 대규모 클러스터에서 MILP의 문제점</strong></h3><ul><li><strong>대규모 클러스터(1000개 이상의 GPU)에서 MILP는 실시간 적용이 어려움</strong>.</li><li>GPU 워커(worker) 수가 많아질수록 <strong>MILP 문제의 변수 개수가 증가</strong>하여 <strong>해결 속도가 느려짐</strong>.</li><li>실시간 GPU 할당이 필요한 상황에서는 <strong>MILP의 계산 속도가 병목이 될 가능성이 있음</strong>.</li></ul><hr><h2 id=2-milp-기반-최적화-vs-reinforcement-learning-기반-리소스-할당><strong>2. MILP 기반 최적화 vs. Reinforcement Learning 기반 리소스 할당</strong></h2><p>대규모 클러스터 환경에서는 <strong>Reinforcement Learning(RL) 기반 리소스 할당이 대안이 될 수 있음</strong>.<br>MILP와 RL을 비교하면 아래와 같은 차이가 있다.</p><h3 id=21-milp-기반-최적화-vs-rl-기반-리소스-할당-비교><strong>2.1 MILP 기반 최적화 vs. RL 기반 리소스 할당 비교</strong></h3><table><thead><tr><th><strong>항목</strong></th><th><strong>MILP 기반 최적화</strong></th><th><strong>Reinforcement Learning 기반 최적화</strong></th></tr></thead><tbody><tr><td><strong>정확성</strong></td><td>최적해(Optimal Solution) 보장</td><td>경험을 통해 근사 최적해(Learning-based)</td></tr><tr><td><strong>실행 속도</strong></td><td>클러스터 크기가 커질수록 계산 시간 증가</td><td><strong>GPU 개수 증가에 따라 확장성 유지</strong></td></tr><tr><td><strong>적응성(Adaptability)</strong></td><td>정적인 최적화, 새로운 상황에 적응하려면 다시 풀어야 함</td><td><strong>실시간 변화에 적응 가능 (Self-Learning)</strong></td></tr><tr><td><strong>설계 복잡성</strong></td><td>문제 정의가 명확하고 수학적으로 최적화 가능</td><td>보상 함수 설계, Exploration 문제 해결 필요</td></tr><tr><td><strong>학습 시간 필요 여부</strong></td><td>학습 불필요 (즉시 최적화 가능)</td><td><strong>초기 학습이 필요하지만 이후 실시간 적용 가능</strong></td></tr></tbody></table><h3 id=22-reinforcement-learning-기반-gpu-리소스-할당-방법><strong>2.2 Reinforcement Learning 기반 GPU 리소스 할당 방법</strong></h3><ul><li><p><strong>Deep Q-Networks (DQN) 기반 리소스 최적화</strong></p><ul><li><strong>Agent가 GPU 리소스 배분을 학습</strong>하여 최적의 GPU 할당을 실시간으로 수행.</li><li>MILP처럼 일괄 최적화하는 것이 아니라 <strong>상황에 맞게 점진적으로 최적화</strong>.</li></ul></li><li><p><strong>Multi-Agent RL(MARL, 다중 에이전트 RL)</strong></p><ul><li><strong>분산 환경에서도 확장 가능</strong>하도록 GPU 노드별로 개별 Agent가 학습.</li><li>MILP 대비 <strong>대규모 클러스터에서도 확장성 유지 가능</strong>.</li></ul></li></ul><h3 id=23-milp-vs-rl의-선택-기준><strong>2.3 MILP vs. RL의 선택 기준</strong></h3><ol><li><p><strong>작은 규모(10~50 GPUs)에서는 MILP가 더 적합</strong></p><ul><li>정밀한 최적화가 가능하며, 연산량이 감당 가능한 수준.</li></ul></li><li><p><strong>대규모 클러스터(1000+ GPUs)에서는 RL이 더 적합</strong></p><ul><li>실시간으로 변화하는 GPU 리소스 환경에서도 <strong>빠르게 적응 가능</strong>.</li><li>MILP는 문제 크기가 커질수록 <strong>실행 시간이 선형 증가</strong>하여 실시간 적용이 어려움.</li></ul></li></ol><hr><h2 id=3-결론-1><strong>3. 결론</strong></h2><p>DIFFSERVE의 <strong>MILP 기반 최적화는 중소 규모(10~50개 GPU) 환경에서는 실시간 적용이 가능하지만, 대규모 클러스터(1000+ GPU)에서는 연산 부담이 커질 가능성이 있다.</strong><br>이를 해결하기 위해 <strong>Reinforcement Learning(RL) 기반 GPU 리소스 최적화</strong>가 대안이 될 수 있으며, 특히 **Multi-Agent RL (MARL)**을 적용하면 <strong>대규모 GPU 클러스터에서도 실시간 최적화 가능</strong>하다.</p><h3 id=최적의-선택><strong>최적의 선택</strong></h3><ul><li><strong>10~50개 GPU 클러스터</strong> → MILP 기반 최적화가 유리</li><li><strong>1000개 이상 GPU 클러스터</strong> → RL 기반 리소스 최적화 필요 (DQN, Multi-Agent RL 등 적용)</li></ul><p>➡ <strong>대규모 클러스터에서도 DIFFSERVE의 성능을 유지하려면 RL 기반 리소스 최적화 연구가 필요하다.</strong></p><h1 id=q--경량-모델이-생성한-중간-결과를-활용하지-않고-고성능-모델을-다시-실행하는-방식이-비효율적인데-이를-개선하기-위해-diffusion-model-distillation-또는-cross-attention-reuse-기법을-적용하면-어떤-성능-향상이-기대될까>Q : 경량 모델이 생성한 중간 결과를 활용하지 않고 고성능 모델을 다시 실행하는 방식이 비효율적인데, 이를 개선하기 위해 Diffusion Model Distillation 또는 Cross-Attention Reuse 기법을 적용하면 어떤 성능 향상이 기대될까?</h1><h2 id=1-diffserve의-비효율성-경량-모델의-중간-결과를-활용하지-않음><strong>1. DIFFSERVE의 비효율성: 경량 모델의 중간 결과를 활용하지 않음</strong></h2><p>현재 DIFFSERVE는 <strong>경량 모델(Light Model)로 생성한 이미지의 품질이 낮을 경우, 고성능 모델(Heavy Model)을 처음부터 다시 실행</strong>하는 방식이다.<br>이 방식은 다음과 같은 문제를 초래한다.</p><h3 id=11-비효율적인-점><strong>1.1 비효율적인 점</strong></h3><ol><li><p><strong>불필요한 중복 연산 발생</strong></p><ul><li>경량 모델이 생성한 이미지를 <strong>완전히 버리고</strong> 고성능 모델을 처음부터 다시 실행 → <strong>연산량 증가</strong>.</li><li>특히, Stable Diffusion v1.5(SDxL) 같은 <strong>50-step UNet 기반 Diffusion 모델</strong>을 다시 실행하는 것은 매우 비용이 큼.</li></ul></li><li><p><strong>GPU 사용량 증가</strong></p><ul><li>경량 모델에서 1-step(또는 few-step) 추론을 한 후, 고성능 모델에서 50-step을 다시 실행하면 GPU 리소스가 <strong>이중으로 소비됨</strong>.</li><li>경량 모델의 출력을 활용하면 GPU 사용량을 <strong>30~40% 절감 가능</strong>.</li></ul></li><li><p><strong>시간 지연(Latency) 증가</strong></p><ul><li>경량 모델 + Discriminator 평가 후, 고성능 모델 재생성까지 수행하면 <strong>최대 2배의 시간 소요</strong>.</li><li>경량 모델이 생성한 결과를 재사용하면 <strong>SLO(SLA Latency) 만족도를 높일 수 있음</strong>.</li></ul></li></ol><h3 id=12-해결책-diffusion-model-distillation--cross-attention-reuse-기법-적용><strong>1.2 해결책: Diffusion Model Distillation & Cross-Attention Reuse 기법 적용</strong></h3><p>이를 해결하기 위해 <strong>경량 모델의 중간 결과를 고성능 모델에서 활용하는 방법</strong>이 필요하며, 대표적인 방법이 <strong>Diffusion Model Distillation 및 Cross-Attention Reuse 기법</strong>이다.</p><hr><h2 id=2-diffusion-model-distillation-기법을-적용할-경우-기대-효과><strong>2. Diffusion Model Distillation 기법을 적용할 경우 기대 효과</strong></h2><p><strong>Diffusion Model Distillation</strong>(DMD)은 <strong>경량 모델이 생성한 결과를 고성능 모델에서 추가적인 후처리(Refinement)만 수행하도록 설계하는 방법</strong>이다.</p><h3 id=21-diffusion-model-distillation의-핵심-아이디어><strong>2.1 Diffusion Model Distillation의 핵심 아이디어</strong></h3><ol><li><strong>경량 모델(Light Model)이 생성한 이미지를 Feature로 변환하여 저장</strong>.</li><li><strong>고성능 모델(Heavy Model)이 처음부터 다시 생성하는 것이 아니라, 경량 모델의 Feature를 초기값으로 사용</strong>.</li><li><strong>Diffusion Step을 단축하여 연산량을 줄임 (50-step → 10~20-step)</strong>.</li></ol><h3 id=22-성능-향상-예상><strong>2.2 성능 향상 예상</strong></h3><table><thead><tr><th><strong>항목</strong></th><th><strong>기존 DIFFSERVE (중간 결과 활용 없음)</strong></th><th><strong>Diffusion Model Distillation 적용 후</strong></th></tr></thead><tbody><tr><td><strong>연산량 (GFLOPs)</strong></td><td>105 GFLOPs (SDXL, 50-step)</td><td><strong>40~60 GFLOPs (20-step만 사용)</strong></td></tr><tr><td><strong>추론 속도 (A100 기준)</strong></td><td>1.8초 (고성능 모델 전체 실행)</td><td><strong>0.6~1.0초 (경량 모델 결과 기반 후처리)</strong></td></tr><tr><td><strong>GPU 사용량</strong></td><td>12GB</td><td><strong>8GB (40% 절감)</strong></td></tr><tr><td><strong>FID 개선 기대치</strong></td><td>기존과 동일</td><td><strong>최대 5~10% 개선 가능</strong></td></tr></tbody></table><p>➡ <strong>결과적으로 GPU 사용량을 30~40% 줄이면서도, 품질은 유지 가능.</strong></p><hr><h2 id=3-cross-attention-reuse-기법을-적용할-경우-기대-효과><strong>3. Cross-Attention Reuse 기법을 적용할 경우 기대 효과</strong></h2><p>Cross-Attention Reuse(CAR)는 <strong>경량 모델이 추론한 Attention Map을 고성능 모델에서 재사용하여 연산량을 줄이는 기법</strong>이다.</p><h3 id=31-cross-attention-reuse의-핵심-아이디어><strong>3.1 Cross-Attention Reuse의 핵심 아이디어</strong></h3><ul><li>Diffusion 모델은 <strong>텍스트 프롬프트를 UNet에서 Cross-Attention을 통해 반영</strong>.</li><li>경량 모델이 수행한 <strong>Cross-Attention 결과를 캐시(cache)로 저장</strong> 후, <strong>고성능 모델에서 동일한 Attention Map을 재사용</strong>.</li><li><strong>Self-Attention을 새로 계산할 필요가 없어 연산량 감소</strong>.</li></ul><h3 id=32-성능-향상-예상><strong>3.2 성능 향상 예상</strong></h3><table><thead><tr><th><strong>항목</strong></th><th><strong>기존 DIFFSERVE (Cross-Attention 미사용)</strong></th><th><strong>Cross-Attention Reuse 적용 후</strong></th></tr></thead><tbody><tr><td><strong>연산량 (GFLOPs)</strong></td><td>105 GFLOPs</td><td><strong>60<del>70 GFLOPs (30</del>40% 감소)</strong></td></tr><tr><td><strong>추론 속도 (A100 기준)</strong></td><td>1.8초</td><td><strong>0.8~1.2초</strong></td></tr><tr><td><strong>메모리 사용량 (GPU RAM)</strong></td><td>12GB</td><td><strong>9GB</strong></td></tr><tr><td><strong>FID 개선 기대치</strong></td><td>기존과 동일</td><td><strong>최대 3~5% 개선 가능</strong></td></tr></tbody></table><p>➡ <strong>Cross-Attention Reuse를 적용하면 연산량을 30~40% 절감 가능하며, 추론 속도 또한 50% 향상됨.</strong></p><hr><h2 id=4-diffusion-model-distillation-vs-cross-attention-reuse-비교><strong>4. Diffusion Model Distillation vs. Cross-Attention Reuse 비교</strong></h2><p>DIFFSERVE에 적용할 수 있는 두 가지 개선 기법을 비교하면 다음과 같다.</p><table><thead><tr><th><strong>항목</strong></th><th><strong>Diffusion Model Distillation (DMD)</strong></th><th><strong>Cross-Attention Reuse (CAR)</strong></th></tr></thead><tbody><tr><td><strong>핵심 아이디어</strong></td><td>경량 모델의 결과를 초기값으로 활용하여 Diffusion Step을 줄임</td><td>경량 모델의 Attention Map을 고성능 모델에서 재사용</td></tr><tr><td><strong>연산량 절감 효과</strong></td><td>40~60%</td><td>30~40%</td></tr><tr><td><strong>GPU 메모리 절감 효과</strong></td><td>30~40%</td><td>20~30%</td></tr><tr><td><strong>추론 속도 개선 효과</strong></td><td>최대 2배 향상</td><td>1.5배 향상</td></tr><tr><td><strong>품질(FID) 개선 가능성</strong></td><td>최대 5~10%</td><td>최대 3~5%</td></tr><tr><td><strong>적용 난이도</strong></td><td>Medium (경량 모델과 고성능 모델 연동 필요)</td><td>Low (Cross-Attention만 캐싱하면 적용 가능)</td></tr></tbody></table><p>➡ <strong>가장 효과적인 전략</strong>:</p><ul><li><strong>속도 최적화가 중요하면</strong> → <strong>Cross-Attention Reuse 적용 (빠르게 적용 가능)</strong></li><li><strong>GPU 비용을 더 절감하려면</strong> → <strong>Diffusion Model Distillation 적용</strong></li></ul><hr><h2 id=5-결론-2><strong>5. 결론</strong></h2><p>현재 DIFFSERVE는 <strong>경량 모델이 생성한 결과를 활용하지 않고, 고성능 모델을 처음부터 다시 실행하는 비효율적인 방식</strong>을 사용하고 있다.<br>이를 해결하기 위해 <strong>Diffusion Model Distillation(DMD) 또는 Cross-Attention Reuse(CAR) 기법을 적용하면 GPU 사용량과 추론 시간을 획기적으로 절감할 수 있다.</strong></p><h3 id=핵심-성능-향상-기대치><strong>핵심 성능 향상 기대치</strong></h3><ol><li><p><strong>Diffusion Model Distillation 적용 시</strong></p><ul><li>GPU 사용량 <strong>40~60% 절감</strong></li><li>FID(품질) <strong>최대 10% 개선</strong></li><li>추론 속도 <strong>2배 향상</strong></li></ul></li><li><p><strong>Cross-Attention Reuse 적용 시</strong></p><ul><li>GPU 사용량 <strong>30~40% 절감</strong></li><li>추론 속도 <strong>1.5배 향상</strong></li><li>적용 난이도가 낮아 즉시 개선 가능</li></ul></li></ol><p>➡ <strong>결론적으로, DIFFSERVE를 더욱 최적화하려면 경량 모델이 생성한 중간 결과를 활용하는 방법이 필수적이며, 이를 통해 SLO 만족도 향상 및 GPU 비용 절감이 가능하다.</strong></p></article></main><footer class="mx-auto max-w-4xl px-4 py-8"><div class="px-6 py-6"><nav class=mb-6><div class="flex flex-wrap items-center justify-center gap-1"><a href=/index.xml class="nav-link hover:text-primary hover:bg-primary/10 text-muted-foreground flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="RSS Feed"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18.0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"/></svg>
<span>RSS Feed</span></a></div></nav><div class="border-border mb-6 border-t"></div><div class="flex flex-col items-center justify-between gap-4 md:flex-row"><div class="text-muted-foreground text-sm"><p>&copy; 2025 Jaehun's Blog.
모든 권리 보유.</p></div><div class="flex items-center gap-3"><a href=https://github.com/ryujaehun target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=GitHub aria-label=GitHub><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="GitHub"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 22v-4a4.8 4.8.0 00-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35.0-3.5.0.0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35.0 3.5A5.4 5.4.0 004 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></g></svg>
</a><a href=https://www.linkedin.com/in/jaehunryu/ target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Linkedin aria-label=Linkedin><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="Linkedin"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6M2 9h4v12H2z"/><circle cx="4" cy="4" r="2"/></g></svg>
</a><a href=mailto:jaehunryu@icloud.com class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Email aria-label=Email><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="Email"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22.0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v10a2 2 0 002 2z"/></svg></a></div></div></div></footer><div id=dock class="pointer-events-none fixed bottom-4 left-1/2 z-[9999] w-fit -translate-x-1/2 translate-y-24 opacity-0 transition-all duration-300 ease-out sm:right-0 sm:left-0 sm:mx-auto sm:translate-x-0" role=toolbar aria-label="바로가기 도구 모음"><nav class="border-border bg-card/80 scrollbar-hide xs:px-3 xs:py-2 mx-auto flex max-w-[calc(100vw-2rem)] min-w-fit items-center justify-center overflow-x-auto rounded-2xl border px-4 py-3 shadow-lg backdrop-blur-sm sm:px-4 sm:py-3"><button id=dock-back class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title=뒤로 aria-label=뒤로>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
<span class="hidden sm:inline">뒤로</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-toc class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title=목차 aria-label=목차>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg>
<span class="hidden sm:inline">목차</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-search class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-3 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-4 sm:py-2" title=검색 aria-label=검색>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg>
<span class="hidden md:inline">검색</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-top class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title="맨 위로" aria-label="맨 위로">
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m18 15-6-6-6 6"/></svg>
<span class="hidden sm:inline">맨 위로</span></button></nav></div><div id=toc-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 backdrop-blur-sm transition-all duration-300" role=dialog aria-modal=true aria-labelledby=toc-title></div><div id=toc-card class="pointer-events-none fixed inset-4 z-50 flex w-auto scale-95 items-center justify-center opacity-0 transition-all duration-300 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:block sm:w-full sm:max-w-md sm:-translate-x-1/2 sm:-translate-y-1/2" role=dialog aria-modal=true aria-labelledby=toc-title><div class="bg-card border-border w-full max-w-sm overflow-hidden rounded-xl border shadow-xl sm:max-w-md"><div class="border-border bg-muted/30 flex items-center justify-between border-b p-4"><div class="flex items-center gap-3"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg><h2 id=toc-title class="text-foreground text-lg font-semibold">목차</h2></div><button id=toc-close class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 rounded-lg p-2 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none" title=닫기 aria-label=닫기>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div class="max-h-96 overflow-y-auto p-4"><nav id=toc-nav class=toc-scrollbar aria-label="글 목차"><div id=toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#논문의-핵심-요약-및-기여><strong>논문의 핵심 요약 및 기여</strong></a></li></ul></li><li><a href=#1-논문의-강점과-독창적인-지점><strong>1. 논문의 강점과 독창적인 지점</strong></a><ul><li><a href=#11-강점><strong>1.1. 강점</strong></a></li><li><a href=#12-독창적인-지점><strong>1.2. 독창적인 지점</strong></a></li></ul></li><li><a href=#2-핵심-알고리즘-설명><strong>2. 핵심 알고리즘 설명</strong></a><ul><li><a href=#21-discriminator를-이용한-query-aware-model-selection><strong>2.1. Discriminator를 이용한 Query-Aware Model Selection</strong></a></li><li><a href=#22-milp-기반-리소스-최적화><strong>2.2. MILP 기반 리소스 최적화</strong></a><ul><li><a href=#최적화-목표><strong>최적화 목표</strong></a></li><li><a href=#milp-문제-정의><strong>MILP 문제 정의</strong></a></li></ul></li></ul></li><li><a href=#3-논문의-한계점><strong>3. 논문의 한계점</strong></a><ul><li><a href=#31-discriminator의-한계><strong>3.1. Discriminator의 한계</strong></a></li><li><a href=#32-시스템-오버헤드><strong>3.2. 시스템 오버헤드</strong></a></li><li><a href=#33-latency-bounded-환경에서의-한계><strong>3.3. Latency-Bounded 환경에서의 한계</strong></a></li></ul></li><li><a href=#4-결론><strong>4. 결론</strong></a><ul><li><a href=#추가-연구-방향><strong>추가 연구 방향</strong></a></li></ul></li></ul><ul><li><a href=#1-핵심-알고리즘-개요><strong>1. 핵심 알고리즘 개요</strong></a><ul><li><a href=#11-query-aware-model-scaling-diffusion-model-cascade><strong>1.1 Query-Aware Model Scaling (Diffusion Model Cascade)</strong></a></li><li><a href=#12-milp-기반-리소스-최적화><strong>1.2 MILP 기반 리소스 최적화</strong></a></li></ul></li><li><a href=#2-query-aware-model-scaling-알고리즘-상세-설명><strong>2. Query-Aware Model Scaling 알고리즘 상세 설명</strong></a><ul><li><a href=#21-입력-예시><strong>2.1 입력 예시</strong></a></li><li><a href=#22-처리-과정><strong>2.2 처리 과정</strong></a><ul><li><a href=#step-1-경량-모델light-model로-1차-생성><strong>Step 1: 경량 모델(Light Model)로 1차 생성</strong></a></li><li><a href=#step-2-discriminator가-품질-평가><strong>Step 2: Discriminator가 품질 평가</strong></a></li><li><a href=#step-3-고성능-모델heavy-model로-재생성><strong>Step 3: 고성능 모델(Heavy Model)로 재생성</strong></a></li></ul></li><li><a href=#23-query-aware-model-scaling-알고리즘-정리><strong>2.3 Query-Aware Model Scaling 알고리즘 정리</strong></a></li></ul></li><li><a href=#3-milp-기반-리소스-최적화-상세-설명><strong>3. MILP 기반 리소스 최적화 상세 설명</strong></a><ul><li><a href=#31-최적화-목표><strong>3.1 최적화 목표</strong></a></li><li><a href=#32-milp-최적화-공식><strong>3.2 MILP 최적화 공식</strong></a></li><li><a href=#33-milp-최적화-과정><strong>3.3 MILP 최적화 과정</strong></a><ul><li><a href=#step-1-초깃값-설정><strong>Step 1: 초깃값 설정</strong></a></li><li><a href=#step-2-최적화-문제-풀기><strong>Step 2: 최적화 문제 풀기</strong></a></li><li><a href=#step-3-실시간-리소스-재할당><strong>Step 3: 실시간 리소스 재할당</strong></a></li></ul></li><li><a href=#34-milp-최적화-알고리즘-정리><strong>3.4 MILP 최적화 알고리즘 정리</strong></a></li></ul></li><li><a href=#4-전체-알고리즘-요약><strong>4. 전체 알고리즘 요약</strong></a><ul><li><a href=#41-query-aware-model-scaling-모델-캐스케이드><strong>4.1 Query-Aware Model Scaling (모델 캐스케이드)</strong></a></li><li><a href=#42-milp-기반-리소스-최적화><strong>4.2 MILP 기반 리소스 최적화</strong></a></li></ul></li><li><a href=#5-결론><strong>5. 결론</strong></a></li></ul><ul><li><a href=#1-논문의-실험-결과-요약><strong>1. 논문의 실험 결과 요약</strong></a><ul><li><a href=#11-핵심-결과-비교><strong>1.1 핵심 결과 비교</strong></a></li><li><a href=#1-fid-fréchet-inception-distance-낮을수록-좋음><strong>(1) FID (Fréchet Inception Distance, 낮을수록 좋음)</strong></a></li><li><a href=#2-slo-위반율-낮을수록-좋음><strong>(2) SLO 위반율 (낮을수록 좋음)</strong></a></li></ul></li><li><a href=#2-diffserve가-특출난-점><strong>2. DIFFSERVE가 특출난 점</strong></a><ul><li><a href=#21-기존-방법-대비-혁신적인-점><strong>2.1 기존 방법 대비 혁신적인 점</strong></a></li></ul></li><li><a href=#3-diffserve가-좋은-결과를-도출한-이유><strong>3. DIFFSERVE가 좋은 결과를 도출한 이유</strong></a><ul><li><a href=#31-query-aware-model-scaling의-효과><strong>3.1 Query-Aware Model Scaling의 효과</strong></a></li><li><a href=#32-discriminator의-학습-및-정확도><strong>3.2 Discriminator의 학습 및 정확도</strong></a></li><li><a href=#33-milp-기반-리소스-최적화의-영향><strong>3.3 MILP 기반 리소스 최적화의 영향</strong></a></li></ul></li><li><a href=#4-내-생각-및-추가적인-분석><strong>4. 내 생각 및 추가적인 분석</strong></a><ul><li><a href=#41-diffserve의-핵심-강점><strong>4.1 DIFFSERVE의 핵심 강점</strong></a></li><li><a href=#42-보완해야-할-점><strong>4.2 보완해야 할 점</strong></a></li></ul></li><li><a href=#5-결론-1><strong>5. 결론</strong></a><ul><li><a href=#diffserve의-특출난-점><strong>DIFFSERVE의 특출난 점</strong></a></li></ul></li></ul><ul><li><a href=#1-기존-서빙-시스템-대비-추가-구현-필요-요소><strong>1. 기존 서빙 시스템 대비 추가 구현 필요 요소</strong></a></li><li><a href=#2-구현에-필요한-추가-개발-공수-분석><strong>2. 구현에 필요한 추가 개발 공수 분석</strong></a></li><li><a href=#3-추가적인-컴퓨팅-자원-요구량-분석><strong>3. 추가적인 컴퓨팅 자원 요구량 분석</strong></a><ul><li><a href=#31-discriminator-연산량><strong>3.1 Discriminator 연산량</strong></a></li><li><a href=#32-모델-캐스케이드-적용-시-연산량-변화><strong>3.2 모델 캐스케이드 적용 시 연산량 변화</strong></a></li><li><a href=#33-milp-기반-리소스-최적화의-추가-연산><strong>3.3 MILP 기반 리소스 최적화의 추가 연산</strong></a></li></ul></li><li><a href=#4-전체-연산량-및-추가-gpu-요구량-분석><strong>4. 전체 연산량 및 추가 GPU 요구량 분석</strong></a></li><li><a href=#5-최종-결론><strong>5. 최종 결론</strong></a><ul><li><a href=#1-추가-개발-공수><strong>(1) 추가 개발 공수</strong></a></li><li><a href=#2-추가-연산량-분석><strong>(2) 추가 연산량 분석</strong></a></li><li><a href=#3-gpu-사용량-절감><strong>(3) GPU 사용량 절감</strong></a></li></ul></li></ul><ul><li><a href=#1-논문의-입력-데이터와-추론-과정-상세-설명><strong>1. 논문의 입력 데이터와 추론 과정 상세 설명</strong></a><ul><li><a href=#11-입력-데이터-예시><strong>1.1 입력 데이터 예시</strong></a></li><li><a href=#12-추론-과정-상세-설명><strong>1.2 추론 과정 상세 설명</strong></a><ul><li><a href=#step-1-경량-모델light-model로-초기-생성><strong>(Step 1) 경량 모델(Light Model)로 초기 생성</strong></a></li><li><a href=#step-2-discriminator로-품질-평가><strong>(Step 2) Discriminator로 품질 평가</strong></a></li><li><a href=#step-3-고성능-모델heavy-model로-재생성-1><strong>(Step 3) 고성능 모델(Heavy Model)로 재생성</strong></a></li></ul></li></ul></li><li><a href=#2-모델-아키텍처-및-연산량-분석><strong>2. 모델 아키텍처 및 연산량 분석</strong></a><ul><li><a href=#21-경량-모델-light-model-아키텍처><strong>2.1 경량 모델 (Light Model) 아키텍처</strong></a><ul><li><a href=#1-모델-구성><strong>(1) 모델 구성</strong></a></li><li><a href=#2-연산량-및-메모리-요구량><strong>(2) 연산량 및 메모리 요구량</strong></a></li></ul></li><li><a href=#22-고성능-모델-heavy-model-아키텍처><strong>2.2 고성능 모델 (Heavy Model) 아키텍처</strong></a><ul><li><a href=#1-모델-구성-1><strong>(1) 모델 구성</strong></a></li><li><a href=#2-연산량-및-메모리-요구량-1><strong>(2) 연산량 및 메모리 요구량</strong></a></li></ul></li><li><a href=#23-discriminator-efficientnet-v2-아키텍처><strong>2.3 Discriminator (EfficientNet-V2) 아키텍처</strong></a><ul><li><a href=#1-모델-구성-2><strong>(1) 모델 구성</strong></a></li><li><a href=#2-연산량-및-메모리-요구량-2><strong>(2) 연산량 및 메모리 요구량</strong></a></li></ul></li></ul></li><li><a href=#3-전체-컴퓨팅-요구량-분석><strong>3. 전체 컴퓨팅 요구량 분석</strong></a></li><li><a href=#4-결론-1><strong>4. 결론</strong></a><ul><li><a href=#1-입력-데이터-및-추론-과정><strong>(1) 입력 데이터 및 추론 과정</strong></a></li><li><a href=#2-모델-아키텍처-및-연산량><strong>(2) 모델 아키텍처 및 연산량</strong></a></li><li><a href=#3-전체-컴퓨팅-요구량><strong>(3) 전체 컴퓨팅 요구량</strong></a></li></ul></li></ul><ul><li><a href=#1-논문의-한계-분석-및-이를-극복하기-위한-연구-흐름><strong>1. 논문의 한계 분석 및 이를 극복하기 위한 연구 흐름</strong></a></li><li><a href=#2-diffserve의-주요-한계-및-극복-연구-방향><strong>2. DIFFSERVE의 주요 한계 및 극복 연구 방향</strong></a></li><li><a href=#3-한계-극복을-위한-연구-흐름-상세-설명><strong>3. 한계 극복을 위한 연구 흐름 상세 설명</strong></a><ul><li><a href=#31-discriminator-의존성-문제-해결><strong>3.1 Discriminator 의존성 문제 해결</strong></a><ul><li><a href=#1-한계점-설명><strong>(1) 한계점 설명</strong></a></li><li><a href=#2-연구-흐름-self-supervised-learning-기반-동적-discriminator-학습><strong>(2) 연구 흐름: Self-Supervised Learning 기반 동적 Discriminator 학습</strong></a></li><li><a href=#3-대표-연구-및-적용-가능성><strong>(3) 대표 연구 및 적용 가능성</strong></a></li></ul></li><li><a href=#32-초저지연-환경에서의-모델-서빙-최적화><strong>3.2 초저지연 환경에서의 모델 서빙 최적화</strong></a><ul><li><a href=#1-한계점-설명-1><strong>(1) 한계점 설명</strong></a></li><li><a href=#2-연구-흐름-token-level-diffusion--latency-optimized-sampling-기법><strong>(2) 연구 흐름: Token-Level Diffusion & Latency-Optimized Sampling 기법</strong></a></li><li><a href=#3-대표-연구-및-적용-가능성-1><strong>(3) 대표 연구 및 적용 가능성</strong></a></li></ul></li><li><a href=#33-milp-최적화-연산-비용-문제-해결><strong>3.3 MILP 최적화 연산 비용 문제 해결</strong></a><ul><li><a href=#1-한계점-설명-2><strong>(1) 한계점 설명</strong></a></li><li><a href=#2-연구-흐름-reinforcement-learning-기반-실시간-리소스-할당><strong>(2) 연구 흐름: Reinforcement Learning 기반 실시간 리소스 할당</strong></a></li><li><a href=#3-대표-연구-및-적용-가능성-2><strong>(3) 대표 연구 및 적용 가능성</strong></a></li></ul></li><li><a href=#34-추론-중간-결과-활용-부족-문제-해결><strong>3.4 추론 중간 결과 활용 부족 문제 해결</strong></a><ul><li><a href=#1-한계점-설명-3><strong>(1) 한계점 설명</strong></a></li><li><a href=#2-연구-흐름-diffusion-model-distillation--cross-attention-reuse-기법><strong>(2) 연구 흐름: Diffusion Model Distillation & Cross-Attention Reuse 기법</strong></a></li><li><a href=#3-대표-연구-및-적용-가능성-3><strong>(3) 대표 연구 및 적용 가능성</strong></a></li></ul></li></ul></li><li><a href=#4-결론-2><strong>4. 결론</strong></a></li></ul><ul><li><a href=#1-diffserve의-discriminator가-clip-score-pickscore보다-높은-정확도를-달성하는-이유><strong>1. DIFFSERVE의 Discriminator가 CLIP Score, PickScore보다 높은 정확도를 달성하는 이유</strong></a><ul><li><a href=#1-clip-score-pickscore의-한계><strong>(1) CLIP Score, PickScore의 한계</strong></a></li><li><a href=#2-discriminator의-개선점><strong>(2) Discriminator의 개선점</strong></a></li><li><a href=#3-실험-결과-비교><strong>(3) 실험 결과 비교</strong></a></li></ul></li><li><a href=#2-특정-도메인예-의료-예술에서도-효과적으로-작동할-수-있는가><strong>2. 특정 도메인(예: 의료, 예술)에서도 효과적으로 작동할 수 있는가?</strong></a><ul><li><a href=#1-도메인-특화-문제><strong>(1) 도메인 특화 문제</strong></a></li><li><a href=#2-해결-방안-도메인별-맞춤-학습-기법><strong>(2) 해결 방안: 도메인별 맞춤 학습 기법</strong></a></li></ul></li><li><a href=#3-결론><strong>3. 결론</strong></a></li></ul><ul><li><a href=#1-diffserve에서-milp-기반-최적화의-실시간-적용-가능성><strong>1. DIFFSERVE에서 MILP 기반 최적화의 실시간 적용 가능성</strong></a><ul><li><a href=#11-milp-기반-최적화의-특징><strong>1.1 MILP 기반 최적화의 특징</strong></a></li><li><a href=#12-대규모-클러스터에서-milp의-문제점><strong>1.2 대규모 클러스터에서 MILP의 문제점</strong></a></li></ul></li><li><a href=#2-milp-기반-최적화-vs-reinforcement-learning-기반-리소스-할당><strong>2. MILP 기반 최적화 vs. Reinforcement Learning 기반 리소스 할당</strong></a><ul><li><a href=#21-milp-기반-최적화-vs-rl-기반-리소스-할당-비교><strong>2.1 MILP 기반 최적화 vs. RL 기반 리소스 할당 비교</strong></a></li><li><a href=#22-reinforcement-learning-기반-gpu-리소스-할당-방법><strong>2.2 Reinforcement Learning 기반 GPU 리소스 할당 방법</strong></a></li><li><a href=#23-milp-vs-rl의-선택-기준><strong>2.3 MILP vs. RL의 선택 기준</strong></a></li></ul></li><li><a href=#3-결론-1><strong>3. 결론</strong></a><ul><li><a href=#최적의-선택><strong>최적의 선택</strong></a></li></ul></li></ul><ul><li><a href=#1-diffserve의-비효율성-경량-모델의-중간-결과를-활용하지-않음><strong>1. DIFFSERVE의 비효율성: 경량 모델의 중간 결과를 활용하지 않음</strong></a><ul><li><a href=#11-비효율적인-점><strong>1.1 비효율적인 점</strong></a></li><li><a href=#12-해결책-diffusion-model-distillation--cross-attention-reuse-기법-적용><strong>1.2 해결책: Diffusion Model Distillation & Cross-Attention Reuse 기법 적용</strong></a></li></ul></li><li><a href=#2-diffusion-model-distillation-기법을-적용할-경우-기대-효과><strong>2. Diffusion Model Distillation 기법을 적용할 경우 기대 효과</strong></a><ul><li><a href=#21-diffusion-model-distillation의-핵심-아이디어><strong>2.1 Diffusion Model Distillation의 핵심 아이디어</strong></a></li><li><a href=#22-성능-향상-예상><strong>2.2 성능 향상 예상</strong></a></li></ul></li><li><a href=#3-cross-attention-reuse-기법을-적용할-경우-기대-효과><strong>3. Cross-Attention Reuse 기법을 적용할 경우 기대 효과</strong></a><ul><li><a href=#31-cross-attention-reuse의-핵심-아이디어><strong>3.1 Cross-Attention Reuse의 핵심 아이디어</strong></a></li><li><a href=#32-성능-향상-예상><strong>3.2 성능 향상 예상</strong></a></li></ul></li><li><a href=#4-diffusion-model-distillation-vs-cross-attention-reuse-비교><strong>4. Diffusion Model Distillation vs. Cross-Attention Reuse 비교</strong></a></li><li><a href=#5-결론-2><strong>5. 결론</strong></a><ul><li><a href=#핵심-성능-향상-기대치><strong>핵심 성능 향상 기대치</strong></a></li></ul></li></ul></nav></div></nav></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground text-center text-xs"><span>제목을 클릭하면 해당 위치로 이동합니다</span></div></div></div></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css integrity=sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js integrity=sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous></script><script>function initKaTeX(){if(typeof renderMathInElement=="undefined"){setTimeout(initKaTeX,100);return}var e=[{display:!0,left:"$$",right:"$$"},{display:!1,left:"$",right:"$"}];renderMathInElement(document.body,{delimiters:e,throwOnError:!1,errorColor:"#cc0000",fleqn:!1,leqno:!1,trust:!1})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initKaTeX):initKaTeX()</script><div id=search-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 transition-opacity duration-300"></div><div id=search-modal class="bg-card border-border pointer-events-none fixed top-1/2 left-1/2 z-50 max-h-[80vh] w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 scale-95 transform overflow-hidden rounded-xl border opacity-0 shadow-xl transition-all duration-300"><div class="border-border flex items-center gap-3 border-b p-4"><div class="text-muted-foreground h-5 w-5 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><div class="relative flex-1"><button id=search-clear class="text-muted-foreground hover:text-foreground hover:bg-muted/50 pointer-events-none absolute top-1/2 left-0 z-10 h-5 w-5 -translate-y-1/2 rounded opacity-0 transition-all duration-200" title=지우기 aria-label=지우기>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg>
</button>
<input id=search-input type=text placeholder="게시글 검색..." class="text-foreground placeholder:text-muted-foreground w-full border-none bg-transparent pl-8 text-lg outline-none" autocomplete=off spellcheck=false></div><button id=search-close class="text-muted-foreground hover:text-foreground hover:bg-muted/50 flex h-6 w-6 items-center justify-center rounded-md p-0.5 transition-all duration-200" title=닫기 aria-label=닫기>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div id=search-results class="max-h-96 overflow-y-auto"><div id=search-empty class="flex flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">검색 시작</h3><p class="text-muted-foreground text-sm">검색어를 입력하세요</p></div><div id=search-loading class="flex hidden items-center justify-center py-8"><div class="mr-3 h-6 w-6 animate-spin rounded-full border-2 border-current border-t-transparent"></div><span class=text-muted-foreground>검색 중...</span></div><div id=search-no-results class="flex hidden flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">검색 결과 없음</h3><p class="text-muted-foreground text-sm">다른 검색어로 시도해보세요</p></div><div id=search-results-list class=hidden><div id=search-stats class="text-muted-foreground border-border border-b px-4 py-3 text-sm" data-template="%d개의 결과 찾음"></div><div id=search-items class="divide-border divide-y"></div></div></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground flex items-center justify-between text-xs"><div class="flex items-center gap-2 md:gap-4"><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">↑↓</kbd>
<span class="hidden sm:inline">이동</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">↵</kbd>
<span class="hidden sm:inline">선택</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">ESC</kbd>
<span class="hidden sm:inline">닫기</span></div></div><div class="search-hint-desktop flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">⌘K</kbd>
<span>단축키</span></div></div></div></div></body></html>