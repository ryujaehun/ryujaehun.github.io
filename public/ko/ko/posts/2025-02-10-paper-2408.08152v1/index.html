<!doctype html><html lang=ko-kr data-theme=claude><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>DeepSeek-Prover-V1.5: Harnessing Proof Assistant Feedback for Reinforcement Learning and Monte-Carlo Tree Search | Jaehun's Blog</title><meta name=description content="논문 링크
Q :..."><meta name=keywords content="개발,프로그래밍,에세이"><meta name=author content><meta name=language content="ko"><meta name=robots content="index, follow"><link rel=canonical href=https://jaehun.me/ko/ko/posts/2025-02-10-paper-2408.08152v1/><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://jaehun.me/ko/ko/posts/2025-02-10-paper-2408.08152v1/"><meta property="og:site_name" content="Jaehun's Blog"><meta property="og:title" content="DeepSeek-Prover-V1.5: Harnessing Proof Assistant Feedback for Reinforcement Learning and Monte-Carlo Tree Search"><meta property="og:description" content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문의 강점 및 독창성 강화 학습과 증명 보조기 피드백의 통합
DeepSeek-Prover-V1.5는 증명 보조기(Lean 4)의 피드백을 활용한 강화 학습(RLPAF)을 통해 모델의 성능을 개선했습니다. 기존 모델들은 단순한 감독 학습에 의존했으나, 이 모델은 증명 검증 결과를 직접적으로 학습에 반영함으로써 정확성을 높였습니다."><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="ko"><meta property="article:published_time" content="2025-02-10T00:00:00+00:00"><meta property="article:modified_time" content="2025-02-10T00:00:00+00:00"><meta property="og:image" content="https://jaehun.me/images/og-default.avif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jaehun.me/images/og-default.avif"><meta name=twitter:title content="DeepSeek-Prover-V1.5: Harnessing Proof Assistant Feedback for Reinforcement Learning and Monte-Carlo Tree Search"><meta name=twitter:description content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문의 강점 및 독창성 강화 학습과 증명 보조기 피드백의 통합
DeepSeek-Prover-V1.5는 증명 보조기(Lean 4)의 피드백을 활용한 강화 학습(RLPAF)을 통해 모델의 성능을 개선했습니다. 기존 모델들은 단순한 감독 학습에 의존했으나, 이 모델은 증명 검증 결과를 직접적으로 학습에 반영함으로써 정확성을 높였습니다."><meta itemprop=name content="DeepSeek-Prover-V1.5: Harnessing Proof Assistant Feedback for Reinforcement Learning and Monte-Carlo Tree Search"><meta itemprop=description content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문의 강점 및 독창성 강화 학습과 증명 보조기 피드백의 통합
DeepSeek-Prover-V1.5는 증명 보조기(Lean 4)의 피드백을 활용한 강화 학습(RLPAF)을 통해 모델의 성능을 개선했습니다. 기존 모델들은 단순한 감독 학습에 의존했으나, 이 모델은 증명 검증 결과를 직접적으로 학습에 반영함으로써 정확성을 높였습니다."><meta itemprop=datePublished content="2025-02-10T00:00:00+00:00"><meta itemprop=dateModified content="2025-02-10T00:00:00+00:00"><meta itemprop=wordCount content="21486"><meta itemprop=image content="https://jaehun.me/images/og-default.avif"><meta itemprop=keywords content="Paper-Review,With-Gpt,DeepSeek"><script>window.HUGO_SEARCH_CONFIG={searchIndexURL:'"/ko/index.json"'}</script><script>window.HUGO_GALLERY_CONFIG={justified_gallery:!1,lightbox:!1,justified:"{}",lightbox_options:"{}"}</script><link rel=stylesheet href=/css/compiled.min.9165cace5b80a5be5daad6ea96eb2abc20a18a3f41d7fed7f0335b689fdf7883.css integrity="sha256-kWXKzluApb5dqtbqlusqvCChij9B1/7X8DNbaJ/feIM=" crossorigin=anonymous><link rel=stylesheet href=/css/chroma.min.491df36221f739b5948a747a0351f100ee7ccaaf466d9f46288bf06de1d59123.css integrity="sha256-SR3zYiH3ObWUinR6A1HxAO58yq9GbZ9GKIvwbeHVkSM=" crossorigin=anonymous><script src=/js/main.ba969e49a7a874e6938fe689a7dcaa00cb64cb4d429c2cf98d09bde512a16c6d.js integrity="sha256-upaeSaeodOaTj+aJp9yqAMtky01CnCz5jQm95RKhbG0=" crossorigin=anonymous></script><script src=/js/gumshoe.polyfills.min.js></script><script src=/js/toc.70654aebf0b738a78ae2df95297cc10ebc6e590f3c942dd1325fa852f50038b2.js integrity="sha256-cGVK6/C3OKeK4t+VKXzBDrxuWQ88lC3RMl+oUvUAOLI=" crossorigin=anonymous defer></script><script src=/js/search.de3eba3540834efb8328121784bff4774e06362412ee41eee665f5b4f987f393.js integrity="sha256-3j66NUCDTvuDKBIXhL/0d04GNiQS7kHu5mX1tPmH85M=" crossorigin=anonymous defer></script><script src=/js/dock.e02f422517e001d9fb6bea1e9e8b0e89e9d2e486ad4641f275bb3e36ce2ae79f.js integrity="sha256-4C9CJRfgAdn7a+oenosOienS5IatRkHydbs+Ns4q558=" crossorigin=anonymous defer></script><script>(function(){const e=localStorage.getItem("theme")||"system",n=localStorage.getItem("colorScheme")||"claude";document.documentElement.setAttribute("data-theme",n);function t(){e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}t(),e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t)})()</script></head><body class="bg-background text-foreground min-h-screen antialiased"><div id=reading-progress-container class="reading-progress-container pointer-events-none fixed top-0 right-0 left-0 z-50 transition-opacity duration-300 ease-out" data-height=3 data-smooth-scroll=true data-hide-on-complete=false><div class="reading-progress-bg w-full"></div><div id=reading-progress-bar class="from-primary to-primary/80 reading-progress-bar
transition-all duration-150 ease-out
absolute top-0 left-0 w-0 bg-gradient-to-r"></div></div><script>(function(){"use strict";const t=document.getElementById("reading-progress-container"),o=document.getElementById("reading-progress-bar");if(!t||!o)return;const a={smoothScroll:t.dataset.smoothScroll==="true",hideOnComplete:t.dataset.hideOnComplete==="true"};let n=!0,l=null;function r(){const t=window.pageYOffset||document.documentElement.scrollTop,n=document.documentElement.scrollHeight,s=window.innerHeight,e=n-s;return e<=0?0:Math.min(Math.max(t/e*100,0),100)}function c(){const e=r();o.style.width=e+"%",a.hideOnComplete&&e>=99.5?n&&(t.style.opacity="0",n=!1):n||(t.style.opacity="1",n=!0)}let s=!1;function e(){s||(requestAnimationFrame(()=>{c(),s=!1}),s=!0)}function i(){window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),document.addEventListener("visibilitychange",()=>{document.hidden||e()}),e(),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()})()</script><header class="sticky top-0 z-50 mx-auto max-w-4xl px-4 py-6"><div class="border-border bg-card/80 flex items-center rounded-xl border px-6 py-4 shadow-sm backdrop-blur-sm"><div class="hidden w-full items-center md:flex"><div class="flex items-center"><a href=/ko/ class="flex h-10 w-10 items-center justify-center overflow-hidden rounded-full transition-transform duration-200 hover:scale-105" aria-label="Jaehun's Blog"><img src=/images/logo.svg alt="Jaehun's Blog" class="h-full w-full object-cover"></a></div><nav class="mx-8 flex flex-1 items-center justify-center"><div class="flex items-center space-x-1"><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.posts"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>게시글
</span></a><a href=/ko/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.categories"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>카테고리
</span></a><a href=/ko/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.tags"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>태그
</span></a><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.archives"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>아카이브</span></a></div></nav><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="언어 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="언어 변경"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=/ko/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>한국어</span></a><a href=/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>English</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="테마 변경"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span>라이트</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg><span>다크</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg><span>시스템</span></button></div></div></div></div><div class="flex w-full items-center justify-between md:hidden"><div class=relative><button id=mobile-menu-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:bg-accent hover:text-foreground flex h-10 w-10 items-center justify-center rounded-lg border transition-colors duration-200" data-dropdown-type=mobile-menu aria-label=메뉴 aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="메뉴"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button><div id=mobile-menu class="mobile-menu dropdown-menu border-border bg-popover/95 absolute top-12 left-0 z-[60] hidden w-80 max-w-[calc(100vw-2rem)] rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out md:hidden" data-dropdown-type=mobile-menu role=menu aria-labelledby=mobile-menu-toggle><nav class="flex flex-col"><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.posts"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>게시글
</span></a><a href=/ko/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.categories"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>카테고리
</span></a><a href=/ko/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.tags"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>태그
</span></a><a href=/ko/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="nav.archives"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>아카이브</span></a></nav></div></div><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="언어 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="언어 변경"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=/ko/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>한국어</span></a><a href=/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>English</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="테마 변경"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="테마 변경" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="라이트"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><span>라이트</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="다크"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg><span>다크</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
<svg class="h-5 w-5 mr-3 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="시스템"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg><span>시스템</span></button></div></div></div></div></div></header><main class="mx-auto max-w-4xl px-4 py-6"><nav class="breadcrumb mb-4 md:mb-6 py-1" aria-label=경로><ol class="text-muted-foreground flex items-center space-x-1 md:space-x-2 text-sm overflow-x-auto whitespace-nowrap scrollbar-hide py-1"><li class=flex-shrink-0><a href=/ko/ class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02]"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="홈"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m3 12 2-2m0 0 7-7 7 7M5 10v10a1 1 0 001 1h3m10-11 2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
<span class="max-w-[4rem] md:max-w-none truncate">홈</span></a></li><li class="flex items-center gap-1 md:gap-2 min-w-0"><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span><div class="flex items-center gap-1 md:gap-2 min-w-0"><a href=/ko class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02] flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5A2 2 0 003 7z"/></svg>
<span class="max-w-[4rem] md:max-w-none truncate">Ko</span>
</a><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span>
<span class="text-foreground flex items-center gap-0.5 md:gap-1 font-medium min-w-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
<span class="max-w-[8rem] md:max-w-[16rem] lg:max-w-none truncate">DeepSeek-Prover-V1.5: Harnessing Proof Assistant Feedback for Reinforcement Learning and Monte-Carlo Tree Search</span></span></div></li></ol></nav><header class=mb-8><h1 class="text-foreground mb-4 text-3xl font-bold md:text-4xl">DeepSeek-Prover-V1.5: Harnessing Proof Assistant Feedback for Reinforcement Learning and Monte-Carlo Tree Search</h1></header><article class="prose prose-neutral dark:prose-invert max-w-none"><p><a href=https://arxiv.org/abs/2408.08152v1>논문 링크</a></p><h1 id=q--이-논문을-아주-자세하게-읽고-논문의-강점과-독창적인-지점을-설명해주고-핵심-알고리즘을-예시-입력을-들어서-전체적인-과정을-설명해줘-추가적으로-논문의-한계점에-대해서도-알려줘>Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘</h1><h3 id=논문의-강점-및-독창성><strong>논문의 강점 및 독창성</strong></h3><ol><li><p><strong>강화 학습과 증명 보조기 피드백의 통합</strong><br>DeepSeek-Prover-V1.5는 증명 보조기(Lean 4)의 피드백을 활용한 강화 학습(RLPAF)을 통해 모델의 성능을 개선했습니다. 기존 모델들은 단순한 감독 학습에 의존했으나, 이 모델은 증명 검증 결과를 직접적으로 학습에 반영함으로써 정확성을 높였습니다.</p></li><li><p><strong>RMaxTS: 탐색 지향 몬테카를로 트리 탐색</strong><br>기존의 MCTS(Monte-Carlo Tree Search) 기법을 개선한 RMaxTS를 도입했습니다. 이 방법은 내재적 보상(intrinsic reward)을 활용해 탐색 공간의 다양성을 확보하고, 증명 경로의 다양성을 증대시킵니다. 특히 보상이 희소한 증명 탐색 문제에서 효과적입니다.</p></li><li><p><strong>단일 패스 증명 생성과 단계별 증명 생성의 통합</strong><br>Truncate-and-resume 메커니즘을 도입하여 단일 패스 증명 생성의 효율성과 단계별 증명 생성의 정확성을 결합했습니다. 이는 증명 코드가 오류를 발생할 때 해당 지점에서 코드를 자르고, 성공적으로 생성된 코드 이후부터 다시 증명을 이어가는 방식입니다.</p></li><li><p><strong>성능 향상</strong></p><ul><li><strong>miniF2F 벤치마크 (고등학교 수준)</strong>: 이전 모델(DeepSeek-Prover-V1)의 50.0%에서 60.2%로 향상, RMaxTS 적용 시 63.5%로 최고 성능 달성.</li><li><strong>ProofNet 벤치마크 (대학 수준)</strong>: 23.7%에서 25.3%로 개선.</li></ul></li></ol><hr><h3 id=핵심-알고리즘-설명-rmaxts><strong>핵심 알고리즘 설명 (RMaxTS)</strong></h3><p><strong>예제 입력</strong>:
&ldquo;다항식 ((2x+3)(x-4)+(2x+3)(x-6)=0)의 모든 근의 합을 구하라. 결과는 (7/2)임을 보여라.&rdquo;</p><p><strong>과정</strong>:</p><ol><li><p><strong>초기 증명 생성 (Whole-Proof Generation)</strong><br>모델이 전체 증명 코드를 생성하고, Lean 4 증명 보조기를 통해 검증합니다.</p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-0 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-0 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-0><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln>1</span><span class=cl><span class=kn>theorem</span><span class=w> </span><span class=n>amc12a_2002_p1</span><span class=w> </span><span class=o>(</span><span class=n>f</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℂ</span><span class=w> </span><span class=bp>→</span><span class=w> </span><span class=n>ℂ</span><span class=o>)</span><span class=w> </span><span class=o>(</span><span class=n>h₀</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=bp>∀</span><span class=w> </span><span class=n>x</span><span class=o>,</span><span class=w> </span><span class=n>f</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=o>(</span><span class=mi>2</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=mi>3</span><span class=o>)</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=o>(</span><span class=n>x</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=mi>4</span><span class=o>)</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=o>(</span><span class=mi>2</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=mi>3</span><span class=o>)</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=o>(</span><span class=n>x</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=mi>6</span><span class=o>))</span><span class=w> </span><span class=o>(</span><span class=n>h₁</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>Fintype</span><span class=w> </span><span class=o>(</span><span class=n>f</span><span class=bp>⁻¹&#39;</span><span class=w> </span><span class=o>{</span><span class=mi>0</span><span class=o>}))</span><span class=w> </span><span class=o>:</span><span class=w> 
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=w>  </span><span class=bp>∑</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=o>(</span><span class=n>f</span><span class=bp>⁻¹&#39;</span><span class=w> </span><span class=o>{</span><span class=mi>0</span><span class=o>})</span><span class=bp>.</span><span class=n>toFinset</span><span class=o>,</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:</span><span class=bp>=</span><span class=w> </span><span class=k>by</span><span class=w>
</span></span></span><span class=line><span class=ln>3</span><span class=cl><span class=w>  </span><span class=c1>-- 이 부분에서 오류 발생 가능</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-0",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li><li><p><strong>Truncate-and-Resume 메커니즘 적용</strong><br>만약 오류가 발생하면, 오류 지점에서 코드를 자르고, 성공한 부분을 기반으로 다시 증명 생성.</p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-1 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-1 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-1><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln>1</span><span class=cl><span class=c1>-- 오류 발생 후:</span><span class=w>
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=w></span><span class=c>/-</span><span class=cm> tactic state:
</span></span></span><span class=line><span class=ln>3</span><span class=cl><span class=cm>f : ℂ → ℂ
</span></span></span><span class=line><span class=ln>4</span><span class=cl><span class=cm>h₀ : ∀ (x : ℂ), f x = (2 * x + 3) * (x - 4) + (2 * x + 3) * (x - 6)
</span></span></span><span class=line><span class=ln>5</span><span class=cl><span class=cm>h₁ : Fintype ↑(f ⁻¹&#39; {0})
</span></span></span><span class=line><span class=ln>6</span><span class=cl><span class=cm>x : ℂ
</span></span></span><span class=line><span class=ln>7</span><span class=cl><span class=cm>⊢ f x = 0 ↔ x = -(3 / 2) ∨ x = 5
</span></span></span><span class=line><span class=ln>8</span><span class=cl><span class=cm>-/</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-1",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li><li><p><strong>RMaxTS로 탐색 확대</strong><br>각 증명 단계는 트리의 노드로 표현됩니다. 모델은 트리 탐색을 통해 다양한 증명 경로를 생성하며, 각 경로는 Lean 4로 검증됩니다.</p></li><li><p><strong>내재적 보상(Intrinsic Reward)</strong><br>새로운 노드(증명 상태)를 발견할 때마다 최대 보상을 부여하여 탐색을 장려. 이를 통해 다양한 증명 경로를 확보하고, 단순 반복을 방지합니다.</p></li></ol><hr><h3 id=논문의-한계점><strong>논문의 한계점</strong></h3><ol><li><p><strong>보상의 희소성 문제</strong><br>증명 검증의 보상은 이진(0 또는 1) 형태로, 복잡한 문제일수록 올바른 증명 생성이 어려워 보상이 희소해지는 문제가 있습니다. RMaxTS가 이를 완화하려 하지만, 완벽한 해결책은 아닙니다.</p></li><li><p><strong>리소스 집약적 연산</strong><br>Lean 4 증명 보조기의 반복적 호출과 대규모 탐색은 높은 계산 자원을 요구합니다. 특히 대규모 병렬 처리에서 CPU 및 GPU 자원의 효율성이 중요한 문제로 남아있습니다.</p></li><li><p><strong>한정된 평가 범위</strong><br>miniF2F와 ProofNet 벤치마크에서 성능을 입증했으나, 더 복잡하거나 다양한 수학적 영역(예: 기하학, 논리학)에서는 추가적인 검증이 필요합니다.</p></li><li><p><strong>미래 연구 필요성</strong><br>증명 탐색의 &lsquo;탐색(exploration)&rsquo; 부분은 개선되었으나, &lsquo;활용(exploitation)&rsquo; 측면, 즉 부분 증명을 평가하고 최적화하는 비평가 모델(critic model)의 도입은 미흡합니다. 이를 통해 증명 경로의 효율성을 더 높일 수 있습니다.</p></li></ol><hr><h3 id=결론><strong>결론</strong></h3><p>DeepSeek-Prover-V1.5는 강화 학습, 몬테카를로 트리 탐색(RMaxTS), 그리고 증명 보조기 피드백을 효과적으로 통합하여 기존 모델 대비 성능을 대폭 향상시켰습니다. 탐색과 증명 생성의 효율성과 정확성을 결합한 접근법은 매우 독창적이며, 향후 비평가 모델의 도입과 복잡한 문제에 대한 확장성 검증을 통해 더욱 발전할 가능성이 있습니다.</p><h1 id=q--논문의-핵심알고리즘을-예시를-들어-아주-자세하게-설명해주고-정리해-줘>Q : 논문의 핵심알고리즘을 예시를 들어 아주 자세하게 설명해주고 정리해 줘</h1><h3 id=핵심-알고리즘-rmaxts-탐색-지향-몬테카를로-트리-탐색><strong>핵심 알고리즘: RMaxTS (탐색 지향 몬테카를로 트리 탐색)</strong></h3><p><strong>RMaxTS</strong>는 기존 몬테카를로 트리 탐색(MCTS)에 내재적 보상(Intrinsic Reward)을 결합하여 증명 생성 과정에서 탐색의 다양성을 높이는 알고리즘입니다. 이 알고리즘은 <strong>Truncate-and-Resume</strong> 메커니즘과 Lean 4 증명 보조기의 피드백을 활용하여 증명 생성 과정을 단계별로 개선합니다.</p><hr><h3 id=1-전체-알고리즘-구조><strong>1. 전체 알고리즘 구조</strong></h3><ol><li><p><strong>초기 전체 증명 생성 (Whole-Proof Generation)</strong></p><ul><li>모델이 전체 증명 코드를 한 번에 생성하고, 이를 Lean 4 증명 보조기를 통해 검증합니다.</li><li>증명이 성공하면 종료, 실패하면 다음 단계로 진행합니다.</li></ul></li><li><p><strong>Truncate-and-Resume 메커니즘 적용</strong></p><ul><li>실패한 증명의 오류 지점에서 코드를 자르고(truncate), 성공한 부분을 기반으로 새로운 증명을 생성합니다(resume).</li><li>이 과정은 트리 탐색의 노드 확장(Expansion)에 해당합니다.</li></ul></li><li><p><strong>몬테카를로 트리 탐색 (Monte-Carlo Tree Search)</strong></p><ul><li><strong>선택(Selection)</strong>: 가장 유망한 노드를 선택하여 탐색을 진행합니다.</li><li><strong>확장(Expansion)</strong>: 선택된 노드에서 새로운 증명 경로를 생성합니다.</li><li><strong>시뮬레이션(Simulation)</strong>: 생성된 증명을 Lean 4로 검증합니다.</li><li><strong>역전파(Backpropagation)</strong>: 검증 결과(성공/실패)를 트리의 상위 노드로 전달하여 다음 탐색에 반영합니다.</li></ul></li><li><p><strong>내재적 보상(Intrinsic Reward) 기반 탐색 강화</strong></p><ul><li>새로운 증명 경로(노드)를 발견할 때마다 보상을 부여하여 탐색의 다양성을 확보합니다.</li><li>이는 보상이 희소한 증명 탐색 문제의 해결에 효과적입니다.</li></ul></li></ol><hr><h3 id=2-예제와-함께-단계별-상세-설명><strong>2. 예제와 함께 단계별 상세 설명</strong></h3><p><strong>문제 예제:</strong><br>[
(2x + 3)(x - 4) + (2x + 3)(x - 6) = 0
]
이 다항식의 모든 근의 합을 구하고, 결과가 (\frac{7}{2})임을 증명하시오.</p><hr><h4 id=step-1-초기-전체-증명-생성-whole-proof-generation><strong>Step 1: 초기 전체 증명 생성 (Whole-Proof Generation)</strong></h4><p>모델은 전체 증명 코드를 자동으로 생성합니다.</p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-2 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-2 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-2><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln>1</span><span class=cl><span class=kn>theorem</span><span class=w> </span><span class=n>amc12a_2002_p1</span><span class=w> </span><span class=o>(</span><span class=n>f</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℂ</span><span class=w> </span><span class=bp>→</span><span class=w> </span><span class=n>ℂ</span><span class=o>)</span><span class=w> 
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=w>  </span><span class=o>(</span><span class=n>h₀</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=bp>∀</span><span class=w> </span><span class=n>x</span><span class=o>,</span><span class=w> </span><span class=n>f</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=o>(</span><span class=mi>2</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=mi>3</span><span class=o>)</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=o>(</span><span class=n>x</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=mi>4</span><span class=o>)</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=o>(</span><span class=mi>2</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=mi>3</span><span class=o>)</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=o>(</span><span class=n>x</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=mi>6</span><span class=o>))</span><span class=w> 
</span></span></span><span class=line><span class=ln>3</span><span class=cl><span class=w>  </span><span class=o>(</span><span class=n>h₁</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>Fintype</span><span class=w> </span><span class=o>(</span><span class=n>f</span><span class=bp>⁻¹&#39;</span><span class=w> </span><span class=o>{</span><span class=mi>0</span><span class=o>}))</span><span class=w> </span><span class=o>:</span><span class=w> 
</span></span></span><span class=line><span class=ln>4</span><span class=cl><span class=w>  </span><span class=bp>∑</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=o>(</span><span class=n>f</span><span class=bp>⁻¹&#39;</span><span class=w> </span><span class=o>{</span><span class=mi>0</span><span class=o>})</span><span class=bp>.</span><span class=n>toFinset</span><span class=o>,</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:</span><span class=bp>=</span><span class=w> </span><span class=k>by</span><span class=w>
</span></span></span><span class=line><span class=ln>5</span><span class=cl><span class=w>  </span><span class=k>have</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=o>(</span><span class=n>f</span><span class=bp>⁻¹&#39;</span><span class=w> </span><span class=o>{</span><span class=mi>0</span><span class=o>})</span><span class=bp>.</span><span class=n>toFinset</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=o>{</span><span class=bp>-</span><span class=o>(</span><span class=mi>3</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℂ</span><span class=o>),</span><span class=w> </span><span class=o>(</span><span class=mi>5</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℂ</span><span class=o>)}</span><span class=w> </span><span class=o>:</span><span class=bp>=</span><span class=w> </span><span class=k>by</span><span class=w>
</span></span></span><span class=line><span class=ln>6</span><span class=cl><span class=w>    </span><span class=n>ext</span><span class=w> </span><span class=n>x</span><span class=w>
</span></span></span><span class=line><span class=ln>7</span><span class=cl><span class=w>    </span><span class=n>simp</span><span class=w> </span><span class=n>only</span><span class=w> </span><span class=o>[</span><span class=n>Set</span><span class=bp>.</span><span class=n>mem_toFinset</span><span class=o>,</span><span class=w> </span><span class=n>Set</span><span class=bp>.</span><span class=n>mem_singleton_iff</span><span class=o>,</span><span class=w> </span><span class=n>Set</span><span class=bp>.</span><span class=n>mem_preimage</span><span class=o>,</span><span class=w> </span><span class=n>Set</span><span class=bp>.</span><span class=n>mem_setOf</span><span class=o>]</span><span class=w>
</span></span></span><span class=line><span class=ln>8</span><span class=cl><span class=w>    </span><span class=c1>-- 여기서 오류 발생 가능</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-2",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><hr><h4 id=step-2-truncate-and-resume-메커니즘-적용><strong>Step 2: Truncate-and-Resume 메커니즘 적용</strong></h4><p>Lean 4 증명 보조기가 코드를 검증한 결과, 오류가 발견됩니다. 이 경우, 오류가 발생한 부분에서 코드를 자르고(truncate), 성공한 부분을 바탕으로 새로운 증명을 생성합니다.</p><ul><li><p><strong>오류 메시지:</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PLAINTEXT</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-3 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-3 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>Error: failed to synthesize LinearOrder ℂ</span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-3",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li><li><p><strong>수정된 증명 코드:</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-4 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-4 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-4><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln>1</span><span class=cl><span class=c>/-</span><span class=cm> tactic state:
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=cm>f : ℂ → ℂ
</span></span></span><span class=line><span class=ln>3</span><span class=cl><span class=cm>h₀ : ∀ (x : ℂ), f x = (2 * x + 3) * (x - 4) + (2 * x + 3) * (x - 6)
</span></span></span><span class=line><span class=ln>4</span><span class=cl><span class=cm>h₁ : Fintype ↑(f ⁻¹&#39; {0})
</span></span></span><span class=line><span class=ln>5</span><span class=cl><span class=cm>x : ℂ
</span></span></span><span class=line><span class=ln>6</span><span class=cl><span class=cm>⊢ f x = 0 ↔ x = -(3 / 2) ∨ x = 5
</span></span></span><span class=line><span class=ln>7</span><span class=cl><span class=cm>-/</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-4",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li></ul><p>이 tactic 상태를 주석으로 추가하여 모델이 더 나은 증명을 생성하도록 유도합니다.</p><hr><h4 id=step-3-몬테카를로-트리-탐색-monte-carlo-tree-search><strong>Step 3: 몬테카를로 트리 탐색 (Monte-Carlo Tree Search)</strong></h4><ol><li><p><strong>선택(Selection)</strong></p><ul><li>트리의 루트 노드(초기 증명)를 시작으로, 탐색할 가장 유망한 노드를 선택합니다.</li><li>선택 기준: **UCB(Upper Confidence Bound)**를 활용하여 탐색(Exploration)과 활용(Exploitation)의 균형을 유지합니다.</li></ul><p>[
\text{UCB}(s, a) = Q(s, a) + c \sqrt{\frac{\ln N(s)}{N(s, a)}}
]</p><ul><li>(Q(s, a)): 선택된 노드의 가치.</li><li>(N(s)): 부모 노드의 방문 횟수.</li><li>(N(s, a)): 현재 노드의 방문 횟수.</li><li>(c): 탐색 강도를 조절하는 상수.</li></ul></li><li><p><strong>확장(Expansion)</strong></p><ul><li>선택된 노드에서 새로운 증명 경로를 생성합니다. 이때, <strong>Truncate-and-Resume</strong> 기법을 사용하여 이전에 성공한 부분부터 증명을 이어갑니다.</li></ul></li><li><p><strong>시뮬레이션(Simulation)</strong></p><ul><li>생성된 증명을 Lean 4로 검증합니다.</li><li>증명이 성공하면 탐색 종료, 실패 시 다음 단계로 진행.</li></ul></li><li><p><strong>역전파(Backpropagation)</strong></p><ul><li>성공 여부에 따라 보상을 트리의 상위 노드로 전달합니다.</li><li><strong>보상 기준:</strong><ul><li>성공한 증명: <strong>보상 1</strong></li><li>실패한 증명: <strong>보상 0</strong></li></ul></li></ul></li></ol><hr><h4 id=step-4-내재적-보상intrinsic-reward-기반-탐색-강화><strong>Step 4: 내재적 보상(Intrinsic Reward) 기반 탐색 강화</strong></h4><ul><li><p><strong>내재적 보상(Intrinsic Reward) 정의:</strong><br>새로운 증명 경로(노드)를 발견할 때마다 보상을 부여합니다.</p><p>[
R_{\text{intrinsic}}(\tau) =
\begin{cases}
1 & \text{새로운 노드(증명 상태)를 발견한 경우} \
0 & \text{기존 탐색 경로를 반복한 경우}
\end{cases}
]</p></li><li><p><strong>할인된 상한 탐색(DUCB)</strong><br>탐색이 진행됨에 따라 새로운 상태를 발견하기 어려워지므로, 최근 탐색 결과에 더 큰 가중치를 부여하여 탐색을 촉진합니다.</p><p>[
Q_{\text{DUCB}}(s, a) = \frac{W_{\gamma}(s, a)}{N_{\gamma}(s, a)} + c \sqrt{\frac{\ln N_{\gamma}(s)}{N_{\gamma}(s, a)}}
]</p><ul><li>(\gamma = 0.99)로 설정하여 최근 탐색 결과에 높은 가중치를 부여합니다.</li></ul></li></ul><hr><h3 id=3-최종-증명-결과><strong>3. 최종 증명 결과</strong></h3><p>탐색이 완료되면 모델은 다음과 같은 최종 증명 코드를 생성합니다.</p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-5 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-5 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-5><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln> 1</span><span class=cl><span class=kn>theorem</span><span class=w> </span><span class=n>amc12a_2002_p1</span><span class=w> </span><span class=o>(</span><span class=n>f</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℂ</span><span class=w> </span><span class=bp>→</span><span class=w> </span><span class=n>ℂ</span><span class=o>)</span><span class=w> 
</span></span></span><span class=line><span class=ln> 2</span><span class=cl><span class=w>  </span><span class=o>(</span><span class=n>h₀</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=bp>∀</span><span class=w> </span><span class=n>x</span><span class=o>,</span><span class=w> </span><span class=n>f</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=o>(</span><span class=mi>2</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=mi>3</span><span class=o>)</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=o>(</span><span class=n>x</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=mi>4</span><span class=o>)</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=o>(</span><span class=mi>2</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=mi>3</span><span class=o>)</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=o>(</span><span class=n>x</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=mi>6</span><span class=o>))</span><span class=w> 
</span></span></span><span class=line><span class=ln> 3</span><span class=cl><span class=w>  </span><span class=o>(</span><span class=n>h₁</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>Fintype</span><span class=w> </span><span class=o>(</span><span class=n>f</span><span class=bp>⁻¹&#39;</span><span class=w> </span><span class=o>{</span><span class=mi>0</span><span class=o>}))</span><span class=w> </span><span class=o>:</span><span class=w> 
</span></span></span><span class=line><span class=ln> 4</span><span class=cl><span class=w>  </span><span class=bp>∑</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=o>(</span><span class=n>f</span><span class=bp>⁻¹&#39;</span><span class=w> </span><span class=o>{</span><span class=mi>0</span><span class=o>})</span><span class=bp>.</span><span class=n>toFinset</span><span class=o>,</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:</span><span class=bp>=</span><span class=w> </span><span class=k>by</span><span class=w>
</span></span></span><span class=line><span class=ln> 5</span><span class=cl><span class=w>  </span><span class=k>have</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=o>(</span><span class=n>f</span><span class=bp>⁻¹&#39;</span><span class=w> </span><span class=o>{</span><span class=mi>0</span><span class=o>})</span><span class=bp>.</span><span class=n>toFinset</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=o>{</span><span class=bp>-</span><span class=o>(</span><span class=mi>3</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℂ</span><span class=o>),</span><span class=w> </span><span class=o>(</span><span class=mi>5</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℂ</span><span class=o>)}</span><span class=w> </span><span class=o>:</span><span class=bp>=</span><span class=w> </span><span class=k>by</span><span class=w>
</span></span></span><span class=line><span class=ln> 6</span><span class=cl><span class=w>    </span><span class=n>ext</span><span class=w> </span><span class=n>x</span><span class=w>
</span></span></span><span class=line><span class=ln> 7</span><span class=cl><span class=w>    </span><span class=n>simp</span><span class=w> </span><span class=n>only</span><span class=w> </span><span class=o>[</span><span class=n>Set</span><span class=bp>.</span><span class=n>mem_toFinset</span><span class=o>,</span><span class=w> </span><span class=n>Set</span><span class=bp>.</span><span class=n>mem_singleton_iff</span><span class=o>,</span><span class=w> </span><span class=n>Set</span><span class=bp>.</span><span class=n>mem_preimage</span><span class=o>,</span><span class=w> </span><span class=n>Set</span><span class=bp>.</span><span class=n>mem_setOf</span><span class=o>]</span><span class=w>
</span></span></span><span class=line><span class=ln> 8</span><span class=cl><span class=w>    </span><span class=n>rw</span><span class=w> </span><span class=o>[</span><span class=n>h₀</span><span class=o>]</span><span class=w>
</span></span></span><span class=line><span class=ln> 9</span><span class=cl><span class=w>    </span><span class=n>simp</span><span class=w>
</span></span></span><span class=line><span class=ln>10</span><span class=cl><span class=w>  </span><span class=n>rw</span><span class=w> </span><span class=o>[</span><span class=n>this</span><span class=o>]</span><span class=w>
</span></span></span><span class=line><span class=ln>11</span><span class=cl><span class=w>  </span><span class=n>norm_num</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-5",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li><strong>검증 결과:</strong><br>Lean 4 증명 보조기를 통해 최종 증명이 성공적으로 검증됩니다.</li></ul><hr><h3 id=4-알고리즘의-핵심-개념-정리><strong>4. 알고리즘의 핵심 개념 정리</strong></h3><table><thead><tr><th><strong>단계</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>초기 증명 생성</strong></td><td>모델이 전체 증명 코드를 생성하고 Lean 4로 검증</td></tr><tr><td><strong>Truncate-and-Resume</strong></td><td>오류 발생 시 코드 자르기(Truncate) 및 성공한 부분 기반으로 증명 이어가기(Resume)</td></tr><tr><td><strong>MCTS</strong></td><td>탐색(Selection), 확장(Expansion), 시뮬레이션(Simulation), 역전파(Backpropagation) 수행</td></tr><tr><td><strong>내재적 보상</strong></td><td>새로운 증명 경로 발견 시 보상 부여, 할인된 상한 탐색(DUCB)을 통해 탐색 다양성 유지</td></tr><tr><td><strong>최종 증명 검증</strong></td><td>탐색을 통해 최종 증명 생성 후 Lean 4로 검증하여 성공 여부 결정</td></tr></tbody></table><hr><h3 id=결론-1><strong>결론</strong></h3><p>RMaxTS 알고리즘은 기존 몬테카를로 트리 탐색에 내재적 보상 메커니즘을 추가하여 증명 탐색의 효율성과 정확성을 동시에 달성합니다. Truncate-and-Resume 메커니즘을 통해 증명 보조기의 피드백을 효과적으로 활용하며, 탐색과 활용의 균형을 유지하는 UCB 기반의 선택 전략을 적용하여 최적의 증명 경로를 찾습니다. 이로 인해 기존 모델 대비 높은 증명 성공률을 달성할 수 있었습니다.</p><h1 id=q--이-논문에서-사용하는-방법을-학습하기-위하여-어떤-데이터셋이-필요할까-그리고-어떻게-학습을-진행하면-될지-예시를-들어서-아주-자세하게-설명해줘>Q : 이 논문에서 사용하는 방법을 학습하기 위하여 어떤 데이터셋이 필요할까? 그리고 어떻게 학습을 진행하면 될지 예시를 들어서 아주 자세하게 설명해줘</h1><h3 id=1-필요한-데이터셋-종류><strong>1. 필요한 데이터셋 종류</strong></h3><p>DeepSeek-Prover-V1.5는 **형식 정리 증명(formal theorem proving)**을 목표로 하므로, 다양한 수학적 문제와 Lean 4 증명 데이터를 포함하는 데이터셋이 필요합니다. 모델은 <strong>사전 학습(pre-training)</strong>, <strong>감독 학습(supervised fine-tuning)</strong>, <strong>강화 학습(reinforcement learning)</strong> 세 단계를 통해 학습됩니다.</p><hr><h4 id=a-데이터셋-종류-및-구성><strong>A. 데이터셋 종류 및 구성</strong></h4><table><thead><tr><th><strong>데이터셋</strong></th><th><strong>설명</strong></th><th><strong>예시</strong></th></tr></thead><tbody><tr><td><strong>수학 문제 데이터셋</strong></td><td>수학적 문제(고등학교 ~ 대학 수준)의 문제와 정답 데이터. 자연어로 서술된 문제와 정답이 포함됨.</td><td>AMC, AIME, IMO 문제 및 해설</td></tr><tr><td><strong>형식 정리 증명 데이터셋</strong></td><td>Lean 4, Isabelle 등 형식 논리 언어로 작성된 정리 증명 데이터셋.</td><td>Lean 4의 Mathlib, ProofNet, miniF2F 데이터셋</td></tr><tr><td><strong>자연어-형식 증명 데이터셋</strong></td><td>자연어 설명과 해당 Lean 4 증명 코드가 함께 있는 데이터셋. CoT(Chain-of-Thought) 주석이 포함됨.</td><td>DeepSeek-Prover V1 데이터 확장</td></tr><tr><td><strong>증명 보조기 피드백 데이터</strong></td><td>증명 도중 발생하는 오류 메시지 및 중간 증명 상태(tactic state)를 포함하는 데이터.</td><td>Lean 4 증명 오류 메시지 및 상태 데이터</td></tr><tr><td><strong>합성 증명 데이터</strong></td><td>모델이 생성한 증명 데이터를 검증 후 추가하는 합성 데이터.</td><td>모델 자체 생성 증명 데이터</td></tr></tbody></table><hr><h3 id=2-학습-단계별-데이터셋-활용-및-과정><strong>2. 학습 단계별 데이터셋 활용 및 과정</strong></h3><p>DeepSeek-Prover-V1.5의 학습 과정은 다음 세 단계로 구성됩니다.</p><hr><h4 id=a-사전-학습-pre-training><strong>A. 사전 학습 (Pre-training)</strong></h4><p><strong>목적:</strong></p><ul><li>모델이 <strong>수학적 언어</strong>와 **형식 언어(Lean, Isabelle 등)**의 문법과 구조를 이해하도록 학습.</li></ul><p><strong>필요 데이터:</strong></p><ol><li><p><strong>수학 텍스트 데이터:</strong></p><ul><li>수학 논문, 교재, 수학 관련 자연어 데이터를 포함.</li><li>AMC, AIME, IMO 등의 수학 대회 문제 및 해설.</li></ul></li><li><p><strong>코드 데이터:</strong></p><ul><li><strong>Lean 4, Isabelle, Metamath</strong> 등 형식 언어로 작성된 수학 증명 데이터.</li><li><strong>Mathlib4</strong>: Lean 4의 표준 수학 라이브러리.</li></ul></li></ol><p><strong>학습 방법:</strong></p><ul><li><strong>언어 모델 학습(LM objective)</strong> 방식으로 사전 학습:<ul><li>다음 토큰 예측(Next Token Prediction) 또는 마스킹된 토큰 복원(Masked Language Modeling) 방식 사용.</li><li>자연어와 형식 언어 데이터 모두 사용하여, 수학적 표현과 증명 언어의 문법을 동시에 학습.</li></ul></li></ul><p><strong>예시:</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-6 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-6 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-6><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln>1</span><span class=cl><span class=sd>/-- Show that the sum of the first \(n\) natural numbers is \(\frac{n(n+1)}{2}\). -/</span><span class=w>
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=w></span><span class=kn>theorem</span><span class=w> </span><span class=n>sum_natural_numbers</span><span class=w> </span><span class=o>(</span><span class=n>n</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℕ</span><span class=o>)</span><span class=w> </span><span class=o>:</span><span class=w> 
</span></span></span><span class=line><span class=ln>3</span><span class=cl><span class=w>  </span><span class=bp>∑</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=n>Finset</span><span class=bp>.</span><span class=n>range</span><span class=w> </span><span class=o>(</span><span class=n>n</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=mi>1</span><span class=o>),</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=o>(</span><span class=n>n</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=mi>1</span><span class=o>)</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:</span><span class=bp>=</span><span class=w> </span><span class=k>by</span><span class=w>
</span></span></span><span class=line><span class=ln>4</span><span class=cl><span class=w>  </span><span class=n>induction</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=n>hd</span><span class=w>
</span></span></span><span class=line><span class=ln>5</span><span class=cl><span class=w>  </span><span class=bp>·</span><span class=w> </span><span class=n>simp</span><span class=w>
</span></span></span><span class=line><span class=ln>6</span><span class=cl><span class=w>  </span><span class=bp>·</span><span class=w> </span><span class=n>simp</span><span class=w> </span><span class=o>[</span><span class=n>hd</span><span class=o>]</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-6",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><ul><li>모델은 위와 같은 Lean 4 코드를 이해하고 문법 및 수학적 구조를 파악하도록 학습합니다.</li></ul><hr><h4 id=b-감독-학습-supervised-fine-tuning><strong>B. 감독 학습 (Supervised Fine-tuning)</strong></h4><p><strong>목적:</strong></p><ul><li>모델이 <strong>형식 증명 코드를 생성</strong>하는 능력을 향상.</li><li><strong>자연어 문제 설명과 증명 코드</strong>의 매칭 학습.</li></ul><p><strong>필요 데이터:</strong></p><ol><li><p><strong>문제-증명 쌍 데이터:</strong></p><ul><li>자연어로 작성된 수학 문제와 해당 문제를 해결하는 <strong>Lean 4 증명 코드</strong>.</li><li><strong>DeepSeek-Prover V1</strong>에서 생성된 데이터 + 새로 수집/생성된 데이터.</li></ul></li><li><p><strong>Chain-of-Thought (CoT) 주석 추가 데이터:</strong></p><ul><li>증명 코드에 <strong>단계별 자연어 설명</strong>을 추가한 데이터.</li><li>예: 각 증명 단계 앞에 수학적 추론을 설명하는 주석 삽입.</li></ul></li><li><p><strong>중간 증명 상태(Tactic State) 포함 데이터:</strong></p><ul><li>증명 도중의 <strong>중간 상태</strong>를 포함하여 모델이 상태 기반으로 다음 증명 단계를 예측하도록 학습.</li></ul></li></ol><p><strong>데이터셋 예시:</strong></p><ol><li><p><strong>문제와 증명 코드:</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-7 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-7 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-7><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln>1</span><span class=cl><span class=sd>/-- Compute the sum of roots of the equation \((2x + 3)(x - 4) + (2x + 3)(x - 6) = 0\). Show that it is \(7/2\). -/</span><span class=w>
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=w></span><span class=kn>theorem</span><span class=w> </span><span class=n>sum_of_roots</span><span class=w> </span><span class=o>:</span><span class=w> 
</span></span></span><span class=line><span class=ln>3</span><span class=cl><span class=w>  </span><span class=bp>∑</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=o>{</span><span class=bp>-</span><span class=o>(</span><span class=mi>3</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=o>),</span><span class=w> </span><span class=mi>5</span><span class=o>},</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:</span><span class=bp>=</span><span class=w> </span><span class=k>by</span><span class=w>
</span></span></span><span class=line><span class=ln>4</span><span class=cl><span class=w>  </span><span class=n>simp</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-7",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li><li><p><strong>Chain-of-Thought (CoT) 주석 포함:</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-8 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-8 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-8><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln>1</span><span class=cl><span class=sd>/-- To solve \((2x + 3)(x - 4) + (2x + 3)(x - 6) = 0\), we factor and find roots. -/</span><span class=w>
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=w></span><span class=kn>theorem</span><span class=w> </span><span class=n>sum_of_roots</span><span class=w> </span><span class=o>:</span><span class=w> 
</span></span></span><span class=line><span class=ln>3</span><span class=cl><span class=w>  </span><span class=bp>∑</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=o>{</span><span class=bp>-</span><span class=o>(</span><span class=mi>3</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=o>),</span><span class=w> </span><span class=mi>5</span><span class=o>},</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:</span><span class=bp>=</span><span class=w> </span><span class=k>by</span><span class=w>
</span></span></span><span class=line><span class=ln>4</span><span class=cl><span class=w>  </span><span class=c1>-- Factor the expression</span><span class=w>
</span></span></span><span class=line><span class=ln>5</span><span class=cl><span class=w>  </span><span class=n>simp</span><span class=w>
</span></span></span><span class=line><span class=ln>6</span><span class=cl><span class=w>  </span><span class=c1>-- The roots are -3/2 and 5</span><span class=w>
</span></span></span><span class=line><span class=ln>7</span><span class=cl><span class=w>  </span><span class=n>norm_num</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-8",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li><li><p><strong>중간 증명 상태(Tactic State) 포함:</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-9 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-9 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-9><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln>1</span><span class=cl><span class=c>/-</span><span class=cm> tactic state:
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=cm>⊢ ∑ x in {-(3 / 2), 5}, x = 7 / 2
</span></span></span><span class=line><span class=ln>3</span><span class=cl><span class=cm>-/</span><span class=w>
</span></span></span><span class=line><span class=ln>4</span><span class=cl><span class=w></span><span class=n>simp</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-9",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li></ol><p><strong>학습 방법:</strong></p><ul><li><strong>감독 학습(Supervised Learning)</strong> 방식으로 학습:<ul><li>모델에 **문제(자연어)**와 **증명 코드(Lean 4)**를 입력하여 다음 증명 단계를 예측하도록 지도 학습.</li><li><strong>Chain-of-Thought (CoT)</strong> 주석이 포함된 데이터로 모델의 수학적 추론 능력 강화.</li><li><strong>Tactic State</strong> 정보를 포함하여, 중간 상태 기반으로 다음 증명 단계 생성 능력 향상.</li></ul></li></ul><hr><h4 id=c-강화-학습-reinforcement-learning-from-proof-assistant-feedback><strong>C. 강화 학습 (Reinforcement Learning from Proof Assistant Feedback)</strong></h4><p><strong>목적:</strong></p><ul><li>Lean 4 증명 보조기의 <strong>검증 피드백</strong>을 활용하여 모델의 증명 생성 능력을 강화.</li><li>증명 성공 여부를 <strong>보상 신호</strong>로 사용하여, 모델이 정확한 증명을 생성하도록 유도.</li></ul><p><strong>필요 데이터:</strong></p><ol><li><p><strong>Lean 4 증명 검증 피드백 데이터:</strong></p><ul><li>모델이 생성한 증명 코드에 대한 Lean 4의 검증 결과(성공/실패).</li><li><strong>오류 메시지</strong>와 <strong>성공한 증명 경로</strong> 데이터를 포함.</li></ul></li><li><p><strong>적절한 난이도의 문제 데이터:</strong></p><ul><li>모델이 일부 성공하고 일부 실패하는 문제를 선택하여 학습 효율 극대화.</li><li>너무 쉬운 문제는 보상이 부족하고, 너무 어려운 문제는 학습이 어려움.</li></ul></li></ol><p><strong>보상 신호 설계:</strong></p><ul><li><strong>성공한 증명:</strong> 보상 1</li><li><strong>실패한 증명:</strong> 보상 0</li><li><strong>새로운 증명 경로 발견:</strong> 내재적 보상 1 (탐색 다양성 유도)</li></ul><p><strong>학습 방법:</strong></p><ul><li><strong>GRPO(Group Relative Policy Optimization)</strong> 알고리즘을 사용하여 강화 학습 수행.<ul><li>여러 증명 후보를 생성하고, Lean 4 검증을 통해 <strong>상대적 성능</strong>을 평가.</li><li>보상 기반으로 모델의 정책을 최적화.</li></ul></li></ul><p><strong>예시:</strong></p><ol><li><p><strong>증명 시도 및 검증:</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-10 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-10 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-10><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln>1</span><span class=cl><span class=kn>theorem</span><span class=w> </span><span class=n>sum_of_roots</span><span class=w> </span><span class=o>:</span><span class=w> 
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=w>  </span><span class=bp>∑</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=o>{</span><span class=bp>-</span><span class=o>(</span><span class=mi>3</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=o>),</span><span class=w> </span><span class=mi>5</span><span class=o>},</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:</span><span class=bp>=</span><span class=w> </span><span class=k>by</span><span class=w>
</span></span></span><span class=line><span class=ln>3</span><span class=cl><span class=w>  </span><span class=n>simp</span><span class=w> </span><span class=c1>-- 성공</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-10",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li><li><p><strong>실패한 증명 시도:</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-11 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-11 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-11><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln>1</span><span class=cl><span class=kn>theorem</span><span class=w> </span><span class=n>sum_of_roots</span><span class=w> </span><span class=o>:</span><span class=w> 
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=w>  </span><span class=bp>∑</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=o>{</span><span class=bp>-</span><span class=o>(</span><span class=mi>3</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=o>),</span><span class=w> </span><span class=mi>5</span><span class=o>},</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:</span><span class=bp>=</span><span class=w> </span><span class=k>by</span><span class=w>
</span></span></span><span class=line><span class=ln>3</span><span class=cl><span class=w>  </span><span class=n>norm_num</span><span class=w> </span><span class=c1>-- 실패 (오류 메시지 반환)</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-11",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li><li><p><strong>강화 학습 피드백 반영:</strong></p><ul><li>성공한 증명 경로에 <strong>보상 1</strong> 부여.</li><li>실패한 증명 경로는 보상 없이 <strong>다른 경로 탐색</strong> 유도.</li></ul></li></ol><hr><h3 id=3-전체-학습-프로세스-예시><strong>3. 전체 학습 프로세스 예시</strong></h3><ol><li><p><strong>데이터 수집 및 준비:</strong></p><ul><li><strong>Mathlib4</strong>와 <strong>ProofNet</strong>, <strong>miniF2F</strong>에서 문제-증명 쌍 수집.</li><li>DeepSeek-Prover V1로 증명 데이터를 합성하고 검증 후 추가.</li></ul></li><li><p><strong>사전 학습:</strong></p><ul><li>Lean 4 코드와 자연어 수학 데이터를 사용하여 모델의 기본 수학 언어 및 증명 언어 이해 학습.</li></ul></li><li><p><strong>감독 학습:</strong></p><ul><li>문제-증명 쌍 데이터로 Lean 4 증명 생성 능력 강화.</li><li>CoT 주석과 Tactic State 정보 포함 데이터로 추론 능력 강화.</li></ul></li><li><p><strong>강화 학습:</strong></p><ul><li>모델이 생성한 증명 코드를 Lean 4로 검증하고, 성공/실패 여부를 보상으로 사용.</li><li>GRPO 알고리즘을 통해 모델의 증명 생성 정책 최적화.</li></ul></li><li><p><strong>최종 검증 및 성능 평가:</strong></p><ul><li><strong>miniF2F</strong>와 <strong>ProofNet</strong> 벤치마크로 모델 성능 평가.</li><li><strong>Pass@K</strong>(K번 시도 내 성공률) 지표로 성능 측정.</li></ul></li></ol><hr><h3 id=결론-2><strong>결론</strong></h3><p>DeepSeek-Prover-V1.5의 학습을 위해서는 <strong>수학 문제</strong>, <strong>형식 증명 데이터</strong>, <strong>자연어-증명 매핑 데이터</strong>, 그리고 <strong>증명 보조기의 피드백 데이터</strong>가 필요합니다. 이 데이터들을 활용하여 <strong>사전 학습</strong>, <strong>감독 학습</strong>, <strong>강화 학습</strong>의 3단계로 모델을 학습하며, 각 단계에서 모델의 수학적 추론 및 증명 생성 능력을 점진적으로 향상시킵니다.</p><h1 id=q--이-논문에서-제시한-결과를-자세하게-보고-다른-방법론에-비하여-특출난-점과-논문에서-제기하는-어떠한-방법이-이러한-결과를-도출하게-되었는지-논문에서-제시하는-이유와-너의-생각을-알려줘>Q : 이 논문에서 제시한 결과를 자세하게 보고 다른 방법론에 비하여 특출난 점과 논문에서 제기하는 어떠한 방법이 이러한 결과를 도출하게 되었는지 논문에서 제시하는 이유와 너의 생각을 알려줘</h1><h3 id=1-논문의-결과-요약><strong>1. 논문의 결과 요약</strong></h3><p>DeepSeek-Prover-V1.5는 형식 정리 증명(formal theorem proving) 분야에서 <strong>miniF2F</strong>(고등학교 수준)와 <strong>ProofNet</strong>(대학 수준) 벤치마크에서 새로운 **최고 성능(state-of-the-art)**을 달성했습니다.</p><hr><h4 id=a-주요-성능-결과><strong>A. 주요 성능 결과</strong></h4><table><thead><tr><th><strong>모델</strong></th><th><strong>miniF2F (고등학교 수준)</strong></th><th><strong>ProofNet (대학 수준)</strong></th></tr></thead><tbody><tr><td><strong>DeepSeek-Prover V1</strong></td><td>50.0%</td><td>15.9%</td></tr><tr><td><strong>DeepSeek-Prover V1.5 (단일 패스)</strong></td><td>60.2%</td><td>23.7%</td></tr><tr><td><strong>DeepSeek-Prover V1.5 + RMaxTS</strong></td><td><strong>63.5%</strong></td><td><strong>25.3%</strong></td></tr><tr><td><strong>InternLM2-StepProver</strong></td><td>54.5%</td><td>18.1%</td></tr><tr><td><strong>ReProver</strong></td><td>26.5%</td><td>13.8%</td></tr><tr><td><strong>GPT-f</strong></td><td>36.6%</td><td>-</td></tr><tr><td><strong>Llemma-7B</strong></td><td>26.2%</td><td>-</td></tr></tbody></table><p><strong>핵심 성과:</strong></p><ul><li><strong>miniF2F 벤치마크</strong>에서 기존 최고 성능(InternLM2-StepProver의 54.5%)을 **63.5%**로 <strong>9%p</strong> 이상 상회.</li><li><strong>ProofNet 벤치마크</strong>에서도 18.1%(InternLM2) 대비 **25.3%**로 <strong>7%p</strong> 이상 향상.</li></ul><hr><h3 id=2-기존-방법론-대비-특출난-점><strong>2. 기존 방법론 대비 특출난 점</strong></h3><p>DeepSeek-Prover-V1.5의 성능 향상은 주로 <strong>새로운 학습 방법론</strong>과 <strong>탐색 전략</strong>에서 비롯되었습니다. 기존 방법론과의 차별화된 요소는 다음과 같습니다.</p><hr><h4 id=a-기존-방법론과의-비교><strong>A. 기존 방법론과의 비교</strong></h4><table><thead><tr><th><strong>기존 방법론</strong></th><th><strong>특징</strong></th><th><strong>제한점</strong></th></tr></thead><tbody><tr><td><strong>Proof-Step Generation (GPT-f, ReProver)</strong></td><td><strong>단계별로 증명</strong>을 생성하고 검증, 트리 탐색 기반.</td><td>느린 탐색 속도, 긴 증명 시 오류 누적 가능.</td></tr><tr><td><strong>Whole-Proof Generation (DeepSeek V1)</strong></td><td><strong>전체 증명</strong>을 한 번에 생성, 빠른 증명 생성 가능.</td><td>중간 단계 오류 발생 시 수정 어려움.</td></tr><tr><td><strong>Hybrid (InternLM2-StepProver)</strong></td><td>증명 보조기의 피드백을 활용하여 <strong>단계별 탐색</strong>과 <strong>전체 증명</strong>을 결합.</td><td>탐색의 다양성이 부족하고 탐색 효율성 제한.</td></tr></tbody></table><hr><h4 id=b-deepseek-prover-v15의-차별화된-접근법><strong>B. DeepSeek-Prover-V1.5의 차별화된 접근법</strong></h4><table><thead><tr><th><strong>DeepSeek-Prover-V1.5의 접근법</strong></th><th><strong>설명</strong></th><th><strong>기여 요소</strong></th></tr></thead><tbody><tr><td><strong>RMaxTS (탐색 지향 MCTS)</strong></td><td>내재적 보상 기반의 <strong>탐색 지향 몬테카를로 트리 탐색</strong>으로 탐색 경로의 다양성 확보.</td><td>증명 경로의 다양한 탐색 → 더 높은 증명 성공률.</td></tr><tr><td><strong>Truncate-and-Resume 메커니즘</strong></td><td>오류 발생 시 증명을 <strong>부분적으로 자르고(Truncate)</strong>, 성공한 부분부터 <strong>다시 증명(Resume)</strong>.</td><td>증명 실패 시에도 중간 결과를 활용하여 더 효율적인 탐색.</td></tr><tr><td><strong>Proof Assistant Feedback (RLPAF)</strong></td><td>Lean 4 증명 보조기의 피드백을 활용한 <strong>강화 학습</strong>으로 모델의 증명 능력 향상.</td><td>증명 성공 여부를 통한 직접적인 학습 신호 제공.</td></tr><tr><td><strong>Chain-of-Thought (CoT) 주석 사용</strong></td><td>증명 코드에 <strong>자연어 추론(Chain of Thought)</strong> 주석을 추가하여 모델의 수학적 추론 능력 강화.</td><td>모델이 증명 과정의 논리적 흐름을 더 잘 이해하도록 유도.</td></tr></tbody></table><hr><h3 id=3-논문에서-제시한-성능-향상의-이유><strong>3. 논문에서 제시한 성능 향상의 이유</strong></h3><p>논문에서는 DeepSeek-Prover-V1.5의 성능 향상이 주로 <strong>다양한 탐색 전략</strong>과 <strong>증명 보조기 피드백 활용</strong>에서 기인한다고 설명합니다.</p><hr><h4 id=a-탐색-지향-몬테카를로-트리-탐색-rmaxts><strong>A. 탐색 지향 몬테카를로 트리 탐색 (RMaxTS)</strong></h4><ul><li>**내재적 보상(Intrinsic Reward)**을 도입하여 <strong>탐색 경로의 다양성</strong>을 확보.</li><li>기존 MCTS는 보상이 희소한 증명 문제에서 성능이 저하되는데, <strong>RMaxTS</strong>는 새로운 증명 경로를 발견할 때마다 보상을 부여하여 이 문제를 해결.</li></ul><p><strong>논문 주장:</strong></p><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p>&ldquo;By assigning intrinsic rewards, this algorithm encourages the prover agent to generate diverse planning paths, thereby fostering extensive exploration of the proof space.&rdquo;</p></div></blockquote><hr><h4 id=b-truncate-and-resume-메커니즘><strong>B. Truncate-and-Resume 메커니즘</strong></h4><ul><li>증명 실패 시 전체 증명을 폐기하지 않고, <strong>성공한 부분을 기반</strong>으로 증명을 이어나감.</li><li>이를 통해 증명 보조기 피드백을 효과적으로 활용하고, <strong>탐색 효율성</strong>을 극대화.</li></ul><p><strong>논문 주장:</strong></p><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p>&ldquo;Our truncate-and-resume mechanism acts as a state-action abstraction, seamlessly integrating the tree search process into the whole-proof generation framework.&rdquo;</p></div></blockquote><hr><h4 id=c-증명-보조기-피드백을-활용한-강화-학습-rlpaf><strong>C. 증명 보조기 피드백을 활용한 강화 학습 (RLPAF)</strong></h4><ul><li>Lean 4 증명 보조기의 검증 피드백을 통해 <strong>정확한 증명 생성</strong>을 강화.</li><li>기존에는 <strong>감독 학습</strong>에 의존했지만, 강화 학습을 통해 <strong>증명 성공 여부</strong>를 직접적인 학습 신호로 활용.</li></ul><p><strong>논문 주장:</strong></p><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p>&ldquo;Verification results from the Lean prover serve as reward supervision, enhancing the model’s alignment with the formal specifications of the verification system.&rdquo;</p></div></blockquote><hr><h3 id=4-나의-생각-성능-향상의-주요-요인-분석><strong>4. 나의 생각: 성능 향상의 주요 요인 분석</strong></h3><hr><h4 id=a-탐색의-다양성과-효율성의-균형><strong>A. 탐색의 다양성과 효율성의 균형</strong></h4><ul><li><strong>RMaxTS</strong>와 <strong>Truncate-and-Resume</strong> 메커니즘은 탐색의 <strong>다양성</strong>과 <strong>효율성</strong> 사이의 균형을 이룹니다.<ul><li>기존 트리 탐색 방법론은 <strong>탐색 다양성</strong>이 부족하거나, 탐색 범위를 늘리면 <strong>계산 비용</strong>이 급격히 증가하는 문제가 있었습니다.</li><li>RMaxTS는 <strong>내재적 보상</strong>을 통해 다양한 증명 경로를 탐색하면서도, <strong>성공한 증명 경로</strong>를 활용하여 탐색의 효율성을 유지합니다.</li></ul></li></ul><p><strong>나의 생각:</strong></p><ul><li><strong>탐색 다양성</strong>은 특히 복잡한 수학 문제에서 중요합니다. 문제의 증명 경로가 다수 존재할 수 있으며, 특정 경로만 탐색하는 기존 방법론은 최적의 증명 경로를 놓칠 수 있습니다.</li><li><strong>RMaxTS</strong>는 이런 탐색의 폭을 넓혀, 기존 모델이 발견하지 못한 증명 경로를 찾는 데 기여한 것으로 보입니다.</li></ul><hr><h4 id=b-증명-보조기-피드백의-활용><strong>B. 증명 보조기 피드백의 활용</strong></h4><ul><li>증명 보조기의 피드백을 활용한 **강화 학습(RLPAF)**은 DeepSeek-Prover-V1.5의 성능 향상에 중요한 역할을 했습니다.<ul><li>기존에는 증명 데이터셋에 대한 <strong>감독 학습</strong>만으로 모델을 학습했지만, 실제 증명 환경에서 발생하는 <strong>오류 메시지</strong>와 <strong>검증 피드백</strong>을 활용하여 모델의 증명 능력을 실질적으로 개선했습니다.</li></ul></li></ul><p><strong>나의 생각:</strong></p><ul><li><strong>증명 보조기의 피드백</strong>은 모델이 증명 과정에서 발생할 수 있는 오류를 인식하고, 이를 수정하는 능력을 키우는 데 중요한 역할을 합니다.</li><li>이러한 강화 학습 접근법은 모델이 실제 증명 환경에 더 잘 적응하도록 돕고, 결과적으로 <strong>더 높은 증명 성공률</strong>을 달성하는 데 기여한 것으로 보입니다.</li></ul><hr><h4 id=c-chain-of-thought-cot-주석의-영향><strong>C. Chain-of-Thought (CoT) 주석의 영향</strong></h4><ul><li><strong>Chain-of-Thought(CoT)</strong> 주석은 모델의 <strong>수학적 추론 능력</strong>을 강화했습니다.<ul><li>CoT 주석을 통해 모델이 각 증명 단계의 논리적 흐름을 더 잘 이해하도록 유도했으며, 이는 복잡한 증명 문제를 해결하는 데 중요한 역할을 했습니다.</li></ul></li></ul><p><strong>나의 생각:</strong></p><ul><li><strong>CoT 주석</strong>은 모델이 단순히 증명 코드를 생성하는 것에서 나아가, 각 증명 단계의 <strong>논리적 이유</strong>를 이해하도록 돕습니다.</li><li>이는 특히 <strong>복잡한 수학 문제</strong>에서 모델의 성능을 크게 향상시켰으며, <strong>ProofNet(대학 수준)</strong> 벤치마크에서의 성능 향상에 기여한 것으로 보입니다.</li></ul><hr><h3 id=5-결론><strong>5. 결론</strong></h3><p>DeepSeek-Prover-V1.5는 기존 모델과 비교하여 <strong>탐색 다양성 확보</strong>, <strong>증명 보조기 피드백 활용</strong>, 그리고 <strong>수학적 추론 능력 강화</strong>를 통해 형식 정리 증명 분야에서 **새로운 최고 성능(state-of-the-art)**을 달성했습니다. 특히 <strong>RMaxTS</strong>와 <strong>Truncate-and-Resume 메커니즘</strong>은 탐색의 효율성과 정확성을 동시에 달성하는 데 중요한 역할을 했습니다. 이러한 방법론은 향후 <strong>더 복잡한 수학 문제</strong>나 <strong>다양한 형식 논리 시스템</strong>에서도 높은 성능을 기대할 수 있는 가능성을 보여줍니다.</p><h1 id=q--이-논문에서-제시된-방법을-실제로-사용하려면-기존-방법에서-어떠한-구현이-추가적으로-필요하고-이러한-구현에-소모되는-공수-및-연산에-필요한-컴퓨팅-자원의-크기에-대해서-계산해줄-수-있겠니>Q : 이 논문에서 제시된 방법을 실제로 사용하려면 기존 방법에서 어떠한 구현이 추가적으로 필요하고 이러한 구현에 소모되는 공수 및 연산에 필요한 컴퓨팅 자원의 크기에 대해서 계산해줄 수 있겠니?</h1><h3 id=1-기존-방법-대비-추가적인-구현-요소><strong>1. 기존 방법 대비 추가적인 구현 요소</strong></h3><p>DeepSeek-Prover-V1.5를 실제로 적용하려면 기존의 형식 정리 증명 시스템에 <strong>탐색 알고리즘</strong>, <strong>강화 학습 루프</strong>, <strong>증명 보조기와의 인터페이스</strong> 등 여러 추가적인 구현이 필요합니다.</p><hr><h4 id=a-추가적으로-필요한-구현-요소><strong>A. 추가적으로 필요한 구현 요소</strong></h4><table><thead><tr><th><strong>추가 구현 요소</strong></th><th><strong>설명</strong></th><th><strong>기존 방법과의 차이</strong></th></tr></thead><tbody><tr><td><strong>RMaxTS (탐색 지향 몬테카를로 트리 탐색)</strong></td><td>기존 MCTS(Monte-Carlo Tree Search)를 확장하여 <strong>내재적 보상</strong> 및 <strong>트리 병렬화</strong> 기능을 추가 구현해야 함.</td><td>기존 MCTS 대비 <strong>탐색 경로 다양성</strong> 확보를 위한 추가 로직 필요.</td></tr><tr><td><strong>Truncate-and-Resume 메커니즘</strong></td><td>증명 실패 시 <strong>성공한 부분을 기반</strong>으로 증명을 이어가는 메커니즘.</td><td>기존에는 증명 실패 시 전체를 다시 생성해야 했음.</td></tr><tr><td><strong>Lean 4 증명 보조기와의 인터페이스</strong></td><td>증명 코드를 Lean 4로 전달하고, **검증 피드백(성공/실패, 오류 메시지)**를 실시간으로 받아오는 인터페이스 구축.</td><td>기존에는 증명 보조기 피드백을 학습 과정에서 적극 활용하지 않음.</td></tr><tr><td><strong>강화 학습 루프 (RLPAF)</strong></td><td><strong>Lean 4 피드백 기반 강화 학습</strong> 루프를 구현. 증명 성공 여부를 보상으로 사용하여 모델을 업데이트하는 구조 필요.</td><td>기존에는 감독 학습 위주로 진행되었음.</td></tr><tr><td><strong>Chain-of-Thought(CoT) 주석 처리</strong></td><td>증명 코드에 **자연어 기반 추론(CoT)**을 삽입하는 데이터 전처리 및 후처리 로직 필요.</td><td>CoT 주석을 통해 모델의 수학적 추론 능력을 강화하는 로직 필요.</td></tr></tbody></table><hr><h3 id=2-구현에-소요되는-공수><strong>2. 구현에 소요되는 공수</strong></h3><p>DeepSeek-Prover-V1.5의 전체 구현 공수는 <strong>탐색 알고리즘 개발</strong>, <strong>증명 보조기와의 통합</strong>, <strong>강화 학습 환경 구축</strong>, 그리고 <strong>데이터셋 준비</strong>로 나눌 수 있습니다.</p><hr><h4 id=a-개발-공수-추산-팀-기준><strong>A. 개발 공수 추산 (팀 기준)</strong></h4><table><thead><tr><th><strong>작업 항목</strong></th><th><strong>구현 세부 사항</strong></th><th><strong>예상 소요 시간</strong></th></tr></thead><tbody><tr><td><strong>탐색 알고리즘(RMaxTS) 개발</strong></td><td>MCTS 기반 탐색 구조 개발, 내재적 보상 로직 추가, 병렬화 최적화.</td><td>3~4주</td></tr><tr><td><strong>Truncate-and-Resume 구현</strong></td><td>증명 실패 시 코드 절단 및 이어쓰기 기능 개발, Lean 4 피드백 통합.</td><td>2~3주</td></tr><tr><td><strong>Lean 4 증명 보조기 인터페이스</strong></td><td>증명 코드 제출, 피드백 수집 및 처리, 증명 검증 결과 자동화.</td><td>2주</td></tr><tr><td><strong>강화 학습(RLPAF) 루프 개발</strong></td><td>GRPO 알고리즘 구현, 증명 성공 여부를 보상으로 사용하는 학습 루프 구축.</td><td>3~4주</td></tr><tr><td><strong>Chain-of-Thought(CoT) 처리</strong></td><td>데이터셋에 자연어 추론 주석 삽입 및 증명 코드와의 매핑 처리.</td><td>2주</td></tr><tr><td><strong>데이터셋 준비 및 전처리</strong></td><td>Mathlib, miniF2F, ProofNet 등 데이터셋 수집 및 Lean 4 변환, 증명 보조기 피드백 포함 데이터 생성.</td><td>3~4주</td></tr></tbody></table><ul><li><strong>총 예상 개발 기간:</strong> 약 <strong>12~15주</strong> (4인 개발팀 기준, 병렬 작업 포함 시 단축 가능).</li></ul><hr><h3 id=3-컴퓨팅-자원-소요-추산><strong>3. 컴퓨팅 자원 소요 추산</strong></h3><p>DeepSeek-Prover-V1.5의 학습과 추론 과정은 <strong>대규모 언어 모델 학습</strong>, <strong>강화 학습 루프</strong>, <strong>몬테카를로 트리 탐색</strong> 등으로 인해 상당한 컴퓨팅 자원이 요구됩니다.</p><hr><h4 id=a-학습-단계별-자원-소요><strong>A. 학습 단계별 자원 소요</strong></h4><table><thead><tr><th><strong>단계</strong></th><th><strong>설명</strong></th><th><strong>필요 컴퓨팅 자원</strong></th></tr></thead><tbody><tr><td><strong>사전 학습 (Pre-training)</strong></td><td>수학 데이터와 코드(Lean, Isabelle)로 모델을 사전 학습.</td><td><strong>8~16 GPU (A100 40GB)</strong>, 수 주 소요</td></tr><tr><td><strong>감독 학습 (Supervised Fine-tuning)</strong></td><td>문제-증명 쌍 데이터로 증명 생성 능력 강화. CoT 주석 및 tactic state 포함.</td><td><strong>4~8 GPU (A100 40GB)</strong>, 1~2주 소요</td></tr><tr><td><strong>강화 학습 (RLPAF)</strong></td><td>Lean 4 증명 보조기의 검증 피드백을 활용한 강화 학습. GRPO 알고리즘 기반 학습 루프 구현.</td><td><strong>4 GPU (A100 40GB)</strong> + <strong>Lean 클러스터(CPU)</strong>, 1~2주 소요</td></tr><tr><td><strong>탐색(RMaxTS) 및 추론</strong></td><td>몬테카를로 트리 탐색(MCTS) 기반 증명 생성. 병렬 탐색 및 증명 검증 필요.</td><td><strong>4 GPU + 수천 개의 CPU 코어</strong></td></tr></tbody></table><hr><h4 id=b-자원-소모량-계산><strong>B. 자원 소모량 계산</strong></h4><p><strong>1. 사전 학습 (Pre-training):</strong></p><ul><li>데이터 크기: 약 <strong>100GB</strong> 이상의 수학 및 코드 데이터셋.</li><li>모델 크기: <strong>7B 파라미터</strong> 모델 학습.</li><li><strong>A100 40GB GPU 8개</strong>로 사전 학습 시, 약 <strong>2~3주</strong> 소요.</li></ul><p><strong>2. 강화 학습 (RLPAF):</strong></p><ul><li><strong>GRPO 알고리즘</strong> 기반으로 학습.</li><li><strong>A100 40GB GPU 4개</strong>로 약 <strong>1~2주</strong> 소요.</li><li>Lean 4 증명 보조기 검증을 위한 <strong>수천 개의 CPU 코어</strong> 필요.</li></ul><p><strong>3. RMaxTS 탐색 및 증명 검증:</strong></p><ul><li><strong>트리 병렬화</strong> 및 <strong>Lean 4 증명 검증</strong>을 위해 대규모 클러스터 필요.<ul><li>트리 탐색: <strong>256개 탐색 프로세스</strong> 병렬 수행.</li><li>증명 검증: <strong>Lean 4 REPL</strong>을 통한 실시간 검증, 각 검증 프로세스는 <strong>개별 CPU 코어</strong> 사용.</li></ul></li><li><strong>GPU 자원:</strong> 탐색 알고리즘 실행을 위한 <strong>4개 A100 GPU</strong> 필요.</li></ul><hr><h3 id=4-실제-적용-시-고려할-점><strong>4. 실제 적용 시 고려할 점</strong></h3><ol><li><p><strong>컴퓨팅 자원 최적화 필요성:</strong></p><ul><li>대규모 증명 탐색과 강화 학습은 <strong>높은 비용</strong>과 <strong>시간</strong> 소모를 유발.</li><li><strong>분산 학습</strong> 및 <strong>효율적인 탐색 전략</strong>을 통해 자원 최적화 필요.</li></ul></li><li><p><strong>Lean 4 증명 보조기와의 호환성:</strong></p><ul><li>Lean 4의 <strong>버전 관리</strong> 및 <strong>업데이트</strong>에 따라 인터페이스 수정 필요.</li><li>대규모 증명 검증 시 <strong>병렬 처리 최적화</strong> 필요.</li></ul></li><li><p><strong>모델 경량화 및 추론 최적화:</strong></p><ul><li>실제 사용을 위해서는 모델을 경량화하거나 <strong>추론 속도</strong> 최적화 필요.</li><li><strong>양자화(quantization)</strong> 또는 <strong>지식 distillation</strong> 기법 적용 가능.</li></ul></li></ol><hr><h3 id=결론-3><strong>결론</strong></h3><p>DeepSeek-Prover-V1.5를 실제로 적용하기 위해서는 기존 증명 생성 모델에 <strong>탐색 지향 몬테카를로 트리 탐색(RMaxTS)</strong>, <strong>증명 보조기 피드백 기반 강화 학습(RLPAF)</strong>, 그리고 <strong>트리 탐색 병렬화</strong> 등의 기능을 추가로 구현해야 합니다. 이러한 구현에는 약 <strong>12~15주</strong>의 개발 공수와 <strong>A100 GPU 8개 이상</strong>, <strong>수천 개의 CPU 코어</strong>가 필요합니다. 또한, 대규모 탐색 및 강화 학습 과정은 <strong>컴퓨팅 비용</strong>과 <strong>시간</strong> 소모가 크므로, <strong>효율적인 분산 처리</strong> 및 <strong>자원 최적화 전략</strong>이 중요합니다.</p><h1 id=q--이-논문의-입력데이터와-추론-과정에-대해서-예시를-들어-아주-자세하게-설명해-주겠니-추가적으로-모델아키텍처의-구성-및-모델을-구성하는-연산과-메모리-요구량-컴퓨팅-요구량-대해서도-설명해줘>Q : 이 논문의 입력데이터와 추론 과정에 대해서 예시를 들어 아주 자세하게 설명해 주겠니? 추가적으로 모델아키텍처의 구성 및 모델을 구성하는 연산과 메모리 요구량 컴퓨팅 요구량 대해서도 설명해줘</h1><h3 id=1-입력-데이터와-추론-과정><strong>1. 입력 데이터와 추론 과정</strong></h3><p>DeepSeek-Prover-V1.5의 입력 데이터와 추론 과정은 <strong>자연어 문제</strong>, <strong>형식 증명 코드(Lean 4)</strong>, 그리고 <strong>증명 보조기 피드백</strong>을 기반으로 이루어집니다. 모델은 <strong>Chain-of-Thought(CoT)</strong> 주석과 <strong>중간 증명 상태(Tactic State)</strong> 정보를 활용하여 증명을 생성하고, Lean 4 증명 보조기를 통해 검증합니다.</p><hr><h4 id=a-입력-데이터-예시><strong>A. 입력 데이터 예시</strong></h4><ol><li><p><strong>자연어 문제 설명 + Lean 4 증명 코드</strong></p><p><strong>문제:</strong><br>[
(2x + 3)(x - 4) + (2x + 3)(x - 6) = 0
]
이 방정식의 모든 근의 합을 구하시오. 결과가 (\frac{7}{2})임을 증명하시오.</p><p><strong>입력 데이터 (자연어 + Lean 4 코드):</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-12 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-12 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-12><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln>1</span><span class=cl><span class=sd>/-- Compute the sum of roots of the equation \((2x + 3)(x - 4) + (2x + 3)(x - 6) = 0\). Show that it is \(7/2\). -/</span><span class=w>
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=w></span><span class=kn>theorem</span><span class=w> </span><span class=n>sum_of_roots</span><span class=w> </span><span class=o>:</span><span class=w> 
</span></span></span><span class=line><span class=ln>3</span><span class=cl><span class=w>  </span><span class=bp>∑</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=o>{</span><span class=bp>-</span><span class=o>(</span><span class=mi>3</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=o>),</span><span class=w> </span><span class=mi>5</span><span class=o>},</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:</span><span class=bp>=</span><span class=w> </span><span class=k>by</span><span class=w>
</span></span></span><span class=line><span class=ln>4</span><span class=cl><span class=w>  </span><span class=c1>-- Factor the expression and solve for roots</span><span class=w>
</span></span></span><span class=line><span class=ln>5</span><span class=cl><span class=w>  </span><span class=n>simp</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-12",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li><li><p><strong>Chain-of-Thought (CoT) 주석 포함 입력:</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-13 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-13 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-13><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln>1</span><span class=cl><span class=sd>/-- To solve \((2x + 3)(x - 4) + (2x + 3)(x - 6) = 0\), we factor the expression and find the roots. -/</span><span class=w>
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=w></span><span class=kn>theorem</span><span class=w> </span><span class=n>sum_of_roots</span><span class=w> </span><span class=o>:</span><span class=w> 
</span></span></span><span class=line><span class=ln>3</span><span class=cl><span class=w>  </span><span class=bp>∑</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=o>{</span><span class=bp>-</span><span class=o>(</span><span class=mi>3</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=o>),</span><span class=w> </span><span class=mi>5</span><span class=o>},</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:</span><span class=bp>=</span><span class=w> </span><span class=k>by</span><span class=w>
</span></span></span><span class=line><span class=ln>4</span><span class=cl><span class=w>  </span><span class=c1>-- Factor the expression</span><span class=w>
</span></span></span><span class=line><span class=ln>5</span><span class=cl><span class=w>  </span><span class=n>simp</span><span class=w>
</span></span></span><span class=line><span class=ln>6</span><span class=cl><span class=w>  </span><span class=c1>-- The roots are -3/2 and 5</span><span class=w>
</span></span></span><span class=line><span class=ln>7</span><span class=cl><span class=w>  </span><span class=n>norm_num</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-13",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li><li><p><strong>중간 증명 상태(Tactic State) 포함 입력:</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">LEAN</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-14 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=접기 aria-label=접기>
<span class=collapse-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">접기</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-14 title=복사 aria-label=복사>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">복사</span></button></div></div><div class="code-block-content relative" id=code-14><div class=highlight><pre tabindex=0 class=chroma><code class=language-lean data-lang=lean><span class=line><span class=ln>1</span><span class=cl><span class=c>/-</span><span class=cm> tactic state:
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=cm>f : ℂ → ℂ
</span></span></span><span class=line><span class=ln>3</span><span class=cl><span class=cm>h₀ : ∀ (x : ℂ), f x = (2 * x + 3) * (x - 4) + (2 * x + 3) * (x - 6)
</span></span></span><span class=line><span class=ln>4</span><span class=cl><span class=cm>h₁ : Fintype ↑(f ⁻¹&#39; {0})
</span></span></span><span class=line><span class=ln>5</span><span class=cl><span class=cm>x : ℂ
</span></span></span><span class=line><span class=ln>6</span><span class=cl><span class=cm>⊢ f x = 0 ↔ x = -(3 / 2) ∨ x = 5
</span></span></span><span class=line><span class=ln>7</span><span class=cl><span class=cm>-/</span><span class=w>
</span></span></span><span class=line><span class=ln>8</span><span class=cl><span class=w></span><span class=n>simp</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">클릭하여 더 보기</div></div></div></div><script>(function(){const s="code-14",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="복사됨"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="복사"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="선택됨"),setTimeout(()=>{t&&(t.textContent="복사"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="펼치기"),t.title="펼치기"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="접기"),t.title="접기"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script></li></ol><hr><h4 id=b-추론-과정><strong>B. 추론 과정</strong></h4><ol><li><p><strong>1단계: 전체 증명 생성 (Whole-Proof Generation)</strong></p><ul><li>모델은 입력된 문제와 주석을 기반으로 <strong>전체 증명 코드</strong>를 생성합니다.</li><li>생성된 증명 코드는 Lean 4 증명 보조기로 전달됩니다.</li></ul></li><li><p><strong>2단계: 증명 검증 및 피드백 수집</strong></p><ul><li>Lean 4 증명 보조기는 생성된 증명을 검증하고, <strong>성공/실패 여부</strong>와 <strong>오류 메시지</strong>를 반환합니다.</li><li><strong>성공 시:</strong> 증명이 완료되고, 결과가 반환됩니다.</li><li><strong>실패 시:</strong> <strong>Truncate-and-Resume 메커니즘</strong>이 작동하여, 오류 지점에서 증명을 자르고(truncate), 성공한 부분 이후부터 증명을 이어갑니다(resume).</li></ul></li><li><p><strong>3단계: 탐색 지향 몬테카를로 트리 탐색 (RMaxTS)</strong></p><ul><li>증명 실패 시 모델은 <strong>RMaxTS</strong>를 통해 다양한 증명 경로를 탐색합니다.</li><li><strong>내재적 보상</strong>을 활용하여 새로운 탐색 경로를 장려하고, 최적의 증명 경로를 찾습니다.</li></ul></li><li><p><strong>4단계: 최종 증명 생성 및 검증</strong></p><ul><li>최종적으로 완성된 증명 코드는 Lean 4 증명 보조기를 통해 검증되며, 성공적으로 검증된 증명만 최종 결과로 반환됩니다.</li></ul></li></ol><hr><h3 id=2-모델-아키텍처-구성><strong>2. 모델 아키텍처 구성</strong></h3><p>DeepSeek-Prover-V1.5는 <strong>7B 파라미터</strong> 규모의 <strong>트랜스포머(Transformer)</strong> 아키텍처를 기반으로 설계되었습니다. 이 모델은 수학적 추론과 형식 증명 생성을 위해 특별히 튜닝되었습니다.</p><hr><h4 id=a-아키텍처-세부-구성><strong>A. 아키텍처 세부 구성</strong></h4><table><thead><tr><th><strong>모델 구성 요소</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>트랜스포머(Transformer)</strong></td><td>기본 아키텍처로 <strong>Self-Attention</strong> 메커니즘을 사용하여 입력 시퀀스의 관계를 학습.</td></tr><tr><td><strong>사전 학습 (Pre-training)</strong></td><td>수학 텍스트 및 코드(Lean, Isabelle 등)로 사전 학습하여 수학적 문법과 구조를 학습.</td></tr><tr><td><strong>감독 학습 (Fine-tuning)</strong></td><td>문제-증명 쌍 데이터를 사용하여 증명 생성 능력 강화. CoT 주석 및 Tactic State 포함.</td></tr><tr><td><strong>강화 학습 (RLPAF)</strong></td><td>Lean 4 증명 보조기의 검증 피드백을 보상으로 활용한 강화 학습 루프 적용.</td></tr><tr><td><strong>탐색 지향 MCTS (RMaxTS)</strong></td><td>증명 실패 시 <strong>탐색 지향 몬테카를로 트리 탐색</strong>을 통해 다양한 증명 경로 탐색 및 최적화.</td></tr></tbody></table><hr><h4 id=b-트랜스포머-아키텍처-상세><strong>B. 트랜스포머 아키텍처 상세</strong></h4><table><thead><tr><th><strong>구성 요소</strong></th><th><strong>사양</strong></th></tr></thead><tbody><tr><td><strong>모델 크기</strong></td><td><strong>7B 파라미터</strong></td></tr><tr><td><strong>레이어 수</strong></td><td>32 레이어</td></tr><tr><td><strong>히든 사이즈</strong></td><td>4096</td></tr><tr><td><strong>어텐션 헤드 수</strong></td><td>32개</td></tr><tr><td><strong>컨텍스트 길이</strong></td><td>최대 <strong>4096 토큰</strong></td></tr><tr><td><strong>포지셔널 인코딩</strong></td><td>Rotary Position Embedding (RoPE)</td></tr><tr><td><strong>프리-노름(Pre-Norm)</strong></td><td>레이어 정규화가 어텐션 및 피드포워드 네트워크 이전에 적용</td></tr><tr><td><strong>데이터 병렬화</strong></td><td><strong>ZeRO Stage 2</strong> 또는 <strong>ZeRO Stage 3</strong> 최적화를 통한 대규모 모델 분산 학습</td></tr><tr><td><strong>Mixed Precision</strong></td><td><strong>FP16/BF16</strong> 혼합 정밀도 학습을 통해 메모리 사용량 절감 및 학습 속도 향상</td></tr></tbody></table><hr><h3 id=3-연산-및-메모리-요구량><strong>3. 연산 및 메모리 요구량</strong></h3><p>DeepSeek-Prover-V1.5는 대규모 언어 모델로, 학습 및 추론 시 <strong>메모리 사용량</strong>과 <strong>컴퓨팅 연산량</strong>이 매우 큽니다.</p><hr><h4 id=a-메모리-요구량><strong>A. 메모리 요구량</strong></h4><ol><li><p><strong>모델 파라미터 메모리:</strong></p><ul><li><strong>7B 파라미터</strong> 모델 기준, 각 파라미터가 **FP16(2바이트)**로 저장될 경우:
[
7 \times 10^9 \times 2 \text{ bytes} = 14 \text{GB}
]</li><li><strong>BF16</strong> 사용 시 비슷한 수준의 메모리 사용.</li></ul></li><li><p><strong>활성화 메모리(Activation Memory):</strong></p><ul><li><strong>4096 토큰</strong>의 긴 컨텍스트를 처리하기 위해, 레이어당 활성화 메모리 사용량이 증가.</li><li>예를 들어, <strong>32 레이어</strong> 모델 기준으로 활성화 메모리는 약 <strong>20~30GB</strong> 이상 필요.</li></ul></li><li><p><strong>총 메모리 요구량:</strong></p><ul><li><strong>모델 파라미터 (14GB)</strong> + <strong>활성화 메모리 (~30GB)</strong> ≈ <strong>44GB 이상</strong> 요구.</li><li>따라서 <strong>A100 40GB GPU</strong> 이상 필요, <strong>8개 GPU</strong> 이상 사용 시 분산 학습 가능.</li></ul></li></ol><hr><h4 id=b-연산-요구량-flops><strong>B. 연산 요구량 (FLOPs)</strong></h4><ol><li><p><strong>트랜스포머 연산량 (FLOPs):</strong></p><ul><li>트랜스포머의 연산량은 다음과 같이 계산:
[
FLOPs = 2 \times N_{\text{layers}} \times (d_{\text{model}}^2) \times L_{\text{context}}
]<ul><li>(N_{\text{layers}} = 32) (레이어 수)</li><li>(d_{\text{model}} = 4096) (히든 크기)</li><li>(L_{\text{context}} = 4096) (컨텍스트 길이)</li></ul></li></ul><p><strong>총 FLOPs (1개 시퀀스 처리 시):</strong>
[
2 \times 32 \times (4096^2) \times 4096 \approx 4.3 \times 10^{12} \text{ FLOPs} \ (4.3 TFLOPs)
]</p></li><li><p><strong>배치 크기(Batch Size)</strong> 및 <strong>에폭 수</strong>에 따른 총 연산량:</p><ul><li>배치 크기 2048, 1 에폭당 100만 시퀀스 처리 시:
[
4.3 \times 10^{12} \times 10^6 = 4.3 \times 10^{18} \text{ FLOPs} \ (4.3 EFLOPs)
]</li></ul></li><li><p><strong>강화 학습(RLPAF) 및 탐색(RMaxTS)의 추가 연산량:</strong></p><ul><li>탐색 과정에서는 매번 <strong>다양한 증명 경로</strong>를 생성하고 검증하므로 추가적인 <strong>수천 배의 연산</strong>이 필요.</li><li>증명 검증 과정은 주로 <strong>Lean 4 증명 보조기</strong>에서 CPU 기반으로 처리.</li></ul></li></ol><hr><h4 id=c-컴퓨팅-자원-요구량><strong>C. 컴퓨팅 자원 요구량</strong></h4><table><thead><tr><th><strong>학습/추론 단계</strong></th><th><strong>컴퓨팅 자원</strong></th><th><strong>시간 소요</strong></th></tr></thead><tbody><tr><td><strong>사전 학습 (Pre-training)</strong></td><td><strong>A100 40GB GPU 8~16개</strong> (2~3주)</td><td>2~3주</td></tr><tr><td><strong>감독 학습 (Fine-tuning)</strong></td><td><strong>A100 40GB GPU 4~8개</strong> (1~2주)</td><td>1~2주</td></tr><tr><td><strong>강화 학습 (RLPAF)</strong></td><td><strong>A100 40GB GPU 4개 + CPU 클러스터</strong> (Lean 4 검증 포함)</td><td>1~2주</td></tr><tr><td><strong>탐색(RMaxTS) 및 추론</strong></td><td><strong>A100 GPU 4개 + 수천 개의 CPU 코어</strong></td><td>수 시간 ~ 수 일</td></tr></tbody></table><hr><h3 id=결론-4><strong>결론</strong></h3><p>DeepSeek-Prover-V1.5는 <strong>자연어 문제</strong>와 <strong>Lean 4 증명 코드</strong>를 입력으로 받아, <strong>Chain-of-Thought 주석</strong>과 <strong>중간 증명 상태(Tactic State)</strong> 정보를 활용하여 증명을 생성합니다. 모델은 <strong>7B 파라미터</strong> 규모의 <strong>트랜스포머 아키텍처</strong>로 구성되어 있으며, **탐색 지향 몬테카를로 트리 탐색(RMaxTS)**과 **강화 학습(RLPAF)**을 통해 증명 정확성을 향상시킵니다. 모델 학습 및 추론 과정에는 <strong>A100 GPU 4~16개</strong>, <strong>수천 개의 CPU 코어</strong>, 그리고 **수십 테라플롭스(TFLOPs)**의 연산 자원이 요구됩니다. 이러한 고성능 자원을 통해 DeepSeek-Prover-V1.5는 기존 모델 대비 뛰어난 증명 생성 성능을 달성했습니다.</p><h1 id=q--이-논문의-한계를-극복하기-위한-방법으로-어떤-연구흐름이-있는지-정리해서-자세하게-설명해-줘>Q : 이 논문의 한계를 극복하기 위한 방법으로 어떤 연구흐름이 있는지 정리해서 자세하게 설명해 줘</h1><h3 id=1-논문의-주요-한계><strong>1. 논문의 주요 한계</strong></h3><p>DeepSeek-Prover-V1.5는 형식 정리 증명(formal theorem proving) 분야에서 뛰어난 성능을 달성했지만, 몇 가지 <strong>구조적</strong> 및 <strong>기술적</strong> 한계가 존재합니다. 이 한계들은 향후 연구의 출발점이 될 수 있습니다.</p><hr><h4 id=a-주요-한계점><strong>A. 주요 한계점</strong></h4><ol><li><p><strong>보상 희소성(Sparse Reward) 문제</strong></p><ul><li>강화 학습(RLPAF)에서 <strong>Lean 4 증명 보조기</strong>는 이진 보상(성공=1, 실패=0)만 제공, 보상이 매우 희소합니다.</li><li>복잡한 증명일수록 성공적인 증명을 생성하는 것이 어렵고, 이는 학습 효율성을 저하시킵니다.</li></ul></li><li><p><strong>증명 경로 탐색의 비효율성</strong></p><ul><li><strong>RMaxTS</strong>는 탐색의 다양성을 제공하지만, 여전히 증명 경로의 탐색 효율성이 완전하지 않습니다.</li><li>탐색 과정에서 많은 중복된 경로가 생성되거나, 불필요한 탐색 비용이 발생할 수 있습니다.</li></ul></li><li><p><strong>복잡한 증명에서의 확장성 한계</strong></p><ul><li>현재 모델은 <strong>단일 정리 증명</strong>에 최적화되어 있으며, <strong>여러 정리가 연결된 복합 증명</strong>(theory proving)에는 취약합니다.</li><li>복잡한 이론적 증명을 위해서는 <strong>문맥(Context) 이해</strong>와 <strong>장기적인 추론 능력</strong>이 필요합니다.</li></ul></li><li><p><strong>컴퓨팅 자원의 높은 요구</strong></p><ul><li>대규모 모델 학습 및 탐색 과정은 <strong>막대한 GPU/CPU 자원</strong>과 <strong>시간</strong>을 소모합니다.</li><li><strong>Lean 4 증명 보조기</strong>의 반복적 호출로 인한 <strong>병목 현상</strong>이 발생할 수 있습니다.</li></ul></li></ol><hr><h3 id=2-한계-극복을-위한-연구-흐름><strong>2. 한계 극복을 위한 연구 흐름</strong></h3><p>DeepSeek-Prover-V1.5의 한계를 극복하기 위해 다양한 연구 흐름이 제안되고 있습니다. 이들은 주로 <strong>강화 학습 최적화</strong>, <strong>탐색 알고리즘 개선</strong>, <strong>모델 아키텍처 혁신</strong>, 그리고 <strong>지식 통합</strong>을 중심으로 이루어집니다.</p><hr><h4 id=a-강화-학습-최적화-연구><strong>A. 강화 학습 최적화 연구</strong></h4><ol><li><p><strong>부분 증명 평가를 위한 비평가 모델(Critic Models) 도입</strong></p><ul><li><strong>문제:</strong> 현재 모델은 전체 증명 성공 여부만을 보상으로 받아 학습합니다.</li><li><strong>해결:</strong> **부분 증명(incomplete proof)**의 질을 평가하는 **비평가 모델(critic)**을 도입하여, <strong>단계별 보상</strong>을 제공합니다.<ul><li><strong>RUDDER</strong>(Return Decomposition for Delayed Rewards)와 같은 기술을 활용하여, 지연된 보상을 <strong>중간 증명 단계</strong>로 분배.</li></ul></li></ul><p><strong>예시 연구:</strong></p><ul><li><strong>RUDDER</strong>: 지연된 보상을 부분적으로 분해하여 더 빠르고 안정적인 강화 학습 수행.</li><li><strong>Inverse Reinforcement Learning (IRL)</strong>: 증명 보조기의 피드백을 통해 최적의 증명 경로를 역으로 추정.</li></ul></li><li><p><strong>보상 모델 학습(Reward Model Learning)</strong></p><ul><li><strong>문제:</strong> Lean 4의 이진 보상 외에도 더 세밀한 피드백이 필요.</li><li><strong>해결:</strong> 증명 경로의 난이도, 증명 시간, 오류 발생 빈도 등을 종합적으로 평가하는 <strong>보상 모델</strong>을 학습.<ul><li>증명의 <strong>복잡성</strong>이나 <strong>효율성</strong>에 따른 <strong>연속형 보상</strong> 제공.</li></ul></li></ul><p><strong>예시 연구:</strong></p><ul><li><strong>DeepMind&rsquo;s AlphaZero</strong>: 체스, 바둑 등의 게임에서 <strong>정책-가치 네트워크</strong>를 활용하여 강화 학습 성능 극대화.</li></ul></li></ol><hr><h4 id=b-탐색-알고리즘-개선-연구><strong>B. 탐색 알고리즘 개선 연구</strong></h4><ol><li><p><strong>하이브리드 탐색 전략(Hybrid Search Strategy)</strong></p><ul><li><strong>문제:</strong> 현재 탐색은 <strong>RMaxTS</strong>(탐색 지향 MCTS)에 의존, 효율성 문제가 있음.</li><li><strong>해결:</strong> <strong>Best-First Search</strong>(최선 우선 탐색)와 <strong>MCTS</strong>를 결합한 <strong>하이브리드 탐색 전략</strong> 도입.<ul><li>초기에는 <strong>탐색 기반</strong> 접근을 사용하고, 특정 경로에서 **탐욕적 탐색(greedy search)**으로 전환하여 효율성 극대화.</li></ul></li></ul><p><strong>예시 연구:</strong></p><ul><li><strong>Hypertree Proof Search (HTPS)</strong>: 증명 트리의 구조를 분석하여 탐색 공간을 최적화.</li></ul></li><li><p><strong>부분 증명 재사용 및 메모리 기반 탐색</strong></p><ul><li><strong>문제:</strong> 동일한 부분 증명 경로가 중복 탐색되는 비효율성 존재.</li><li><strong>해결:</strong> 이전 탐색에서 성공한 <strong>부분 증명</strong>을 <strong>메모리</strong>에 저장하고, 이를 재사용하는 탐색 전략 도입.<ul><li><strong>Retrieval-Augmented Generation (RAG)</strong> 기법처럼 과거 증명 경로를 검색하여 새로운 증명 생성에 활용.</li></ul></li></ul><p><strong>예시 연구:</strong></p><ul><li><strong>Leandojo</strong>: 검색 기반 증명 모델로, 과거 증명을 참조하여 증명 효율성 향상.</li></ul></li></ol><hr><h4 id=c-모델-아키텍처-혁신-연구><strong>C. 모델 아키텍처 혁신 연구</strong></h4><ol><li><p><strong>멀티모달 학습(Multimodal Learning)</strong></p><ul><li><strong>문제:</strong> 현재 모델은 주로 텍스트 기반 입력에 의존.</li><li><strong>해결:</strong> 수식, 도표 등 다양한 <strong>수학적 표현</strong>을 인식하는 <strong>멀티모달 모델</strong>로 확장.<ul><li>예를 들어, <strong>LaTeX 수식</strong>, <strong>그래프 구조</strong>, <strong>도형 정보</strong> 등을 동시에 처리하여 증명 과정의 직관성 향상.</li></ul></li></ul><p><strong>예시 연구:</strong></p><ul><li><strong>Graph Neural Networks (GNNs)</strong>: 수학적 구조를 그래프로 표현하고, 이를 학습하는 모델.</li></ul></li><li><p><strong>장기 추론 능력 향상을 위한 아키텍처 개선</strong></p><ul><li><strong>문제:</strong> 긴 증명에서는 모델이 중간 상태를 유지하기 어려움.</li><li><strong>해결:</strong> <strong>메모리 강화 트랜스포머</strong>(Memory-Augmented Transformer) 또는 <strong>재귀적 증명 구조</strong> 도입.<ul><li>증명 과정에서 <strong>중간 상태</strong>를 저장하고, 이를 기반으로 <strong>장기적인 증명 경로</strong>를 계획.</li></ul></li></ul><p><strong>예시 연구:</strong></p><ul><li><strong>Tree-of-Thoughts (ToT)</strong>: 문제 해결을 위한 트리 기반의 구조적 추론 모델.</li><li><strong>Recursive Neural Networks (RNNs)</strong>: 계층적 증명 구조를 다루는 신경망 모델.</li></ul></li></ol><hr><h4 id=d-지식-통합-및-자동화-연구><strong>D. 지식 통합 및 자동화 연구</strong></h4><ol><li><p><strong>외부 수학 지식 통합(Knowledge Integration)</strong></p><ul><li><strong>문제:</strong> 모델은 훈련된 데이터셋에만 의존하여 새로운 개념이나 이론을 적용하는 데 한계.</li><li><strong>해결:</strong> **외부 수학 지식베이스(예: Wikipedia, Mathlib)**와 연계하여 증명 과정에서 <strong>추가적인 지식</strong>을 활용.<ul><li><strong>Retrieval-Augmented Generation (RAG)</strong> 기법을 통해 증명 과정 중 필요한 정보를 실시간으로 검색 및 활용.</li></ul></li></ul><p><strong>예시 연구:</strong></p><ul><li><strong>ProofNet</strong>: 수학 교재 기반의 지식을 증명 과정에 통합.</li><li><strong>Autoformalization</strong>: 자연어로 된 수학 서술을 자동으로 형식 언어로 변환.</li></ul></li><li><p><strong>자동화된 증명 전략 학습(Autoformalization)</strong></p><ul><li><strong>문제:</strong> 증명 생성 과정이 여전히 수작업에 의존하는 부분이 존재.</li><li><strong>해결:</strong> 증명 전략(Proof Strategy)을 자동으로 학습하고, 문제 유형에 따라 <strong>자동 선택</strong> 및 <strong>적용</strong>.<ul><li>모델이 증명 유형에 따라 최적의 **전략(tactic)**을 자동으로 선택하여 증명 효율성 향상.</li></ul></li></ul><p><strong>예시 연구:</strong></p><ul><li><strong>Subgoal Prover</strong>: 복잡한 문제를 **하위 문제(Subgoal)**로 나누어 증명하는 전략.</li></ul></li></ol><hr><h3 id=3-종합적-미래-연구-방향><strong>3. 종합적 미래 연구 방향</strong></h3><ol><li><p><strong>탐색과 활용의 균형 강화</strong></p><ul><li>탐색(RMaxTS)의 다양성과 효율성을 유지하면서도, <strong>비평가 모델</strong> 및 <strong>부분 증명 재사용</strong>을 통해 탐색 효율성을 향상.</li></ul></li><li><p><strong>지속 가능한 모델 학습 및 추론</strong></p><ul><li><strong>모델 압축(Quantization, Distillation)</strong> 기술을 통해 모델 경량화, <strong>컴퓨팅 자원 최적화</strong>.</li><li><strong>분산 학습</strong> 및 <strong>지능형 증명 보조기 인터페이스</strong>를 통해 대규모 증명 검증의 병목 현상 해결.</li></ul></li><li><p><strong>복잡한 이론 증명 지원</strong></p><ul><li>여러 정리의 상호 의존성을 고려한 **이론 증명(Theory Proving)**을 위한 <strong>문맥 기반 학습(Contextual Learning)</strong> 확장.</li></ul></li><li><p><strong>실제 수학 연구와의 통합</strong></p><ul><li>실세계 수학 연구 문제를 해결하는 <strong>자동화된 증명 생성 시스템</strong> 개발.</li><li>**수학 논문 자동 형식화(Autoformalization)**를 통해 자연어로 작성된 수학적 주장들을 Lean 4 등의 형식 시스템으로 변환.</li></ul></li></ol><hr><h3 id=결론-5><strong>결론</strong></h3><p>DeepSeek-Prover-V1.5의 한계를 극복하기 위해 <strong>강화 학습 최적화</strong>, <strong>탐색 알고리즘 개선</strong>, <strong>모델 아키텍처 혁신</strong>, 그리고 <strong>지식 통합</strong> 등의 다양한 연구 흐름이 제안되고 있습니다. 이 연구들은 증명 생성의 <strong>정확성</strong>과 <strong>효율성</strong>을 동시에 달성하는 것을 목표로 하며, 향후 <strong>더 복잡한 수학 문제</strong>와 <strong>이론적 증명</strong>을 해결하는 데 중요한 역할을 할 것입니다. 이러한 연구 흐름은 <strong>자동화된 수학 증명 시스템</strong>의 발전을 가속화하고, 궁극적으로 <strong>실제 수학 연구</strong>와의 통합 가능성을 열어줄 것입니다.</p><h1 id=q--deepseek-prover-v15의-rmaxts탐색-지향-몬테카를로-트리-탐색-알고리즘은-기존-mcts와-어떤-차별점을-가지며-이러한-차별점이-증명-성공률-향상에-어떻게-기여했는가>Q : DeepSeek-Prover-V1.5의 RMaxTS(탐색 지향 몬테카를로 트리 탐색) 알고리즘은 기존 MCTS와 어떤 차별점을 가지며, 이러한 차별점이 증명 성공률 향상에 어떻게 기여했는가?</h1><h3 id=1-rmaxts탐색-지향-몬테카로-트리-탐색의-핵심-차별점><strong>1. RMaxTS(탐색 지향 몬테카로 트리 탐색)의 핵심 차별점</strong></h3><p>DeepSeek-Prover-V1.5에서 제안한 **RMaxTS (Reward-Maximizing Tree Search)**는 기존의 **몬테카를로 트리 탐색(MCTS)**을 개선하여 <strong>증명 경로 탐색의 효율성과 다양성</strong>을 동시에 강화하는 알고리즘입니다. 기존 MCTS와의 주요 차별점은 다음과 같습니다.</p><hr><h4 id=a-내재적-보상intrinsic-reward-도입><strong>A. 내재적 보상(Intrinsic Reward) 도입</strong></h4><ol><li><p><strong>기존 MCTS의 문제:</strong></p><ul><li>**형식 증명(formal theorem proving)**에서는 증명이 <strong>완전히 성공</strong>할 때만 보상을 받을 수 있습니다.</li><li>이로 인해 <strong>보상 희소성(sparse reward)</strong> 문제가 발생하여, 탐색 과정에서 학습이 비효율적일 수 있습니다.</li></ul></li><li><p><strong>RMaxTS의 개선:</strong></p><ul><li><strong>새로운 탐색 경로</strong>를 발견할 때마다 **내재적 보상(intrinsic reward)**을 부여하여 탐색의 <strong>다양성</strong>을 촉진합니다.</li><li><strong>RMax 알고리즘</strong>을 기반으로, 탐색 에이전트가 <strong>미지의 상태</strong>를 탐색할 때 최대 보상을 받도록 설계되었습니다.</li></ul><p><strong>수식:</strong><br>[
R_{\text{intrinsic}}(\tau) =
\begin{cases}
1 & \text{새로운 노드(증명 상태)를 발견한 경우} \
0 & \text{기존 탐색 경로를 반복한 경우}
\end{cases}
]</p></li><li><p><strong>기여 효과:</strong></p><ul><li>내재적 보상을 통해 <strong>탐색 경로의 다양성</strong>이 확보되어, 모델이 <strong>새롭고 창의적인 증명 경로</strong>를 발견할 확률이 증가.</li><li>특히 <strong>복잡한 수학 문제</strong>에서 다양한 접근법을 시도하는 것이 가능해짐.</li></ul></li></ol><hr><h4 id=b-truncate-and-resume-메커니즘-통합><strong>B. Truncate-and-Resume 메커니즘 통합</strong></h4><ol><li><p><strong>기존 MCTS의 문제:</strong></p><ul><li>증명 생성 중 오류가 발생하면 <strong>전체 증명 경로를 폐기</strong>하고 새로운 탐색을 시작해야 했습니다.</li><li>이는 <strong>탐색 비용</strong>이 증가하고, <strong>성공적인 부분 증명</strong>을 재활용하지 못하는 비효율성을 초래합니다.</li></ul></li><li><p><strong>RMaxTS의 개선:</strong></p><ul><li><strong>증명 실패 시</strong>, 오류 지점에서 증명을 <strong>부분적으로 자르고(truncate)</strong>, 성공한 부분을 기반으로 <strong>증명을 이어가는(resume)</strong> 전략을 채택.</li><li>탐색 트리의 <strong>노드</strong>로 증명 단계를 구성하고, 각 단계별로 **성공한 증명 상태(tactic state)**를 유지.</li></ul></li><li><p><strong>기여 효과:</strong></p><ul><li><strong>부분 증명</strong>을 기반으로 탐색을 이어가므로 <strong>탐색 효율성</strong>이 크게 향상.</li><li>증명의 <strong>중간 결과</strong>를 활용하여 불필요한 반복 탐색을 방지.</li></ul></li></ol><hr><h4 id=c-할인된-상한-탐색discounted-upper-confidence-bound-ducb><strong>C. 할인된 상한 탐색(Discounted Upper Confidence Bound, DUCB)</strong></h4><ol><li><p><strong>기존 MCTS의 문제:</strong></p><ul><li>기존의 **UCB1(Upper Confidence Bound)**는 모든 탐색 경로에 동일한 가중치를 부여하며, <strong>탐색의 최신성</strong>을 고려하지 않습니다.</li><li>이는 <strong>탐색 공간이 커질수록</strong> 새롭고 유망한 경로를 발견하는 데 비효율적일 수 있습니다.</li></ul></li><li><p><strong>RMaxTS의 개선:</strong></p><ul><li>**할인된 UCB(Discounted UCB)**를 도입하여 <strong>최근 탐색 결과</strong>에 더 큰 가중치를 부여.</li><li>새로운 상태를 탐색하는 **탐험(exploration)**과 기존의 유망한 경로를 활용하는 **활용(exploitation)**의 균형을 강화.</li></ul><p><strong>수식:</strong><br>[
Q_{\text{DUCB}}(s, a) = \frac{W_{\gamma}(s, a)}{N_{\gamma}(s, a)} + c \sqrt{\frac{\ln N_{\gamma}(s)}{N_{\gamma}(s, a)}}
]</p><ul><li>(\gamma = 0.99)로 설정하여 최신 탐색 경로에 높은 가중치를 부여.</li></ul></li><li><p><strong>기여 효과:</strong></p><ul><li>최신 탐색 결과를 빠르게 반영하여, <strong>탐색 효율성</strong>을 높이고 <strong>중복 탐색</strong>을 줄임.</li><li><strong>증명 경로 최적화</strong>에 필요한 연산량 감소.</li></ul></li></ol><hr><h3 id=2-이러한-차별점이-증명-성공률-향상에-기여한-방식><strong>2. 이러한 차별점이 증명 성공률 향상에 기여한 방식</strong></h3><hr><h4 id=a-탐색-경로의-다양성-확보><strong>A. 탐색 경로의 다양성 확보</strong></h4><ul><li><strong>문제:</strong> 기존의 증명 생성 모델들은 특정 증명 경로에 갇히는 경향이 있어, 새로운 증명 방법을 발견하는 데 어려움이 있었습니다.</li><li><strong>RMaxTS의 기여:</strong> 내재적 보상을 통해 다양한 증명 경로를 탐색할 수 있도록 장려, 이는 특히 <strong>복잡한 문제</strong>에서 <strong>새로운 증명 전략</strong>을 발견하는 데 중요한 역할을 했습니다.</li></ul><p><strong>결과:</strong></p><ul><li><strong>miniF2F 벤치마크</strong>에서 기존 모델 대비 <strong>9%p 이상의 성능 향상</strong> (50% → 63.5%).</li><li><strong>ProofNet 벤치마크</strong>에서도 <strong>7%p 이상 향상</strong> (15.9% → 25.3%).</li></ul><hr><h4 id=b-탐색-효율성-증대><strong>B. 탐색 효율성 증대</strong></h4><ul><li><strong>문제:</strong> 기존 탐색 방식은 증명 실패 시 전체 증명을 폐기하고, 처음부터 다시 탐색하는 비효율성이 있었습니다.</li><li><strong>RMaxTS의 기여:</strong> <strong>Truncate-and-Resume</strong> 메커니즘을 통해 <strong>성공한 부분 증명</strong>을 기반으로 탐색을 이어감으로써 <strong>연산 자원</strong>과 <strong>시간</strong>을 절약했습니다.</li></ul><p><strong>결과:</strong></p><ul><li><strong>탐색 비용</strong> 절감으로 동일한 시간 내 더 많은 증명 시도 가능.</li><li><strong>복잡한 증명 문제</strong>에서 <strong>부분 증명</strong>을 효율적으로 재활용, 증명 성공 확률 증가.</li></ul><hr><h4 id=c-보상-희소성-문제-해결><strong>C. 보상 희소성 문제 해결</strong></h4><ul><li><strong>문제:</strong> 기존 MCTS는 증명이 <strong>완전히 성공</strong>해야만 보상을 받을 수 있어, 강화 학습의 <strong>학습 신호</strong>가 희소했습니다.</li><li><strong>RMaxTS의 기여:</strong> 내재적 보상 및 부분 증명 보상을 통해 <strong>중간 단계</strong>에서도 피드백을 받을 수 있게 하여 <strong>학습 효율성</strong>을 높였습니다.</li></ul><p><strong>결과:</strong></p><ul><li><strong>강화 학습(RLPAF)</strong> 과정에서 <strong>안정적인 학습</strong>이 가능해졌으며, 이는 <strong>모델의 증명 능력</strong> 향상으로 이어짐.</li><li>**ProofNet(대학 수준)**과 같이 어려운 문제에서도 <strong>지속적인 성능 개선</strong> 달성.</li></ul><hr><h3 id=3-결론><strong>3. 결론</strong></h3><p>DeepSeek-Prover-V1.5의 <strong>RMaxTS(탐색 지향 몬테카로 트리 탐색)</strong> 알고리즘은 기존 MCTS 대비 <strong>탐색 경로의 다양성</strong>과 <strong>탐색 효율성</strong>을 동시에 강화하여, <strong>증명 성공률</strong>을 크게 향상시켰습니다. <strong>내재적 보상</strong>, <strong>Truncate-and-Resume 메커니즘</strong>, 그리고 <strong>할인된 UCB</strong>와 같은 혁신적인 기법을 통해 <strong>복잡한 수학 문제</strong>에서 새로운 증명 경로를 발견하고, 증명 생성 과정의 <strong>효율성</strong>과 <strong>정확성</strong>을 극대화했습니다. 이로 인해 기존 최고 성능을 <strong>9%p 이상 상회</strong>하는 **새로운 최고 성능(state-of-the-art)**을 달성했습니다.</p><h1 id=q--증명-보조기lean-4의-피드백을-활용한-강화-학습rlpaf은-모델의-증명-생성-능력을-어떻게-개선했으며-보상-희소성-문제를-해결하기-위한-구체적인-전략은-무엇인가>Q : 증명 보조기(Lean 4)의 피드백을 활용한 강화 학습(RLPAF)은 모델의 증명 생성 능력을 어떻게 개선했으며, 보상 희소성 문제를 해결하기 위한 구체적인 전략은 무엇인가?</h1><h3 id=1-증명-보조기lean-4의-피드백을-활용한-강화-학습rlpaf의-개요><strong>1. 증명 보조기(Lean 4)의 피드백을 활용한 강화 학습(RLPAF)의 개요</strong></h3><p>**RLPAF (Reinforcement Learning from Proof Assistant Feedback)**는 DeepSeek-Prover-V1.5에서 <strong>Lean 4 증명 보조기</strong>의 검증 피드백을 활용하여 모델의 증명 생성 능력을 향상시키는 핵심적인 학습 방법입니다. 이 방법은 <strong>증명 성공 여부</strong>를 보상 신호로 활용하여 모델의 정책을 최적화합니다.</p><hr><h3 id=2-rlpaf가-모델의-증명-생성-능력을-개선한-방식><strong>2. RLPAF가 모델의 증명 생성 능력을 개선한 방식</strong></h3><hr><h4 id=a-lean-4-증명-보조기의-피드백-활용><strong>A. Lean 4 증명 보조기의 피드백 활용</strong></h4><ol><li><p><strong>기존 감독 학습의 한계:</strong></p><ul><li>기존에는 주어진 <strong>문제-증명 쌍</strong> 데이터를 기반으로 모델을 훈련하는 **감독 학습(supervised learning)**이 사용되었습니다.</li><li>이 접근법은 <strong>정답 데이터</strong>에만 의존하기 때문에 <strong>새로운 문제 상황</strong>이나 <strong>복잡한 증명</strong>에 대한 <strong>일반화</strong>가 어렵습니다.</li></ul></li><li><p><strong>Lean 4 피드백의 도입:</strong></p><ul><li><strong>Lean 4 증명 보조기</strong>는 생성된 증명 코드가 <strong>정확한지 여부</strong>를 검증하고, <strong>성공/실패</strong> 피드백을 제공합니다.</li><li>모델은 증명 생성 후 Lean 4로부터 받은 피드백을 통해 자신의 <strong>증명 경로</strong>를 평가하고, <strong>성공적인 패턴</strong>을 학습합니다.</li></ul></li><li><p><strong>개선 효과:</strong></p><ul><li><strong>실시간 피드백</strong>을 통해 모델이 자신의 <strong>증명 생성 과정</strong>을 스스로 개선.</li><li>증명 보조기가 제공하는 <strong>구체적인 오류 메시지</strong>를 활용하여 <strong>오류 발생 원인</strong>을 이해하고, <strong>더 나은 증명 전략</strong>을 개발.</li></ul></li></ol><hr><h4 id=b-강화-학습-루프-grpo-적용><strong>B. 강화 학습 루프 (GRPO) 적용</strong></h4><ol><li><p><strong>GRPO (Group Relative Policy Optimization)의 도입:</strong></p><ul><li>기존의 강화 학습 알고리즘인 <strong>PPO (Proximal Policy Optimization)</strong> 대신, <strong>GRPO</strong>를 적용하여 <strong>효율적인 학습</strong>을 달성.</li><li><strong>GRPO</strong>는 여러 증명 후보 그룹을 생성하고, <strong>상대적인 성능</strong>을 비교하여 모델을 최적화합니다.</li></ul></li><li><p><strong>구체적인 학습 과정:</strong></p><ul><li><strong>다양한 증명 후보</strong>를 생성하여 Lean 4로 검증.</li><li><strong>성공한 증명</strong>은 <strong>보상 1</strong>, <strong>실패한 증명</strong>은 <strong>보상 0</strong>으로 평가.</li><li><strong>성공률이 높은 증명 패턴</strong>을 강화하고, 실패한 패턴은 점진적으로 제거.</li></ul></li><li><p><strong>개선 효과:</strong></p><ul><li>증명 생성 과정에서 <strong>더 나은 전략</strong>을 지속적으로 탐색하고, <strong>효율적인 증명 경로</strong>를 학습.</li><li><strong>모델의 일반화 능력</strong>이 향상되어 <strong>새로운 문제</strong>나 <strong>복잡한 증명</strong>에서도 높은 성공률을 달성.</li></ul></li></ol><hr><h3 id=3-보상-희소성sparse-reward-문제-해결을-위한-전략><strong>3. 보상 희소성(Sparse Reward) 문제 해결을 위한 전략</strong></h3><p><strong>보상 희소성(sparse reward)</strong> 문제는 강화 학습에서 <strong>성공적인 증명</strong>을 생성할 때만 <strong>보상</strong>을 받을 수 있는 상황에서 발생합니다. 이는 모델의 학습 속도를 저하시킬 수 있습니다. DeepSeek-Prover-V1.5는 이 문제를 해결하기 위해 여러 전략을 도입했습니다.</p><hr><h4 id=a-부분-증명-보상partial-proof-reward-전략><strong>A. 부분 증명 보상(Partial Proof Reward) 전략</strong></h4><ol><li><p><strong>문제:</strong></p><ul><li>기존에는 <strong>전체 증명 성공</strong> 시에만 보상이 주어졌으며, 중간 과정은 학습에 기여하지 못했습니다.</li></ul></li><li><p><strong>해결:</strong></p><ul><li><strong>부분 증명</strong>이 성공적으로 진행된 경우에도 <strong>부분 보상</strong>을 부여하는 전략을 도입.</li><li>Lean 4 증명 보조기로부터 **중간 증명 상태(tactic state)**를 수집하고, <strong>정확한 부분 증명</strong>에 대해 <strong>소규모 보상</strong>을 지급.</li></ul></li><li><p><strong>구현 방식:</strong></p><ul><li><strong>Truncate-and-Resume 메커니즘</strong>을 활용하여 <strong>성공한 부분 증명</strong>을 기록.</li><li>각 증명 단계에서의 <strong>진행 상태</strong>를 평가하여 <strong>단계별 보상</strong> 부여.</li></ul></li><li><p><strong>효과:</strong></p><ul><li>모델이 <strong>중간 단계의 성공 패턴</strong>도 학습하게 되어, <strong>점진적인 개선</strong> 가능.</li><li><strong>복잡한 증명 문제</strong>에서도 <strong>점진적 성공</strong>을 통해 전체 증명 성공률 향상.</li></ul></li></ol><hr><h4 id=b-내재적-보상intrinsic-reward-도입><strong>B. 내재적 보상(Intrinsic Reward) 도입</strong></h4><ol><li><p><strong>문제:</strong></p><ul><li>특정 증명 경로에 대한 탐색이 <strong>편향적</strong>으로 이루어질 수 있으며, 이는 <strong>탐색의 다양성</strong>을 저해할 수 있습니다.</li></ul></li><li><p><strong>해결:</strong></p><ul><li>**내재적 보상(intrinsic reward)**을 도입하여 <strong>새로운 탐색 경로</strong> 발견 시에도 보상을 부여.</li><li><strong>RMaxTS</strong> 알고리즘을 활용하여 모델이 <strong>미지의 증명 경로</strong>를 탐색하도록 장려.</li></ul></li><li><p><strong>구현 방식:</strong></p><ul><li>새로운 증명 경로 또는 미지의 상태를 탐색할 때 <strong>최대 보상</strong>을 지급.</li><li>기존 탐색 경로의 반복을 <strong>감소</strong>시키고, <strong>다양한 증명 방법</strong>을 시도하게 함.</li></ul></li><li><p><strong>효과:</strong></p><ul><li>증명 경로의 <strong>다양성</strong> 확보로 <strong>새로운 증명 전략</strong> 발견 가능성 증가.</li><li><strong>복잡한 문제</strong>에서도 <strong>창의적인 접근법</strong>을 활용하여 증명 성공률 향상.</li></ul></li></ol><hr><h4 id=c-보상-모델-학습reward-model-learning><strong>C. 보상 모델 학습(Reward Model Learning)</strong></h4><ol><li><p><strong>문제:</strong></p><ul><li>Lean 4 증명 보조기의 **이진 보상(성공/실패)**만으로는 학습 신호가 부족할 수 있음.</li></ul></li><li><p><strong>해결:</strong></p><ul><li>증명의 <strong>난이도</strong>, <strong>복잡성</strong>, <strong>증명 시간</strong> 등을 종합적으로 평가하는 <strong>보상 모델</strong>을 학습.</li><li>증명의 <strong>효율성</strong>이나 <strong>최적성</strong>에 따라 <strong>연속적인 보상</strong>을 제공.</li></ul></li><li><p><strong>구현 방식:</strong></p><ul><li><strong>Lean 4 피드백</strong> 외에도, 증명 과정에서의 <strong>오류 빈도</strong>, <strong>증명 길이</strong> 등을 기반으로 <strong>보상 함수</strong>를 정의.</li><li><strong>보상 모델</strong>이 증명 생성 과정의 <strong>다양한 성능 지표</strong>를 반영하도록 설계.</li></ul></li><li><p><strong>효과:</strong></p><ul><li>단순한 성공/실패 평가를 넘어서, <strong>증명의 질적 평가</strong>를 통한 학습 가능.</li><li>모델이 <strong>효율적이고 최적화된 증명 경로</strong>를 생성하도록 유도.</li></ul></li></ol><hr><h3 id=4-성능-향상-결과><strong>4. 성능 향상 결과</strong></h3><ol><li><p><strong>miniF2F 벤치마크(고등학교 수준)</strong></p><ul><li>기존 DeepSeek-Prover V1의 50.0% 성공률에서 **60.2%**로 <strong>10.2%p</strong> 향상.</li><li><strong>RMaxTS</strong> 탐색 적용 시 **63.5%**로 <strong>최고 성능(state-of-the-art)</strong> 달성.</li></ul></li><li><p><strong>ProofNet 벤치마크(대학 수준)</strong></p><ul><li>기존 모델의 15.9%에서 **23.7%**로 <strong>7.8%p</strong> 향상.</li><li><strong>RMaxTS</strong> 적용 시 **25.3%**로 최고 성능 달성.</li></ul></li><li><p><strong>보상 희소성 문제 해결 효과:</strong></p><ul><li><strong>부분 증명 보상</strong>과 <strong>내재적 보상</strong> 전략을 통해 <strong>복잡한 증명</strong>에서도 높은 성공률 유지.</li><li><strong>탐색의 다양성</strong>과 <strong>효율성</strong>을 동시에 확보하여 모델의 <strong>일반화 능력</strong> 강화.</li></ul></li></ol><hr><h3 id=5-결론-1><strong>5. 결론</strong></h3><p>DeepSeek-Prover-V1.5의 **RLPAF (Reinforcement Learning from Proof Assistant Feedback)**는 <strong>Lean 4 증명 보조기</strong>의 피드백을 활용하여 모델의 증명 생성 능력을 <strong>효율적으로 개선</strong>했습니다. <strong>부분 증명 보상</strong>, <strong>내재적 보상</strong>, 그리고 <strong>보상 모델 학습</strong>과 같은 전략을 통해 <strong>보상 희소성 문제</strong>를 효과적으로 해결했습니다. 이로 인해 <strong>복잡한 수학 문제</strong>에서도 높은 성공률을 달성할 수 있었으며, <strong>miniF2F</strong>와 <strong>ProofNet</strong> 벤치마크에서 <strong>새로운 최고 성능</strong>을 달성했습니다. 이러한 접근법은 향후 <strong>더 복잡한 증명 문제</strong>와 <strong>자동화된 수학 증명 시스템</strong> 개발에 중요한 기여를 할 것입니다.</p><h1 id=q--deepseek-prover-v15의-truncate-and-resume-메커니즘이-증명-실패-시-탐색-효율성을-어떻게-유지하며-이-과정이-증명-경로의-다양성과-효율성-간의-균형을-어떻게-이루었는가>Q : DeepSeek-Prover-V1.5의 Truncate-and-Resume 메커니즘이 증명 실패 시 탐색 효율성을 어떻게 유지하며, 이 과정이 증명 경로의 다양성과 효율성 간의 균형을 어떻게 이루었는가?</h1><h3 id=1-truncate-and-resume-메커니즘-개요><strong>1. Truncate-and-Resume 메커니즘 개요</strong></h3><p><strong>Truncate-and-Resume 메커니즘</strong>은 DeepSeek-Prover-V1.5가 <strong>증명 실패 시</strong> 증명 과정을 <strong>효율적으로 이어가는</strong> 핵심 전략입니다. 이 메커니즘은 <strong>전체 증명을 폐기</strong>하지 않고, <strong>성공한 부분 증명</strong>을 기반으로 탐색을 <strong>효율적으로 유지</strong>하면서 <strong>새로운 증명 경로</strong>를 탐색하는 데 기여합니다.</p><hr><h3 id=2-truncate-and-resume-메커니즘의-작동-원리><strong>2. Truncate-and-Resume 메커니즘의 작동 원리</strong></h3><hr><h4 id=a-증명-실패-시-처리-방식><strong>A. 증명 실패 시 처리 방식</strong></h4><ol><li><p><strong>기존 방식의 문제점:</strong></p><ul><li>기존의 증명 생성 모델은 <strong>전체 증명</strong>을 한 번에 생성한 후, <strong>오류 발생 시</strong> 전체 증명 코드를 <strong>폐기</strong>하고 새로운 증명을 다시 생성해야 했습니다.</li><li>이로 인해 <strong>탐색 비용</strong>이 증가하고, <strong>성공적인 부분 증명</strong>조차 재사용되지 않아 비효율적이었습니다.</li></ul></li><li><p><strong>Truncate-and-Resume의 접근법:</strong></p><ul><li>증명 실패 시 <strong>Lean 4 증명 보조기</strong>로부터 받은 <strong>오류 메시지</strong>를 기반으로, <strong>오류가 발생한 지점</strong>에서 증명을 <strong>자르고(truncate)</strong>, 성공한 부분 이후부터 **다시 증명을 생성(resume)**합니다.</li></ul></li><li><p><strong>구체적인 과정:</strong></p><ul><li><strong>1단계:</strong> 전체 증명 생성 → Lean 4 검증 → 오류 발생 시 <strong>오류 위치</strong> 파악.</li><li><strong>2단계:</strong> 오류 발생 이전까지의 <strong>성공한 증명 코드</strong>를 저장.</li><li><strong>3단계:</strong> 저장된 성공 코드 이후부터 <strong>새로운 증명</strong>을 이어서 생성.</li></ul></li></ol><hr><h4 id=b-탐색-트리와의-통합-monte-carlo-tree-search><strong>B. 탐색 트리와의 통합 (Monte-Carlo Tree Search)</strong></h4><ol><li><p><strong>탐색 트리 구성:</strong></p><ul><li>증명 과정은 <strong>트리 구조</strong>로 표현되며, 각 <strong>트리 노드</strong>는 특정 증명 단계(tactic)를 나타냅니다.</li><li><strong>성공한 증명 단계</strong>는 트리의 <strong>확정된 경로</strong>로 저장되고, <strong>실패한 지점</strong>에서 새로운 분기가 생성됩니다.</li></ul></li><li><p><strong>Truncate-and-Resume의 역할:</strong></p><ul><li>트리 탐색 시 <strong>성공한 노드</strong>까지는 재탐색 없이 <strong>재사용</strong>하고, 실패한 부분 이후에서만 <strong>새로운 경로</strong>를 탐색.</li><li>이를 통해 <strong>탐색 효율성</strong>을 유지하면서도 <strong>다양한 증명 경로</strong>를 시도할 수 있습니다.</li></ul></li></ol><hr><h3 id=3-탐색-효율성-유지-방식><strong>3. 탐색 효율성 유지 방식</strong></h3><hr><h4 id=a-성공한-부분-증명의-재사용><strong>A. 성공한 부분 증명의 재사용</strong></h4><ol><li><p><strong>비효율적 반복 방지:</strong></p><ul><li>기존 방식에서는 동일한 부분 증명을 반복적으로 생성해야 했으나, Truncate-and-Resume은 <strong>성공한 부분 증명을 저장</strong>하여 재활용합니다.</li></ul></li><li><p><strong>탐색 시간 및 자원 절약:</strong></p><ul><li>증명의 <strong>중간 결과</strong>를 활용하여 <strong>새로운 증명 생성</strong>에 필요한 <strong>계산 자원</strong>과 <strong>시간</strong>을 절약.</li><li><strong>Lean 4 검증 비용</strong>도 감소하여 전체적인 <strong>탐색 효율성</strong> 향상.</li></ul></li></ol><hr><h4 id=b-오류-피드백-기반-증명-개선><strong>B. 오류 피드백 기반 증명 개선</strong></h4><ol><li><p><strong>Lean 4 오류 메시지 활용:</strong></p><ul><li><strong>Lean 4 증명 보조기</strong>가 제공하는 <strong>구체적인 오류 메시지</strong>를 기반으로, 증명 실패 원인을 파악.</li><li>모델은 <strong>오류 발생 패턴</strong>을 학습하여, 이후 증명 생성 시 <strong>같은 오류를 피하는 전략</strong>을 개발.</li></ul></li><li><p><strong>점진적 증명 개선:</strong></p><ul><li>증명 실패 시 전체를 재생성하지 않고, 실패한 부분만 <strong>국소적으로 수정</strong>하여 <strong>점진적으로 개선</strong>.</li><li>이를 통해 <strong>반복적인 오류</strong>를 줄이고, <strong>효율적인 증명 경로</strong> 탐색 가능.</li></ul></li></ol><hr><h3 id=4-증명-경로의-다양성과-효율성-간의-균형-유지><strong>4. 증명 경로의 다양성과 효율성 간의 균형 유지</strong></h3><hr><h4 id=a-탐색-경로의-다양성-확보-1><strong>A. 탐색 경로의 다양성 확보</strong></h4><ol><li><p><strong>Truncate-and-Resume의 기여:</strong></p><ul><li>성공한 부분을 유지하면서, 실패한 지점 이후에는 <strong>다양한 증명 전략</strong>을 시도할 수 있도록 합니다.</li><li>이로 인해 모델은 기존 증명 경로에 <strong>고착되지 않고</strong>, <strong>새로운 경로</strong>를 탐색할 수 있습니다.</li></ul></li><li><p><strong>RMaxTS와의 연계:</strong></p><ul><li>**RMaxTS(탐색 지향 몬테카로 트리 탐색)**와 결합하여, <strong>내재적 보상</strong>을 통해 <strong>새로운 탐색 경로</strong> 발견 시 보상을 부여.</li><li>다양한 경로 탐색을 장려하면서도, 불필요한 반복 탐색은 방지.</li></ul></li></ol><hr><h4 id=b-탐색-효율성의-극대화><strong>B. 탐색 효율성의 극대화</strong></h4><ol><li><p><strong>중복 탐색 최소화:</strong></p><ul><li>동일한 부분 증명을 반복 생성하지 않고, <strong>성공한 부분</strong>을 재활용하여 <strong>탐색 비용</strong> 최소화.</li></ul></li><li><p><strong>최적화된 탐색 전략:</strong></p><ul><li>**할인된 상한 탐색(Discounted UCB)**을 통해 최신 탐색 경로에 더 높은 가중치를 부여, <strong>효율적인 탐색 경로</strong>를 유지.</li></ul></li></ol><hr><h3 id=5-성능-향상-결과><strong>5. 성능 향상 결과</strong></h3><ol><li><p><strong>miniF2F 벤치마크(고등학교 수준)</strong></p><ul><li>기존 모델 대비 <strong>9%p 이상의 성능 향상</strong> (50% → 63.5%).</li><li>Truncate-and-Resume 메커니즘을 통해 <strong>탐색 비용 절감</strong>과 <strong>성공률</strong> 동시 개선.</li></ul></li><li><p><strong>ProofNet 벤치마크(대학 수준)</strong></p><ul><li>기존 모델 대비 <strong>7%p 이상 향상</strong> (15.9% → 25.3%).</li><li>복잡한 증명 문제에서 <strong>부분 증명</strong>을 효과적으로 활용하여 성공률 증가.</li></ul></li></ol><hr><h3 id=6-결론><strong>6. 결론</strong></h3><p>DeepSeek-Prover-V1.5의 <strong>Truncate-and-Resume 메커니즘</strong>은 <strong>증명 실패 시</strong>에도 <strong>성공한 부분 증명</strong>을 재활용하여 <strong>탐색 효율성</strong>을 유지하고, <strong>새로운 증명 경로</strong>를 탐색하는 데 중요한 역할을 했습니다. 이 메커니즘은 <strong>탐색 경로의 다양성</strong>과 <strong>탐색 효율성</strong> 간의 균형을 유지하여, <strong>복잡한 증명 문제</strong>에서도 높은 성공률을 달성했습니다. <strong>RMaxTS</strong>와의 결합을 통해 <strong>탐색의 다양성</strong>을 강화하면서도, <strong>Lean 4 증명 보조기</strong>의 피드백을 활용하여 <strong>효율적인 증명 경로</strong>를 지속적으로 개발할 수 있었습니다. 이러한 접근법은 향후 <strong>자동화된 수학 증명 시스템</strong>의 발전에 중요한 기여를 할 것입니다.</p></article></main><footer class="mx-auto max-w-4xl px-4 py-8"><div class="px-6 py-6"><nav class=mb-6><div class="flex flex-wrap items-center justify-center gap-1"><a href=/index.xml class="nav-link hover:text-primary hover:bg-primary/10 text-muted-foreground flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="RSS Feed"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18.0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"/></svg>
<span>RSS Feed</span></a></div></nav><div class="border-border mb-6 border-t"></div><div class="flex flex-col items-center justify-between gap-4 md:flex-row"><div class="text-muted-foreground text-sm"><p>&copy; 2025 Jaehun's Blog.
모든 권리 보유.</p></div><div class="flex items-center gap-3"><a href=https://github.com/ryujaehun target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=GitHub aria-label=GitHub><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="GitHub"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 22v-4a4.8 4.8.0 00-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35.0-3.5.0.0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35.0 3.5A5.4 5.4.0 004 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></g></svg>
</a><a href=https://www.linkedin.com/in/jaehunryu/ target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Linkedin aria-label=Linkedin><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="Linkedin"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6M2 9h4v12H2z"/><circle cx="4" cy="4" r="2"/></g></svg>
</a><a href=mailto:jaehunryu@icloud.com class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Email aria-label=Email><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-label="Email"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22.0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v10a2 2 0 002 2z"/></svg></a></div></div></div></footer><div id=dock class="pointer-events-none fixed bottom-4 left-1/2 z-[9999] w-fit -translate-x-1/2 translate-y-24 opacity-0 transition-all duration-300 ease-out sm:right-0 sm:left-0 sm:mx-auto sm:translate-x-0" role=toolbar aria-label="바로가기 도구 모음"><nav class="border-border bg-card/80 scrollbar-hide xs:px-3 xs:py-2 mx-auto flex max-w-[calc(100vw-2rem)] min-w-fit items-center justify-center overflow-x-auto rounded-2xl border px-4 py-3 shadow-lg backdrop-blur-sm sm:px-4 sm:py-3"><button id=dock-back class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title=뒤로 aria-label=뒤로>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
<span class="hidden sm:inline">뒤로</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-toc class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title=목차 aria-label=목차>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg>
<span class="hidden sm:inline">목차</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-search class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-3 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-4 sm:py-2" title=검색 aria-label=검색>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg>
<span class="hidden md:inline">검색</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-top class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title="맨 위로" aria-label="맨 위로">
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m18 15-6-6-6 6"/></svg>
<span class="hidden sm:inline">맨 위로</span></button></nav></div><div id=toc-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 backdrop-blur-sm transition-all duration-300" role=dialog aria-modal=true aria-labelledby=toc-title></div><div id=toc-card class="pointer-events-none fixed inset-4 z-50 flex w-auto scale-95 items-center justify-center opacity-0 transition-all duration-300 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:block sm:w-full sm:max-w-md sm:-translate-x-1/2 sm:-translate-y-1/2" role=dialog aria-modal=true aria-labelledby=toc-title><div class="bg-card border-border w-full max-w-sm overflow-hidden rounded-xl border shadow-xl sm:max-w-md"><div class="border-border bg-muted/30 flex items-center justify-between border-b p-4"><div class="flex items-center gap-3"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg><h2 id=toc-title class="text-foreground text-lg font-semibold">목차</h2></div><button id=toc-close class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 rounded-lg p-2 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none" title=닫기 aria-label=닫기>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div class="max-h-96 overflow-y-auto p-4"><nav id=toc-nav class=toc-scrollbar aria-label="글 목차"><div id=toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#논문의-강점-및-독창성><strong>논문의 강점 및 독창성</strong></a></li><li><a href=#핵심-알고리즘-설명-rmaxts><strong>핵심 알고리즘 설명 (RMaxTS)</strong></a></li><li><a href=#논문의-한계점><strong>논문의 한계점</strong></a></li><li><a href=#결론><strong>결론</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#핵심-알고리즘-rmaxts-탐색-지향-몬테카를로-트리-탐색><strong>핵심 알고리즘: RMaxTS (탐색 지향 몬테카를로 트리 탐색)</strong></a></li><li><a href=#1-전체-알고리즘-구조><strong>1. 전체 알고리즘 구조</strong></a></li><li><a href=#2-예제와-함께-단계별-상세-설명><strong>2. 예제와 함께 단계별 상세 설명</strong></a><ul><li><a href=#step-1-초기-전체-증명-생성-whole-proof-generation><strong>Step 1: 초기 전체 증명 생성 (Whole-Proof Generation)</strong></a></li><li><a href=#step-2-truncate-and-resume-메커니즘-적용><strong>Step 2: Truncate-and-Resume 메커니즘 적용</strong></a></li><li><a href=#step-3-몬테카를로-트리-탐색-monte-carlo-tree-search><strong>Step 3: 몬테카를로 트리 탐색 (Monte-Carlo Tree Search)</strong></a></li><li><a href=#step-4-내재적-보상intrinsic-reward-기반-탐색-강화><strong>Step 4: 내재적 보상(Intrinsic Reward) 기반 탐색 강화</strong></a></li></ul></li><li><a href=#3-최종-증명-결과><strong>3. 최종 증명 결과</strong></a></li><li><a href=#4-알고리즘의-핵심-개념-정리><strong>4. 알고리즘의 핵심 개념 정리</strong></a></li><li><a href=#결론-1><strong>결론</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#1-필요한-데이터셋-종류><strong>1. 필요한 데이터셋 종류</strong></a><ul><li><a href=#a-데이터셋-종류-및-구성><strong>A. 데이터셋 종류 및 구성</strong></a></li></ul></li><li><a href=#2-학습-단계별-데이터셋-활용-및-과정><strong>2. 학습 단계별 데이터셋 활용 및 과정</strong></a><ul><li><a href=#a-사전-학습-pre-training><strong>A. 사전 학습 (Pre-training)</strong></a></li><li><a href=#b-감독-학습-supervised-fine-tuning><strong>B. 감독 학습 (Supervised Fine-tuning)</strong></a></li><li><a href=#c-강화-학습-reinforcement-learning-from-proof-assistant-feedback><strong>C. 강화 학습 (Reinforcement Learning from Proof Assistant Feedback)</strong></a></li></ul></li><li><a href=#3-전체-학습-프로세스-예시><strong>3. 전체 학습 프로세스 예시</strong></a></li><li><a href=#결론-2><strong>결론</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#1-논문의-결과-요약><strong>1. 논문의 결과 요약</strong></a><ul><li><a href=#a-주요-성능-결과><strong>A. 주요 성능 결과</strong></a></li></ul></li><li><a href=#2-기존-방법론-대비-특출난-점><strong>2. 기존 방법론 대비 특출난 점</strong></a><ul><li><a href=#a-기존-방법론과의-비교><strong>A. 기존 방법론과의 비교</strong></a></li><li><a href=#b-deepseek-prover-v15의-차별화된-접근법><strong>B. DeepSeek-Prover-V1.5의 차별화된 접근법</strong></a></li></ul></li><li><a href=#3-논문에서-제시한-성능-향상의-이유><strong>3. 논문에서 제시한 성능 향상의 이유</strong></a><ul><li><a href=#a-탐색-지향-몬테카를로-트리-탐색-rmaxts><strong>A. 탐색 지향 몬테카를로 트리 탐색 (RMaxTS)</strong></a></li><li><a href=#b-truncate-and-resume-메커니즘><strong>B. Truncate-and-Resume 메커니즘</strong></a></li><li><a href=#c-증명-보조기-피드백을-활용한-강화-학습-rlpaf><strong>C. 증명 보조기 피드백을 활용한 강화 학습 (RLPAF)</strong></a></li></ul></li><li><a href=#4-나의-생각-성능-향상의-주요-요인-분석><strong>4. 나의 생각: 성능 향상의 주요 요인 분석</strong></a><ul><li><a href=#a-탐색의-다양성과-효율성의-균형><strong>A. 탐색의 다양성과 효율성의 균형</strong></a></li><li><a href=#b-증명-보조기-피드백의-활용><strong>B. 증명 보조기 피드백의 활용</strong></a></li><li><a href=#c-chain-of-thought-cot-주석의-영향><strong>C. Chain-of-Thought (CoT) 주석의 영향</strong></a></li></ul></li><li><a href=#5-결론><strong>5. 결론</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#1-기존-방법-대비-추가적인-구현-요소><strong>1. 기존 방법 대비 추가적인 구현 요소</strong></a><ul><li><a href=#a-추가적으로-필요한-구현-요소><strong>A. 추가적으로 필요한 구현 요소</strong></a></li></ul></li><li><a href=#2-구현에-소요되는-공수><strong>2. 구현에 소요되는 공수</strong></a><ul><li><a href=#a-개발-공수-추산-팀-기준><strong>A. 개발 공수 추산 (팀 기준)</strong></a></li></ul></li><li><a href=#3-컴퓨팅-자원-소요-추산><strong>3. 컴퓨팅 자원 소요 추산</strong></a><ul><li><a href=#a-학습-단계별-자원-소요><strong>A. 학습 단계별 자원 소요</strong></a></li><li><a href=#b-자원-소모량-계산><strong>B. 자원 소모량 계산</strong></a></li></ul></li><li><a href=#4-실제-적용-시-고려할-점><strong>4. 실제 적용 시 고려할 점</strong></a></li><li><a href=#결론-3><strong>결론</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#1-입력-데이터와-추론-과정><strong>1. 입력 데이터와 추론 과정</strong></a><ul><li><a href=#a-입력-데이터-예시><strong>A. 입력 데이터 예시</strong></a></li><li><a href=#b-추론-과정><strong>B. 추론 과정</strong></a></li></ul></li><li><a href=#2-모델-아키텍처-구성><strong>2. 모델 아키텍처 구성</strong></a><ul><li><a href=#a-아키텍처-세부-구성><strong>A. 아키텍처 세부 구성</strong></a></li><li><a href=#b-트랜스포머-아키텍처-상세><strong>B. 트랜스포머 아키텍처 상세</strong></a></li></ul></li><li><a href=#3-연산-및-메모리-요구량><strong>3. 연산 및 메모리 요구량</strong></a><ul><li><a href=#a-메모리-요구량><strong>A. 메모리 요구량</strong></a></li><li><a href=#b-연산-요구량-flops><strong>B. 연산 요구량 (FLOPs)</strong></a></li><li><a href=#c-컴퓨팅-자원-요구량><strong>C. 컴퓨팅 자원 요구량</strong></a></li></ul></li><li><a href=#결론-4><strong>결론</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#1-논문의-주요-한계><strong>1. 논문의 주요 한계</strong></a><ul><li><a href=#a-주요-한계점><strong>A. 주요 한계점</strong></a></li></ul></li><li><a href=#2-한계-극복을-위한-연구-흐름><strong>2. 한계 극복을 위한 연구 흐름</strong></a><ul><li><a href=#a-강화-학습-최적화-연구><strong>A. 강화 학습 최적화 연구</strong></a></li><li><a href=#b-탐색-알고리즘-개선-연구><strong>B. 탐색 알고리즘 개선 연구</strong></a></li><li><a href=#c-모델-아키텍처-혁신-연구><strong>C. 모델 아키텍처 혁신 연구</strong></a></li><li><a href=#d-지식-통합-및-자동화-연구><strong>D. 지식 통합 및 자동화 연구</strong></a></li></ul></li><li><a href=#3-종합적-미래-연구-방향><strong>3. 종합적 미래 연구 방향</strong></a></li><li><a href=#결론-5><strong>결론</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#1-rmaxts탐색-지향-몬테카로-트리-탐색의-핵심-차별점><strong>1. RMaxTS(탐색 지향 몬테카로 트리 탐색)의 핵심 차별점</strong></a><ul><li><a href=#a-내재적-보상intrinsic-reward-도입><strong>A. 내재적 보상(Intrinsic Reward) 도입</strong></a></li><li><a href=#b-truncate-and-resume-메커니즘-통합><strong>B. Truncate-and-Resume 메커니즘 통합</strong></a></li><li><a href=#c-할인된-상한-탐색discounted-upper-confidence-bound-ducb><strong>C. 할인된 상한 탐색(Discounted Upper Confidence Bound, DUCB)</strong></a></li></ul></li><li><a href=#2-이러한-차별점이-증명-성공률-향상에-기여한-방식><strong>2. 이러한 차별점이 증명 성공률 향상에 기여한 방식</strong></a><ul><li><a href=#a-탐색-경로의-다양성-확보><strong>A. 탐색 경로의 다양성 확보</strong></a></li><li><a href=#b-탐색-효율성-증대><strong>B. 탐색 효율성 증대</strong></a></li><li><a href=#c-보상-희소성-문제-해결><strong>C. 보상 희소성 문제 해결</strong></a></li></ul></li><li><a href=#3-결론><strong>3. 결론</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#1-증명-보조기lean-4의-피드백을-활용한-강화-학습rlpaf의-개요><strong>1. 증명 보조기(Lean 4)의 피드백을 활용한 강화 학습(RLPAF)의 개요</strong></a></li><li><a href=#2-rlpaf가-모델의-증명-생성-능력을-개선한-방식><strong>2. RLPAF가 모델의 증명 생성 능력을 개선한 방식</strong></a><ul><li><a href=#a-lean-4-증명-보조기의-피드백-활용><strong>A. Lean 4 증명 보조기의 피드백 활용</strong></a></li><li><a href=#b-강화-학습-루프-grpo-적용><strong>B. 강화 학습 루프 (GRPO) 적용</strong></a></li></ul></li><li><a href=#3-보상-희소성sparse-reward-문제-해결을-위한-전략><strong>3. 보상 희소성(Sparse Reward) 문제 해결을 위한 전략</strong></a><ul><li><a href=#a-부분-증명-보상partial-proof-reward-전략><strong>A. 부분 증명 보상(Partial Proof Reward) 전략</strong></a></li><li><a href=#b-내재적-보상intrinsic-reward-도입><strong>B. 내재적 보상(Intrinsic Reward) 도입</strong></a></li><li><a href=#c-보상-모델-학습reward-model-learning><strong>C. 보상 모델 학습(Reward Model Learning)</strong></a></li></ul></li><li><a href=#4-성능-향상-결과><strong>4. 성능 향상 결과</strong></a></li><li><a href=#5-결론-1><strong>5. 결론</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#1-truncate-and-resume-메커니즘-개요><strong>1. Truncate-and-Resume 메커니즘 개요</strong></a></li><li><a href=#2-truncate-and-resume-메커니즘의-작동-원리><strong>2. Truncate-and-Resume 메커니즘의 작동 원리</strong></a><ul><li><a href=#a-증명-실패-시-처리-방식><strong>A. 증명 실패 시 처리 방식</strong></a></li><li><a href=#b-탐색-트리와의-통합-monte-carlo-tree-search><strong>B. 탐색 트리와의 통합 (Monte-Carlo Tree Search)</strong></a></li></ul></li><li><a href=#3-탐색-효율성-유지-방식><strong>3. 탐색 효율성 유지 방식</strong></a><ul><li><a href=#a-성공한-부분-증명의-재사용><strong>A. 성공한 부분 증명의 재사용</strong></a></li><li><a href=#b-오류-피드백-기반-증명-개선><strong>B. 오류 피드백 기반 증명 개선</strong></a></li></ul></li><li><a href=#4-증명-경로의-다양성과-효율성-간의-균형-유지><strong>4. 증명 경로의 다양성과 효율성 간의 균형 유지</strong></a><ul><li><a href=#a-탐색-경로의-다양성-확보-1><strong>A. 탐색 경로의 다양성 확보</strong></a></li><li><a href=#b-탐색-효율성의-극대화><strong>B. 탐색 효율성의 극대화</strong></a></li></ul></li><li><a href=#5-성능-향상-결과><strong>5. 성능 향상 결과</strong></a></li><li><a href=#6-결론><strong>6. 결론</strong></a></li></ul></li></ul></nav></div></nav></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground text-center text-xs"><span>제목을 클릭하면 해당 위치로 이동합니다</span></div></div></div></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css integrity=sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js integrity=sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous></script><script>function initKaTeX(){if(typeof renderMathInElement=="undefined"){setTimeout(initKaTeX,100);return}var e=[{display:!0,left:"$$",right:"$$"},{display:!1,left:"$",right:"$"}];renderMathInElement(document.body,{delimiters:e,throwOnError:!1,errorColor:"#cc0000",fleqn:!1,leqno:!1,trust:!1})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initKaTeX):initKaTeX()</script><div id=search-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 transition-opacity duration-300"></div><div id=search-modal class="bg-card border-border pointer-events-none fixed top-1/2 left-1/2 z-50 max-h-[80vh] w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 scale-95 transform overflow-hidden rounded-xl border opacity-0 shadow-xl transition-all duration-300"><div class="border-border flex items-center gap-3 border-b p-4"><div class="text-muted-foreground h-5 w-5 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><div class="relative flex-1"><button id=search-clear class="text-muted-foreground hover:text-foreground hover:bg-muted/50 pointer-events-none absolute top-1/2 left-0 z-10 h-5 w-5 -translate-y-1/2 rounded opacity-0 transition-all duration-200" title=지우기 aria-label=지우기>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg>
</button>
<input id=search-input type=text placeholder="게시글 검색..." class="text-foreground placeholder:text-muted-foreground w-full border-none bg-transparent pl-8 text-lg outline-none" autocomplete=off spellcheck=false></div><button id=search-close class="text-muted-foreground hover:text-foreground hover:bg-muted/50 flex h-6 w-6 items-center justify-center rounded-md p-0.5 transition-all duration-200" title=닫기 aria-label=닫기>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div id=search-results class="max-h-96 overflow-y-auto"><div id=search-empty class="flex flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">검색 시작</h3><p class="text-muted-foreground text-sm">검색어를 입력하세요</p></div><div id=search-loading class="flex hidden items-center justify-center py-8"><div class="mr-3 h-6 w-6 animate-spin rounded-full border-2 border-current border-t-transparent"></div><span class=text-muted-foreground>검색 중...</span></div><div id=search-no-results class="flex hidden flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">검색 결과 없음</h3><p class="text-muted-foreground text-sm">다른 검색어로 시도해보세요</p></div><div id=search-results-list class=hidden><div id=search-stats class="text-muted-foreground border-border border-b px-4 py-3 text-sm" data-template="%d개의 결과 찾음"></div><div id=search-items class="divide-border divide-y"></div></div></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground flex items-center justify-between text-xs"><div class="flex items-center gap-2 md:gap-4"><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">↑↓</kbd>
<span class="hidden sm:inline">이동</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">↵</kbd>
<span class="hidden sm:inline">선택</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">ESC</kbd>
<span class="hidden sm:inline">닫기</span></div></div><div class="search-hint-desktop flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">⌘K</kbd>
<span>단축키</span></div></div></div></div></body></html>