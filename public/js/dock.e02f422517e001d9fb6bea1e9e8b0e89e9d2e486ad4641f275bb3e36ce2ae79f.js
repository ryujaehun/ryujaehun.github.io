(()=>{(function(){"use strict";let l=0,c=!1,s=100,n=document.getElementById("dock");if(!n)return;function w(){let o=window.pageYOffset||document.documentElement.scrollTop;o<l?c=!0:c=!1,c&&o>s?h():(!c||o<=s)&&r(),l=o}function h(){n.classList.remove("translate-y-24","opacity-0","pointer-events-none"),n.classList.add("translate-y-0","opacity-100","pointer-events-auto")}function r(){n.classList.remove("translate-y-0","opacity-100","pointer-events-auto"),n.classList.add("translate-y-24","opacity-0","pointer-events-none")}function g(o,t){let e;return function(){let i=arguments,p=this;e||(o.apply(p,i),e=!0,setTimeout(()=>e=!1,t))}}window.addEventListener("scroll",g(w,16));let a=document.getElementById("dock-back");a&&a.addEventListener("click",function(o){o.preventDefault();try{if(window.history.length>1&&document.referrer){let t=new URL(document.referrer),e=new URL(window.location.href);if(t.origin===e.origin){window.history.back(),console.log("\u8FD4\u56DE\u6309\u94AE\u70B9\u51FB - \u6D4F\u89C8\u5668\u8FD4\u56DE");return}}window.location.href="/",console.log("\u8FD4\u56DE\u6309\u94AE\u70B9\u51FB - \u8DF3\u8F6C\u9996\u9875")}catch(t){console.warn("\u8FD4\u56DE\u529F\u80FD\u51FA\u9519\uFF0C\u8DF3\u8F6C\u5230\u9996\u9875:",t),window.location.href="/"}});let d=document.getElementById("dock-toc");d&&d.addEventListener("click",function(o){o.preventDefault();function t(e=5){window.TOC&&window.TOC.initialized?window.TOC.toggle():window.TOC&&!window.TOC.initialized&&e>0?setTimeout(()=>t(e-1),200):!window.TOC&&e>0&&setTimeout(()=>t(e-1),200)}t()});let m=document.getElementById("dock-search");m&&m.addEventListener("click",function(o){o.preventDefault();function t(e=5){window.Search?window.Search.show():e>0&&setTimeout(()=>t(e-1),200)}t()});let u=document.getElementById("dock-comments");u&&u.addEventListener("click",function(o){o.preventDefault();try{let t=["#comments",".comments","#giscus-container",".giscus","#disqus_thread",".disqus","#utterances",".utterances","#waline",".waline","[data-comments]",".comment-section",".post-comments"],e=null;for(let i of t)if(e=document.querySelector(i),e){console.log(`\u627E\u5230\u8BC4\u8BBA\u533A\u57DF: ${i}`);break}e?(e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),console.log("\u8BC4\u8BBA\u6309\u94AE\u70B9\u51FB - \u6EDA\u52A8\u5230\u8BC4\u8BBA\u533A\u57DF")):(window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),console.log("\u8BC4\u8BBA\u6309\u94AE\u70B9\u51FB - \u672A\u627E\u5230\u8BC4\u8BBA\u533A\u57DF\uFF0C\u6EDA\u52A8\u5230\u9875\u9762\u5E95\u90E8"))}catch(t){console.warn("\u6EDA\u52A8\u5230\u8BC4\u8BBA\u533A\u57DF\u5931\u8D25:",t),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}});let f=document.getElementById("dock-top");f&&f.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),r(),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&console.log("Dock initialized successfully - positioned at perfect center bottom")})();})();
