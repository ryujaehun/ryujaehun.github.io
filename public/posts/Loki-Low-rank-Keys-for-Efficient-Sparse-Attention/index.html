<!doctype html>
<html
  lang="ko-kr"
  data-theme="claude">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1314&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />

<title>Loki: Low-rank Keys for Efficient Sparse Attention | Jaehun&#39;s Blog</title>

<meta name="description" content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문 **&ldquo;Loki: Low-rank Keys for..." />
<meta name="keywords" content="개발, 컴파일러, 프로그래밍, 에세이" />
<meta name="author" content="" />
<meta name="language" content="ko-kr" />

<meta name="robots" content="index, follow" />
<link rel="canonical" href="http://192.168.1.11:1314/posts/Loki-Low-rank-Keys-for-Efficient-Sparse-Attention/" />



  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />



<link rel="manifest" href="/site.webmanifest" />
<meta property="og:url" content="http://192.168.1.11:1314/posts/Loki-Low-rank-Keys-for-Efficient-Sparse-Attention/">
  <meta property="og:site_name" content="Jaehun&#39;s Blog">
  <meta property="og:title" content="Loki: Low-rank Keys for Efficient Sparse Attention">
  <meta property="og:description" content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문 **“Loki: Low-rank Keys for Efficient Sparse Attention”**에 대한 상세한 분석을 제공하겠습니다. 이 논문은 자가회귀 기반의 대규모 언어 모델(LLM)에서 사용되는 자가주의 메커니즘의 계산 및 메모리 병목 현상을 개선하기 위한 새로운 방법론을 제안합니다.">
  <meta property="og:locale" content="ko_kr">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-29T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-29T00:00:00+00:00">
    <meta property="og:image" content="http://192.168.1.11:1314/images/og-default.avif">


  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://192.168.1.11:1314/images/og-default.avif">
  <meta name="twitter:title" content="Loki: Low-rank Keys for Efficient Sparse Attention">
  <meta name="twitter:description" content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문 **“Loki: Low-rank Keys for Efficient Sparse Attention”**에 대한 상세한 분석을 제공하겠습니다. 이 논문은 자가회귀 기반의 대규모 언어 모델(LLM)에서 사용되는 자가주의 메커니즘의 계산 및 메모리 병목 현상을 개선하기 위한 새로운 방법론을 제안합니다.">


  <meta itemprop="name" content="Loki: Low-rank Keys for Efficient Sparse Attention">
  <meta itemprop="description" content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 논문 **“Loki: Low-rank Keys for Efficient Sparse Attention”**에 대한 상세한 분석을 제공하겠습니다. 이 논문은 자가회귀 기반의 대규모 언어 모델(LLM)에서 사용되는 자가주의 메커니즘의 계산 및 메모리 병목 현상을 개선하기 위한 새로운 방법론을 제안합니다.">
  <meta itemprop="datePublished" content="2024-11-29T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-11-29T00:00:00+00:00">
  <meta itemprop="wordCount" content="7393">
  <meta itemprop="image" content="http://192.168.1.11:1314/images/og-default.avif">
  <meta itemprop="keywords" content="Paper-Review,With-Gpt">







<script>
  window.HUGO_SEARCH_CONFIG = {
    searchIndexURL: "\"/index.json\""
  };
</script>


































<script>

  window.HUGO_GALLERY_CONFIG = {
    justified_gallery:  false ,
    lightbox:  false ,
    justified: "{}",
    lightbox_options: "{}"
  };
</script>




  
    <link rel="stylesheet" href="/css/compiled.css" />
  





  
    <link rel="stylesheet" href="/css/chroma.css" />
  












      <script src="/js/main.js"></script>



  <script src="/js/gumshoe.polyfills.min.js"></script>



        <script src="/js/toc.js" defer></script>



      <script src="/js/search.js" defer></script>



      <script src="/js/dock.js" defer></script>











  











    <script>
      
      (function() {
        const theme = localStorage.getItem('theme') || 'system';
        const colorScheme = localStorage.getItem('colorScheme') || 'claude';

        
        document.documentElement.setAttribute('data-theme', colorScheme);

        
        function applyTheme() {
          if (theme === 'dark' || (theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
          } else {
            document.documentElement.classList.remove('dark');
          }
        }

        applyTheme();

        
        if (theme === 'system') {
          window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', applyTheme);
        }
      })();
    </script>
  </head>

  <body class="bg-background text-foreground min-h-screen antialiased">
    
    
  <div
    id="reading-progress-container"
    class="reading-progress-container pointer-events-none fixed top-0 right-0 left-0 z-50 transition-opacity duration-300 ease-out"
    data-height="3"
    data-smooth-scroll="true"
    data-hide-on-complete="false">
    
    <div class="reading-progress-bg w-full"></div>

    
    <div
      id="reading-progress-bar"
      class="from-primary to-primary/80 reading-progress-bar 
        transition-all duration-150 ease-out
       absolute top-0 left-0 w-0 bg-gradient-to-r"></div>
  </div>

  <script>
    (function () {
      "use strict";

      const progressContainer = document.getElementById(
        "reading-progress-container",
      );
      const progressBar = document.getElementById("reading-progress-bar");

      if (!progressContainer || !progressBar) return;

      
      const config = {
        smoothScroll: progressContainer.dataset.smoothScroll === "true",
        hideOnComplete: progressContainer.dataset.hideOnComplete === "true",
      };

      let isVisible = true;
      let gumshoeInstance = null;

      
      function calculateProgress() {
        const scrollTop =
          window.pageYOffset || document.documentElement.scrollTop;
        const documentHeight = document.documentElement.scrollHeight;
        const windowHeight = window.innerHeight;
        const scrollableHeight = documentHeight - windowHeight;

        if (scrollableHeight <= 0) return 0;

        return Math.min(Math.max((scrollTop / scrollableHeight) * 100, 0), 100);
      }

      
      function updateProgress() {
        const progress = calculateProgress();
        progressBar.style.width = progress + "%";

        
        if (config.hideOnComplete && progress >= 99.5) {
          if (isVisible) {
            progressContainer.style.opacity = "0";
            isVisible = false;
          }
        } else if (!isVisible) {
          progressContainer.style.opacity = "1";
          isVisible = true;
        }
      }

      
      let ticking = false;
      function requestTick() {
        if (!ticking) {
          requestAnimationFrame(() => {
            updateProgress();
            ticking = false;
          });
          ticking = true;
        }
      }

      
      function init() {
        
        window.addEventListener("scroll", requestTick, { passive: true });
        window.addEventListener("resize", requestTick, { passive: true });
        document.addEventListener("visibilitychange", () => {
          if (!document.hidden) requestTick();
        });

        
        requestTick();

        
        window.addEventListener("beforeunload", () => {
          window.removeEventListener("scroll", requestTick);
          window.removeEventListener("resize", requestTick);
        });
      }

      
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", init);
      } else {
        init();
      }
    })();
  </script>

    <header class="sticky top-0 z-50 mx-auto max-w-4xl px-4 py-6">
  <div
    class="border-border bg-card/80 flex items-center rounded-xl border px-6 py-4 shadow-sm backdrop-blur-sm">
    
    <div class="hidden w-full items-center md:flex">
      
      <div class="flex items-center">
        
          
          <a
            href="/"
            class="bg-primary text-primary-foreground hover:bg-primary/90 flex h-10 w-10 items-center justify-center rounded-full text-lg font-bold transition-transform duration-200 hover:scale-105"
            aria-label="Jaehun&#39;s Blog">
            J
          </a>
        
      </div>

      
      <nav class="mx-8 flex flex-1 items-center justify-center">
        <div class="flex items-center space-x-1">
          
          
            
            
            
              
                
              
            
            
            <a
              href="/posts/"
              class="nav-link 
                text-muted-foreground hover:text-primary hover:bg-primary/10
               focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none">
              
                
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.posts">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />

</svg>
              
              <span
                >
                  게시글
                </span
              >
            </a>
          
            
            
            
              
                
              
            
            
            <a
              href="/categories/"
              class="nav-link 
                text-muted-foreground hover:text-primary hover:bg-primary/10
               focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none">
              
                
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.categories">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />

</svg>
              
              <span
                >
                  카테고리
                </span
              >
            </a>
          
            
            
            
              
                
              
            
            
            <a
              href="/tags/"
              class="nav-link 
                text-muted-foreground hover:text-primary hover:bg-primary/10
               focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none">
              
                
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.tags">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />

</svg>
              
              <span
                >
                  태그
                </span
              >
            </a>
          
            
            
            
              
                
              
            
            
            <a
              href="/archives/"
              class="nav-link 
                text-muted-foreground hover:text-primary hover:bg-primary/10
               focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none">
              
                
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.archives">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />

</svg>
              
              <span
                >
                  아카이브
                </span
              >
            </a>
          
        </div>
      </nav>

      
      <div class="flex items-center space-x-2">
        
        
<div class="relative">
  <button id="language-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95"
    data-dropdown-type="language"
    aria-label="언어 변경"
    aria-expanded="false"
    aria-haspopup="true">
      
  <svg class="h-5 w-5 relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="언어 변경">
	<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8l6 6m-7 0l6-6l2-3M2 5h12M7 2h1m14 20l-5-10l-5 10m2-4h6" />
</svg></button>

  
  <div id="language-dropdown"
    class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out"
    data-dropdown-type="language"
    role="menu"
    aria-labelledby="language-toggle"><a href="/ko/" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role="menuitem" aria-current="true"><span class="font-medium">한국어</span></a><a href="/en/" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role="menuitem"><span class="font-medium">English</span></a></div>
</div>

        
        
<div class="relative">
  <button id="color-scheme-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95"
    data-dropdown-type="color-scheme"
    aria-label="테마 변경"
    aria-expanded="false"
    aria-haspopup="true">
      
  <svg class="h-5 w-5 relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="테마 변경">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z" />

</svg></button>

  
  <div id="color-scheme-dropdown"
    class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out"
    data-dropdown-type="color-scheme"><button data-color-scheme="claude" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme="default" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme="bumblebee" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme="emerald" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme="nord" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme="sunset" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme="abyss" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme="dracula" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme="amethyst" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme="slate" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme="twitter" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div>
</div>

        
        
<div class="relative">
  <button id="theme-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95"
    data-dropdown-type="theme"
    aria-label="테마 변경"
    aria-expanded="false"
    aria-haspopup="true">
      
      
  <svg class="h-5 w-5 sun-icon hidden relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="라이트">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />

</svg>
      
      
  <svg class="h-5 w-5 moon-icon hidden relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="다크">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />

</svg>
      
      
  <svg class="h-5 w-5 system-icon hidden relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="시스템">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />

</svg></button>

  
  <div id="theme-dropdown"
    class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out"
    data-dropdown-type="theme"><button data-theme="light" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
  <svg class="h-5 w-5 mr-3 h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="라이트">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />

</svg><span>라이트</span></button><button data-theme="dark" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
  <svg class="h-5 w-5 mr-3 h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="다크">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />

</svg><span>다크</span></button><button data-theme="system" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
  <svg class="h-5 w-5 mr-3 h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="시스템">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />

</svg><span>시스템</span></button></div>
</div>
      </div>
    </div>

    
    <div class="flex w-full items-center justify-between md:hidden">
      
      
<div class="relative">
  <button
    id="mobile-menu-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:bg-accent hover:text-foreground flex h-10 w-10 items-center justify-center rounded-lg border transition-colors duration-200"
    data-dropdown-type="mobile-menu"
    aria-label="메뉴"
    aria-expanded="false"
    aria-haspopup="true">
    
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="메뉴">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />

</svg>
  </button>

  
  <div
    id="mobile-menu"
    class="mobile-menu dropdown-menu border-border bg-popover/95 absolute top-12 left-0 z-[60] hidden w-80 max-w-[calc(100vw-2rem)] rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out md:hidden"
    data-dropdown-type="mobile-menu"
    role="menu"
    aria-labelledby="mobile-menu-toggle">
    <nav class="flex flex-col">
      
      
        
        
        
          
            
          
        
        
        <a
          href="/posts/"
          class="nav-link 
            text-muted-foreground hover:text-primary hover:bg-primary/10
           focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none"
          role="menuitem"
          >
          
            
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.posts">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />

</svg>
          
          <span
            >
              게시글
            </span
          >
        </a>
      
        
        
        
          
            
          
        
        
        <a
          href="/categories/"
          class="nav-link 
            text-muted-foreground hover:text-primary hover:bg-primary/10
           focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none"
          role="menuitem"
          >
          
            
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.categories">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />

</svg>
          
          <span
            >
              카테고리
            </span
          >
        </a>
      
        
        
        
          
            
          
        
        
        <a
          href="/tags/"
          class="nav-link 
            text-muted-foreground hover:text-primary hover:bg-primary/10
           focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none"
          role="menuitem"
          >
          
            
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.tags">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />

</svg>
          
          <span
            >
              태그
            </span
          >
        </a>
      
        
        
        
          
            
          
        
        
        <a
          href="/archives/"
          class="nav-link 
            text-muted-foreground hover:text-primary hover:bg-primary/10
           focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none"
          role="menuitem"
          >
          
            
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.archives">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />

</svg>
          
          <span
            >
              아카이브
            </span
          >
        </a>
      
    </nav>
  </div>
</div>


      
      <div class="flex items-center space-x-2">
        
        
<div class="relative">
  <button id="language-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95"
    data-dropdown-type="language"
    aria-label="언어 변경"
    aria-expanded="false"
    aria-haspopup="true">
      
  <svg class="h-5 w-5 relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="언어 변경">
	<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8l6 6m-7 0l6-6l2-3M2 5h12M7 2h1m14 20l-5-10l-5 10m2-4h6" />
</svg></button>

  
  <div id="language-dropdown"
    class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out"
    data-dropdown-type="language"
    role="menu"
    aria-labelledby="language-toggle"><a href="/ko/" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role="menuitem" aria-current="true"><span class="font-medium">한국어</span></a><a href="/en/" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role="menuitem"><span class="font-medium">English</span></a></div>
</div>

        
        
<div class="relative">
  <button id="color-scheme-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95"
    data-dropdown-type="color-scheme"
    aria-label="테마 변경"
    aria-expanded="false"
    aria-haspopup="true">
      
  <svg class="h-5 w-5 relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="테마 변경">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z" />

</svg></button>

  
  <div id="color-scheme-dropdown"
    class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out"
    data-dropdown-type="color-scheme"><button data-color-scheme="claude" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme="default" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme="bumblebee" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme="emerald" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme="nord" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme="sunset" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme="abyss" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme="dracula" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme="amethyst" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme="slate" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme="twitter" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div>
</div>

        
        
<div class="relative">
  <button id="theme-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95"
    data-dropdown-type="theme"
    aria-label="테마 변경"
    aria-expanded="false"
    aria-haspopup="true">
      
      
  <svg class="h-5 w-5 sun-icon hidden relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="라이트">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />

</svg>
      
      
  <svg class="h-5 w-5 moon-icon hidden relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="다크">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />

</svg>
      
      
  <svg class="h-5 w-5 system-icon hidden relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="시스템">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />

</svg></button>

  
  <div id="theme-dropdown"
    class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out"
    data-dropdown-type="theme"><button data-theme="light" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
  <svg class="h-5 w-5 mr-3 h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="라이트">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />

</svg><span>라이트</span></button><button data-theme="dark" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
  <svg class="h-5 w-5 mr-3 h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="다크">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />

</svg><span>다크</span></button><button data-theme="system" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
  <svg class="h-5 w-5 mr-3 h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="시스템">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />

</svg><span>시스템</span></button></div>
</div>
      </div>
    </div>
  </div>
</header>


    <main class="mx-auto max-w-4xl px-4 py-6">
      
  
  <nav
  class="breadcrumb mb-4 md:mb-6 py-1"
  aria-label="경로">
  <ol class="text-muted-foreground flex items-center space-x-1 md:space-x-2 text-sm overflow-x-auto whitespace-nowrap scrollbar-hide py-1">
    
    <li class="flex-shrink-0">
      <a
        href="/"
        class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02]">
        
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="홈">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m3 12 2-2m0 0 7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />

</svg>
        <span class="max-w-[4rem] md:max-w-none truncate">홈</span>
      </a>
    </li>

    
    
      <li class="flex items-center gap-1 md:gap-2 min-w-0">
        <span class="text-muted-foreground/50 flex-shrink-0"
          >
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
</svg>
        </span>

        
          
          <div class="flex items-center gap-1 md:gap-2 min-w-0">
            
              
              <a
                href="/posts"
                class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02] flex-shrink-0">
                
                  
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />

</svg>
                  <span class="max-w-[3rem] md:max-w-none truncate">게시글</span>
                
              </a>
              <span class="text-muted-foreground/50 flex-shrink-0"
                >
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
</svg></span
              >
            
            
            <span class="text-foreground flex items-center gap-0.5 md:gap-1 font-medium min-w-0">
              
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
</svg>
              <span class="max-w-[8rem] md:max-w-[16rem] lg:max-w-none truncate">Loki: Low-rank Keys for Efficient Sparse Attention</span>
            </span>
          </div>
        
      </li>
    

  </ol>
</nav>



  


  
  <header class="mb-8">
    


<div class="post-meta">
  
  <h1 class="text-foreground mb-6 text-3xl leading-tight font-bold md:text-4xl">
    Loki: Low-rank Keys for Efficient Sparse Attention
  </h1>

  
  


  
  <div class="bg-card border-border flex flex-col gap-4 rounded-xl border p-6">
    
    <div
      class="text-muted-foreground flex flex-wrap items-center gap-4 text-sm">
      
      <div class="flex items-center gap-2">
        
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="작성일"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
</svg>
        <time datetime="2024-11-29">
          2024년 11월 29일
        </time>
      </div>

      
      


      
      
        <div class="flex items-center gap-2">
          
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="읽는 시간"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
          <span
            >15 분</span
          >
        </div>
      


      
      
        <div class="flex items-center gap-2">
          
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="단어 수"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
</svg>
          <span>7393 단어</span>
        </div>
      

    </div>

    
    
      <div class="flex flex-wrap items-center gap-4">
        
        
          <div class="flex items-center gap-2">
            
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="카테고리"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
</svg>
            <span class="text-muted-foreground mr-2 text-sm"
              >카테고리:</span
            >
            <div class="flex flex-wrap gap-2">
              
                <a
                  href="/categories/paper-review/"
                  class="bg-primary/10 text-primary hover:bg-primary/20 focus:ring-primary/20 inline-flex items-center rounded-full px-3 py-1 text-sm font-medium transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 hover:shadow-md focus:ring-2 focus:outline-none">
                  paper-review
                </a>
              
                <a
                  href="/categories/with-gpt/"
                  class="bg-primary/10 text-primary hover:bg-primary/20 focus:ring-primary/20 inline-flex items-center rounded-full px-3 py-1 text-sm font-medium transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 hover:shadow-md focus:ring-2 focus:outline-none">
                  with-gpt
                </a>
              
            </div>
          </div>
        


        
        

      </div>
    


    
    

  </div>
</div>

  </header>

  
  <article class="prose prose-neutral dark:prose-invert mb-12 max-w-none">
    <p><a href="https://arxiv.org/abs/2406.02542">논문 링크</a></p>
<h1 id="q--이-논문을-아주-자세하게-읽고-논문의-강점과-독창적인-지점을-설명해주고-핵심-알고리즘을-예시-입력을-들어서-전체적인-과정을-설명해줘-추가적으로-논문의-한계점에-대해서도-알려줘">Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘</h1>
<p>논문 **&ldquo;Loki: Low-rank Keys for Efficient Sparse Attention&rdquo;**에 대한 상세한 분석을 제공하겠습니다. 이 논문은 자가회귀 기반의 대규모 언어 모델(LLM)에서 사용되는 <strong>자가주의 메커니즘의 계산 및 메모리 병목 현상을 개선</strong>하기 위한 새로운 방법론을 제안합니다.</p>
<hr>
<h3 id="강점과-독창성"><strong>강점과 독창성</strong></h3>
<ol>
<li>
<p><strong>자연어 처리 모델의 저차원 구조 활용</strong>:</p>
<ul>
<li>논문은 대규모 언어 모델에서 생성된 Key 벡터들이 본래 차원보다 훨씬 낮은 차원 공간에 위치한다는 점을 관찰하고 이를 이론적으로 분석합니다.</li>
<li>이 저차원 구조는 다양한 데이터셋과 모델에서 일관성을 가지며, 이를 활용한 Sparse Attention을 구현합니다.</li>
</ul>
</li>
<li>
<p><strong>Loki의 핵심 기법</strong>:</p>
<ul>
<li>Key 벡터를 PCA(Principal Component Analysis)로 변환하여 일부 주요 성분만 사용해 근사적인 주의 점수를 계산합니다.</li>
<li>최적화된 Top-K 토큰을 선택하고, 선택된 토큰에 대해 전체 차원을 복원하여 최종 점수를 계산함으로써 효율성과 정확성을 동시에 유지합니다.</li>
</ul>
</li>
<li>
<p><strong>효율적인 구현</strong>:</p>
<ul>
<li>Sparse Attention을 GPU에 최적화된 Triton 커널을 활용하여 실질적인 성능 개선을 제공합니다.</li>
<li>Llama2-13B 모델 기준으로 최대 45%의 속도 향상을 달성하면서도 정확도 손실은 평균 6.8%에 불과합니다.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="핵심-알고리즘-설명-예시-입력과-함께"><strong>핵심 알고리즘 설명 (예시 입력과 함께)</strong></h3>
<h4 id="loki의-알고리즘-과정"><strong>Loki의 알고리즘 과정</strong>:</h4>
<ol>
<li>
<p><strong>입력</strong>:</p>
<ul>
<li>Query ( q_S )와 Key ( K:S ), Value ( V:S ) (현재와 과거 토큰 포함).</li>
<li>PCA를 통해 생성된 변환 행렬 ( P ).</li>
<li>설정된 차원 축소 비율 ( d )와 Top-K 비율 ( k ).</li>
</ul>
</li>
<li>
<p><strong>단계별 프로세스</strong>:</p>
<ul>
<li><strong>PCA 변환</strong>:
<ul>
<li>Query와 Key를 ( P )에 의해 저차원 공간으로 변환:
[
q_S&rsquo; = q_S P, \quad K:S&rsquo; = K:S P
]</li>
</ul>
</li>
<li><strong>근사적 주의 점수 계산</strong>:
<ul>
<li>( d ) 차원의 Key와 Query를 사용하여 점수 계산:
[
a_{\text{approx}} = q_S&rsquo; K:S&rsquo;^{T}
]</li>
</ul>
</li>
<li><strong>Top-K 선택</strong>:
<ul>
<li>( a_{\text{approx}} )에서 가장 큰 ( k )개의 점수에 해당하는 인덱스를 선택.</li>
</ul>
</li>
<li><strong>최종 점수 계산</strong>:
<ul>
<li>선택된 ( k )개의 Key와 원래 차원을 사용해 정확한 점수 계산:
[
a_{\text{exact}} = \text{softmax}\left( \frac{q_S K:S^{T}}{\sqrt{D}} \right)
]</li>
</ul>
</li>
<li><strong>결과 출력</strong>:
<ul>
<li>선택된 Value와 곱하여 최종 결과 반환:
[
y = a_{\text{exact}} V'
]</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="예제-입력"><strong>예제 입력</strong>:</h4>
<ul>
<li>( q_S = [0.5, 0.2, 0.8] ), ( K:S = \begin{bmatrix} 0.1 &amp; 0.3 &amp; 0.7 \ 0.5 &amp; 0.2 &amp; 0.4 \end{bmatrix} ), ( V:S = \begin{bmatrix} 1.0 \ 0.5 \end{bmatrix} ), ( P = \begin{bmatrix} 0.6 &amp; 0.8 \ 0.8 &amp; -0.6 \end{bmatrix} ).</li>
</ul>
<h4 id="과정-시뮬레이션"><strong>과정 시뮬레이션</strong>:</h4>
<ul>
<li>PCA 변환 후 저차원 Key, Query 계산:
[
q_S&rsquo; = q_S P = [0.68, 0.56], \quad K:S&rsquo; = K:S P = \begin{bmatrix} 0.54 &amp; 0.12 \ 0.42 &amp; 0.16 \end{bmatrix}.
]</li>
<li>근사적 주의 점수 계산:
[
a_{\text{approx}} = q_S&rsquo; K:S&rsquo;^{T} = [0.75, 0.58].
]</li>
<li>Top-K 선택 (1개 선택):
[
\text{Index of Top-K: } [0].
]</li>
<li>최종 점수 계산 및 결과:
[
a_{\text{exact}} = \text{softmax}\left(\frac{[0.75]}{\sqrt{3}}\right), \quad y = a_{\text{exact}} V&rsquo; = 1.0.
]</li>
</ul>
<hr>
<h3 id="한계점"><strong>한계점</strong></h3>
<ol>
<li>
<p><strong>메모리 사용량 최적화 부족</strong>:</p>
<ul>
<li>KV-cache 삭제를 활용하지 않으므로 메모리 사용량은 기존 Attention과 유사합니다.</li>
<li>Token eviction과의 결합 시 더 큰 최적화를 기대할 수 있습니다.</li>
</ul>
</li>
<li>
<p><strong>Top-K 연산 병목</strong>:</p>
<ul>
<li>Top-K 토큰 선택 과정의 비용이 높은 경우 실질적인 속도 향상이 제한될 수 있습니다.</li>
</ul>
</li>
<li>
<p><strong>모델 및 데이터 의존성</strong>:</p>
<ul>
<li>PCA 기반의 차원 축소는 모델과 데이터의 특성에 따라 성능 차이가 날 가능성이 있습니다. 특히, 특정 데이터세트에 의존하는 PCA 변환은 일반화에 영향을 줄 수 있습니다.</li>
</ul>
</li>
<li>
<p><strong>FlashAttention과의 통합 필요</strong>:</p>
<ul>
<li>FlashAttention 등 최적화된 Attention 커널과 결합이 이루어지지 않았으며, 이를 통해 추가적인 성능 향상이 가능합니다.</li>
</ul>
</li>
</ol>
<hr>
<p>Loki는 대규모 언어 모델의 효율적인 추론을 위한 강력한 Sparse Attention 기법으로, 계산 비용과 메모리 병목 현상을 동시에 줄이는 데 성공적인 접근법을 제시합니다. 다만, 메모리 최적화와 기존 최적화 커널과의 통합 등 추가적인 연구가 필요합니다.</p>
<h1 id="q--논문의-핵심알고리즘을-예시를-들어-아주-자세하게-설명해주고-정리해-줘">Q : 논문의 핵심알고리즘을 예시를 들어 아주 자세하게 설명해주고 정리해 줘</h1>
<h3 id="논문-loki의-핵심-알고리즘-low-dimensional-sparse-attention">논문 Loki의 핵심 알고리즘: Low-Dimensional Sparse Attention</h3>
<hr>
<h4 id="loki-알고리즘의-핵심-아이디어"><strong>Loki 알고리즘의 핵심 아이디어</strong></h4>
<p>Loki는 대규모 언어 모델(LLM)에서 **자가 주의 메커니즘(Self-Attention)**의 계산 비용을 줄이고 효율성을 높이는 Sparse Attention 알고리즘입니다. 이 알고리즘은 Key 벡터의 <strong>저차원 구조</strong>를 활용하여 토큰을 동적으로 선택하고, 필요한 계산을 수행합니다.</p>
<hr>
<h3 id="알고리즘-과정과-상세-예시"><strong>알고리즘 과정과 상세 예시</strong></h3>
<p>Loki는 **차원 축소(PCA)**와 <strong>Top-K 토큰 선택</strong>을 결합하여 Sparse Attention을 수행합니다. 이를 상세히 설명하기 위해, 예시를 사용해 단계별로 과정을 분석합니다.</p>
<h4 id="입력-데이터-정의"><strong>입력 데이터 정의</strong></h4>
<ol>
<li>Query ( q_S ): 현재 단계의 Query 벡터 (차원: ( D )).</li>
<li>Key ( K:S ): 현재까지 생성된 Key 벡터 집합 (차원: ( S \times D )).</li>
<li>Value ( V:S ): Key에 대응하는 Value 벡터 집합 (차원: ( S \times D )).</li>
<li>PCA 변환 행렬 ( P ): ( D \times D ) 크기의 행렬로, Key 벡터를 저차원 공간으로 변환.</li>
<li>차원 축소 비율 ( d ): PCA로 줄일 차원의 비율 (( d \times D )).</li>
<li>Top-K 비율 ( k ): 선택할 중요한 토큰의 비율 (( k \times S )).</li>
</ol>
<hr>
<h3 id="예시"><strong>예시</strong></h3>
<h4 id="입력값">입력값</h4>
<ul>
<li>Query 벡터: ( q_S = [0.5, 0.2, 0.8] ) (( D = 3 )).</li>
<li>Key 벡터:
[
K:S = \begin{bmatrix}
0.1 &amp; 0.3 &amp; 0.7 \
0.5 &amp; 0.2 &amp; 0.4 \
0.3 &amp; 0.7 &amp; 0.6
\end{bmatrix} \quad (S = 3, D = 3).
]</li>
<li>Value 벡터:
[
V:S = \begin{bmatrix}
1.0 \
0.5 \
0.8
\end{bmatrix}.
]</li>
<li>PCA 변환 행렬:
[
P = \begin{bmatrix}
0.6 &amp; 0.8 &amp; 0.0 \
0.8 &amp; -0.6 &amp; 0.0 \
0.0 &amp; 0.0 &amp; 1.0
\end{bmatrix}.
]</li>
<li>차원 축소 ( d = 2 ), Top-K 비율 ( k = 2 ).</li>
</ul>
<hr>
<h3 id="단계-1-pca-변환을-통한-차원-축소"><strong>단계 1: PCA 변환을 통한 차원 축소</strong></h3>
<ol>
<li>Query와 Key 벡터를 PCA 행렬 ( P )로 변환하여 저차원 표현으로 변환합니다.
<ul>
<li>Query 변환:
[
q_S&rsquo; = q_S \cdot P = [0.5, 0.2, 0.8] \cdot \begin{bmatrix}
0.6 &amp; 0.8 &amp; 0.0 \
0.8 &amp; -0.6 &amp; 0.0 \
0.0 &amp; 0.0 &amp; 1.0
\end{bmatrix}
= [0.52, 0.28, 0.8].
]</li>
<li>Key 벡터 변환:
[
K:S&rsquo; = K:S \cdot P = \begin{bmatrix}
0.1 &amp; 0.3 &amp; 0.7 \
0.5 &amp; 0.2 &amp; 0.4 \
0.3 &amp; 0.7 &amp; 0.6
\end{bmatrix}
\cdot \begin{bmatrix}
0.6 &amp; 0.8 &amp; 0.0 \
0.8 &amp; -0.6 &amp; 0.0 \
0.0 &amp; 0.0 &amp; 1.0
\end{bmatrix}
= \begin{bmatrix}
0.3 &amp; 0.18 &amp; 0.7 \
0.38 &amp; 0.26 &amp; 0.4 \
0.54 &amp; -0.14 &amp; 0.6
\end{bmatrix}.
]</li>
</ul>
</li>
</ol>
<hr>
<h3 id="단계-2-근사적-attention-점수-계산"><strong>단계 2: 근사적 Attention 점수 계산</strong></h3>
<ol start="2">
<li>저차원 Query와 Key를 사용하여 근사적인 Attention 점수를 계산합니다.
[
a_{\text{approx}} = q_S&rsquo; \cdot K:S&rsquo;^T = [0.52, 0.28, 0.8] \cdot
\begin{bmatrix}
0.3 &amp; 0.38 &amp; 0.54 \
0.18 &amp; 0.26 &amp; -0.14 \
0.7 &amp; 0.4 &amp; 0.6
\end{bmatrix}
= [0.754, 0.656, 0.816].
]</li>
</ol>
<hr>
<h3 id="단계-3-top-k-토큰-선택"><strong>단계 3: Top-K 토큰 선택</strong></h3>
<ol start="3">
<li>근사적 Attention 점수 ( a_{\text{approx}} )를 기준으로 가장 중요한 ( k )개의 토큰을 선택합니다.
<ul>
<li>( k = 2 )이므로, 상위 2개의 점수에 해당하는 인덱스는 [2, 0]입니다.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="단계-4-최종-attention-점수-계산"><strong>단계 4: 최종 Attention 점수 계산</strong></h3>
<ol start="4">
<li>선택된 토큰에 대해 원래 차원에서 정확한 Attention 점수를 계산합니다.
<ul>
<li>선택된 Key:
[
K_{\text{selected}} = \begin{bmatrix}
0.3 &amp; 0.7 &amp; 0.6 \
0.1 &amp; 0.3 &amp; 0.7
\end{bmatrix}.
]</li>
<li>최종 Attention 점수 계산:
[
a_{\text{exact}} = \text{softmax}\left(\frac{q_S \cdot K_{\text{selected}}^T}{\sqrt{D}}\right).
]
계산 후 ( a_{\text{exact}} = [0.6, 0.4] ).</li>
</ul>
</li>
</ol>
<hr>
<h3 id="단계-5-결과-생성"><strong>단계 5: 결과 생성</strong></h3>
<ol start="5">
<li>최종 Attention 점수와 Value를 곱해 결과를 생성합니다.
[
y = a_{\text{exact}} \cdot V_{\text{selected}} = [0.6, 0.4] \cdot \begin{bmatrix}
0.8 \
1.0
\end{bmatrix}
= 0.88.
]</li>
</ol>
<hr>
<h3 id="알고리즘-정리"><strong>알고리즘 정리</strong></h3>
<ul>
<li>
<p><strong>핵심 단계</strong>:</p>
<ol>
<li>PCA 변환으로 Query 및 Key의 차원 축소.</li>
<li>저차원 공간에서 근사적 Attention 점수 계산.</li>
<li>Top-K 토큰 선택.</li>
<li>선택된 토큰에 대해 정확한 Attention 점수 계산.</li>
<li>최종 결과 생성.</li>
</ol>
</li>
<li>
<p><strong>장점</strong>:</p>
<ul>
<li>계산 효율성: 저차원에서 근사적 계산 수행.</li>
<li>정확도 유지: Top-K 토큰에 대해 최종 계산 수행.</li>
</ul>
</li>
<li>
<p><strong>한계</strong>:</p>
<ul>
<li>추가적인 Top-K 선택 연산이 병목이 될 수 있음.</li>
<li>KV-cache의 메모리 사용량은 줄지 않음.</li>
</ul>
</li>
</ul>
<p>Loki는 이러한 과정을 통해 <strong>최대 45%의 속도 향상</strong>을 달성하면서도 모델의 성능 손실을 최소화합니다.</p>
<h1 id="q--이-논문에서-제시한-결과를-자세하게-보고-다른-방법론에-비하여-특출난-점과-논문에서-제기하는-어떠한-방법이-이러한-결과를-도출하게-되었는지-논문에서-제시하는-이유와-너의-생각을-알려줘">Q : 이 논문에서 제시한 결과를 자세하게 보고 다른 방법론에 비하여 특출난 점과 논문에서 제기하는 어떠한 방법이 이러한 결과를 도출하게 되었는지 논문에서 제시하는 이유와 너의 생각을 알려줘</h1>
<h3 id="논문-결과-요약"><strong>논문 결과 요약</strong></h3>
<p>논문 &ldquo;Loki: Low-rank Keys for Efficient Sparse Attention&quot;에서 제시한 결과는 다음과 같은 주요 성과를 포함합니다.</p>
<hr>
<h4 id="1-loki의-성능-평가"><strong>1. Loki의 성능 평가</strong></h4>
<ul>
<li><strong>속도 향상</strong>:
<ul>
<li>Llama2-13B 모델 기준으로 <strong>45%의 주의 메커니즘 속도 향상</strong>.</li>
<li>저차원 PCA 공간에서 Top-K를 활용한 효율적 계산으로 연산 비용 감소.</li>
</ul>
</li>
<li><strong>모델 성능 유지</strong>:
<ul>
<li>평균적으로 기존 Self-Attention 대비 <strong>6.8%의 성능 감소</strong>만 관찰됨.</li>
<li>기존 Sparse Attention 방식(H2O, Exact-TopK 등) 대비 낮은 성능 감소율.</li>
</ul>
</li>
</ul>
<hr>
<h4 id="2-비교-분석"><strong>2. 비교 분석</strong></h4>
<ul>
<li><strong>Sparse Attention 기법과의 비교</strong>:
<ul>
<li><strong>H2O</strong>:
<ul>
<li>H2O는 토큰을 영구적으로 삭제(Eviction)하여 메모리 사용량 감소를 목표로 하지만, 이로 인해 중요한 정보가 손실됨.</li>
<li>Loki는 토큰을 삭제하지 않고, 저차원 공간에서 Top-K를 선택하므로 성능 감소가 적음.</li>
</ul>
</li>
<li><strong>Exact-TopK</strong>:
<ul>
<li>Exact-TopK는 정확한 Attention 점수를 계산한 후 Top-K를 선택하므로 Loki보다 메모리와 계산 비용이 큼.</li>
<li>Loki는 근사적 Attention 점수로 선택 과정을 간소화하여 비용을 줄임.</li>
</ul>
</li>
</ul>
</li>
<li><strong>LongBench 및 Downstream Task</strong>:
<ul>
<li>다양한 자연어 처리 벤치마크에서 Loki는 Full Attention과 거의 유사한 성능을 달성.</li>
</ul>
</li>
</ul>
<hr>
<h4 id="3-loki의-독창적-기여"><strong>3. Loki의 독창적 기여</strong></h4>
<ul>
<li><strong>Low-Rank Key 구조의 발견</strong>:
<ul>
<li>Key 벡터의 저차원 특성을 최초로 심층 분석하여 다양한 모델과 데이터셋에서의 일관성을 입증.</li>
<li>저차원 PCA 기반 변환을 통해 계산 비용을 대폭 절감.</li>
</ul>
</li>
<li><strong>PCA 기반의 Sparse Attention</strong>:
<ul>
<li>기존 Sparse Attention 방법론들이 특정 패턴이나 토큰 삭제에 의존하는 반면, Loki는 Key 벡터의 본질적 구조를 활용.</li>
<li>정확한 Attention 계산과 성능 저하 간의 균형을 이룸.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="특출난-점"><strong>특출난 점</strong></h3>
<ol>
<li>
<p><strong>이론적 기반의 설계</strong>:</p>
<ul>
<li>Loki는 Key 벡터가 본래 차원보다 훨씬 낮은 공간에 위치한다는 관찰에 기초합니다. 이는 PCA 분석을 통해 입증되었으며, 다양한 데이터셋과 모델에서 일관된 결과를 보였습니다.</li>
<li>저차원 특성을 활용한 Sparse Attention은 기존 방법론들이 직면한 메모리 삭제 및 정보 손실 문제를 해결했습니다.</li>
</ul>
</li>
<li>
<p><strong>효율성과 정확성의 균형</strong>:</p>
<ul>
<li>Loki는 기존 Self-Attention의 정확성을 거의 유지하면서도 계산 효율성을 극대화했습니다.</li>
<li>특히, <strong>45%의 속도 향상</strong>과 **낮은 성능 손실(6.8%)**은 Sparse Attention 기법들(H2O, Exact-TopK)과 비교해 돋보이는 성과입니다.</li>
</ul>
</li>
<li>
<p><strong>단순성과 확장성</strong>:</p>
<ul>
<li>Loki는 별도의 학습이나 모델 수정 없이 기존 모델에 통합 가능.</li>
<li>KV-cache 삭제와의 결합을 통해 메모리와 계산의 복합 최적화를 기대할 수 있음.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="논문에서-제기한-결과-도출-원인"><strong>논문에서 제기한 결과 도출 원인</strong></h3>
<p>논문에서 Loki의 우수한 성능을 도출한 이유는 다음과 같습니다.</p>
<ol>
<li>
<p><strong>Key 벡터의 저차원 구조 활용</strong>:</p>
<ul>
<li>PCA로 Key 벡터의 저차원 구조를 효율적으로 모델링.</li>
<li>근사 Attention 점수를 계산할 때, 전체 차원을 사용할 필요 없이 (d)-차원만 사용.</li>
<li>이는 계산 비용과 데이터 이동 비용을 줄이는 핵심 원인.</li>
</ul>
</li>
<li>
<p><strong>Top-K 기반의 동적 토큰 선택</strong>:</p>
<ul>
<li>특정 패턴을 고정하는 대신, 매 단계마다 가장 중요한 (k)-개의 토큰을 선택.</li>
<li>최적의 토큰을 선택하면서도 불필요한 연산을 피함.</li>
</ul>
</li>
<li>
<p><strong>최적화된 구현</strong>:</p>
<ul>
<li>GPU 환경에서 Triton 커널을 사용하여 Sparse Attention의 메모리 병목을 해결.</li>
<li>저차원 계산 및 선택 작업을 병렬화하여 실질적인 속도 향상 도출.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="나의-생각"><strong>나의 생각</strong></h3>
<p>Loki의 결과는 Sparse Attention 기법의 발전에서 중요한 진전을 보여줍니다. 논문이 제기한 이유와 더불어, 다음과 같은 점도 Loki의 성공 요인으로 보입니다.</p>
<ol>
<li>
<p><strong>실제 환경에서의 유용성</strong>:</p>
<ul>
<li>논문은 Loki를 다양한 LLM 모델(Llama2, Llama3 등)과 데이터셋(WikiText-2, BookCorpus 등)에 적용하여 결과를 제시했습니다. 이는 이 알고리즘이 특정 모델에 국한되지 않고 일반적으로 활용 가능함을 시사합니다.</li>
</ul>
</li>
<li>
<p><strong>미래 확장 가능성</strong>:</p>
<ul>
<li>Loki는 토큰 삭제 없이 Sparse Attention을 구현했으나, 이는 다른 방법(H2O)과 결합될 수 있습니다. 예를 들어, 일부 토큰 삭제 후 남은 토큰에 대해 Loki를 적용하면 메모리와 계산의 복합 최적화를 달성할 가능성이 있습니다.</li>
</ul>
</li>
<li>
<p><strong>학습 없이 기존 모델에 적용 가능</strong>:</p>
<ul>
<li>Loki는 추가 학습이나 Fine-tuning 없이 기존 모델의 추론 과정에 직접 적용 가능하다는 점에서 실질적 도입 가능성이 높습니다.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="결론"><strong>결론</strong></h3>
<p>Loki는 Key 벡터의 저차원 특성을 활용한 Sparse Attention 기법으로, 계산 비용을 줄이면서도 높은 정확성을 유지합니다. 특히, 기존 Sparse Attention 방식들이 직면했던 정보 손실 문제를 해결하고, 실질적인 GPU 구현까지 고려했다는 점에서 매우 실용적인 접근입니다.</p>
<p>다만, 논문에서도 제기했듯이, <strong>Top-K 선택 과정의 비용 최적화</strong>, <strong>KV-cache 삭제와의 결합</strong> 등이 향후 연구 과제로 남아 있습니다. Loki는 이러한 연구의 기반이 될 수 있는 강력한 기법입니다.</p>
<h1 id="q--이-논문의-입력데이터와-추론-과정에-대해서-예시를-들어-아주-자세하게-설명해-주겠니-추가적으로-모델아키텍처의-구성-및-모델을-구성하는-연산과-메모리-요구량-컴퓨팅-요구량-대해서도-설명해줘">Q : 이 논문의 입력데이터와 추론 과정에 대해서 예시를 들어 아주 자세하게 설명해 주겠니? 추가적으로 모델아키텍처의 구성 및 모델을 구성하는 연산과 메모리 요구량 컴퓨팅 요구량 대해서도 설명해줘</h1>
<h3 id="논문-loki-입력-데이터-추론-과정-모델-아키텍처-및-연산-분석"><strong>논문 Loki: 입력 데이터, 추론 과정, 모델 아키텍처 및 연산 분석</strong></h3>
<hr>
<h2 id="1-loki의-입력-데이터"><strong>1. Loki의 입력 데이터</strong></h2>
<h3 id="입력의-구성-요소">입력의 구성 요소</h3>
<ul>
<li>
<p><strong>Query ((q_S))</strong>:</p>
<ul>
<li>현재 단계에서 모델이 처리 중인 입력 토큰에 대한 Query 벡터.</li>
<li>크기: (1 \times D) (여기서 (D)는 Attention 헤드의 차원).</li>
</ul>
</li>
<li>
<p><strong>Key ((K:S))</strong>:</p>
<ul>
<li>현재까지 생성된 모든 Key 벡터의 집합 (현재와 과거 토큰 포함).</li>
<li>크기: (S \times D) (여기서 (S)는 이전 토큰 수).</li>
</ul>
</li>
<li>
<p><strong>Value ((V:S))</strong>:</p>
<ul>
<li>Key와 동일한 크기의 Value 벡터 집합.</li>
<li>크기: (S \times D).</li>
</ul>
</li>
<li>
<p><strong>PCA 변환 행렬 ((P))</strong>:</p>
<ul>
<li>Key 벡터를 저차원으로 변환하기 위한 행렬.</li>
<li>크기: (D \times D).</li>
</ul>
</li>
<li>
<p><strong>추론 설정</strong>:</p>
<ul>
<li>차원 축소 비율 ((d)): PCA를 통해 줄일 Key 차원의 비율 ((d \times D)).</li>
<li>Top-K 비율 ((k)): 주의 메커니즘에서 사용할 중요한 토큰 수 비율 ((k \times S)).</li>
</ul>
</li>
</ul>
<hr>
<h3 id="입력-데이터-예시"><strong>입력 데이터 예시</strong></h3>
<ol>
<li><strong>초기 입력 데이터</strong>:
<ul>
<li>Query: (q_S = [0.5, 0.2, 0.8]).</li>
<li>Key:
[
K:S = \begin{bmatrix}
0.1 &amp; 0.3 &amp; 0.7 \
0.5 &amp; 0.2 &amp; 0.4 \
0.3 &amp; 0.7 &amp; 0.6
\end{bmatrix}.
]</li>
<li>Value:
[
V:S = \begin{bmatrix}
1.0 \
0.5 \
0.8
\end{bmatrix}.
]</li>
<li>PCA 변환 행렬:
[
P = \begin{bmatrix}
0.6 &amp; 0.8 &amp; 0.0 \
0.8 &amp; -0.6 &amp; 0.0 \
0.0 &amp; 0.0 &amp; 1.0
\end{bmatrix}.
]</li>
<li>설정:
<ul>
<li>(d = 2), (k = 2).</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h2 id="2-loki의-추론-과정"><strong>2. Loki의 추론 과정</strong></h2>
<h3 id="단계별-과정">단계별 과정</h3>
<h4 id="단계-1-pca-변환으로-key와-query의-차원-축소"><strong>단계 1: PCA 변환으로 Key와 Query의 차원 축소</strong></h4>
<ol>
<li>Query 및 Key 벡터를 PCA 변환 행렬 (P)를 이용하여 저차원 공간으로 변환.
<ul>
<li>변환된 Query:
[
q_S&rsquo; = q_S \cdot P = [0.5, 0.2, 0.8] \cdot \begin{bmatrix}
0.6 &amp; 0.8 &amp; 0.0 \
0.8 &amp; -0.6 &amp; 0.0 \
0.0 &amp; 0.0 &amp; 1.0
\end{bmatrix} = [0.52, 0.28, 0.8].
]</li>
<li>변환된 Key:
[
K:S&rsquo; = K:S \cdot P = \begin{bmatrix}
0.1 &amp; 0.3 &amp; 0.7 \
0.5 &amp; 0.2 &amp; 0.4 \
0.3 &amp; 0.7 &amp; 0.6
\end{bmatrix} \cdot \begin{bmatrix}
0.6 &amp; 0.8 &amp; 0.0 \
0.8 &amp; -0.6 &amp; 0.0 \
0.0 &amp; 0.0 &amp; 1.0
\end{bmatrix}.
]
결과:
[
K:S&rsquo; = \begin{bmatrix}
0.54 &amp; 0.14 &amp; 0.7 \
0.42 &amp; 0.26 &amp; 0.4 \
0.38 &amp; 0.16 &amp; 0.6
\end{bmatrix}.
]</li>
</ul>
</li>
</ol>
<h4 id="단계-2-근사-attention-점수-계산"><strong>단계 2: 근사 Attention 점수 계산</strong></h4>
<ol start="2">
<li>저차원 Key와 Query를 이용해 근사 Attention 점수 계산:
[
a_{\text{approx}} = q_S&rsquo; \cdot K:S&rsquo;^T.
]
계산 결과:
[
a_{\text{approx}} = [0.52, 0.28, 0.8] \cdot
\begin{bmatrix}
0.54 &amp; 0.42 &amp; 0.38 \
0.14 &amp; 0.26 &amp; 0.16 \
0.7 &amp; 0.4 &amp; 0.6
\end{bmatrix}
= [0.74, 0.64, 0.78].
]</li>
</ol>
<h4 id="단계-3-top-k-선택"><strong>단계 3: Top-K 선택</strong></h4>
<ol start="3">
<li>(a_{\text{approx}})에서 상위 (k = 2)개의 점수 선택.
<ul>
<li>선택된 인덱스: ([2, 0]).</li>
</ul>
</li>
</ol>
<h4 id="단계-4-최종-attention-점수-계산-1"><strong>단계 4: 최종 Attention 점수 계산</strong></h4>
<ol start="4">
<li>선택된 (k)-개의 Key를 사용하여 원래 차원에서 정확한 Attention 점수 계산:
<ul>
<li>선택된 Key:
[
K_{\text{selected}} = \begin{bmatrix}
0.3 &amp; 0.7 &amp; 0.6 \
0.1 &amp; 0.3 &amp; 0.7
\end{bmatrix}.
]</li>
<li>최종 Attention 점수:
[
a_{\text{exact}} = \text{softmax}\left(\frac{q_S \cdot K_{\text{selected}}^T}{\sqrt{D}}\right).
]
계산 결과:
[
a_{\text{exact}} = [0.6, 0.4].
]</li>
</ul>
</li>
</ol>
<h4 id="단계-5-최종-출력-생성"><strong>단계 5: 최종 출력 생성</strong></h4>
<ol start="5">
<li>선택된 Value와 Attention 점수를 곱해 결과 출력:
[
y = a_{\text{exact}} \cdot V_{\text{selected}} = [0.6, 0.4] \cdot \begin{bmatrix}
0.8 \
1.0
\end{bmatrix}
= 0.88.
]</li>
</ol>
<hr>
<h2 id="3-모델-아키텍처-구성"><strong>3. 모델 아키텍처 구성</strong></h2>
<h3 id="loki의-주요-구성-요소">Loki의 주요 구성 요소:</h3>
<ol>
<li>
<p><strong>PCA 기반 차원 축소 모듈</strong>:</p>
<ul>
<li>Key 벡터의 저차원 특성을 학습된 PCA 행렬로 압축.</li>
<li>오프라인에서 데이터셋 기반으로 PCA 성분을 학습.</li>
</ul>
</li>
<li>
<p><strong>Top-K 토큰 선택 모듈</strong>:</p>
<ul>
<li>근사 Attention 점수를 계산한 후 가장 중요한 토큰 (k)-개를 선택.</li>
<li>계산 비용과 메모리 요구량을 동적으로 줄임.</li>
</ul>
</li>
<li>
<p><strong>Self-Attention 계산 모듈</strong>:</p>
<ul>
<li>선택된 Top-K Key와 Value를 사용해 정확한 Attention 점수 계산.</li>
<li>최종 출력 생성.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="4-연산-및-메모리-요구량"><strong>4. 연산 및 메모리 요구량</strong></h2>
<h3 id="loki의-계산-복잡도"><strong>Loki의 계산 복잡도</strong></h3>
<ol>
<li><strong>PCA 차원 축소</strong>:
<ul>
<li>복잡도: (O(D^2)) (PCA 변환).</li>
</ul>
</li>
<li><strong>근사 Attention 점수 계산</strong>:
<ul>
<li>복잡도: (O(dS)) (저차원 공간에서 Query와 Key 곱).</li>
</ul>
</li>
<li><strong>Top-K 선택</strong>:
<ul>
<li>복잡도: (O(S \log S)) (점수 정렬 및 상위 (k)-개 선택).</li>
</ul>
</li>
<li><strong>최종 Attention 점수 계산</strong>:
<ul>
<li>복잡도: (O(kD)) (Top-K Key와 정확한 계산).</li>
</ul>
</li>
</ol>
<p><strong>총 계산 복잡도</strong>:
[
O(dS + S\log S + kD).
]</p>
<h3 id="메모리-요구량"><strong>메모리 요구량</strong></h3>
<ol>
<li><strong>KV-cache</strong>:
<ul>
<li>기존 Self-Attention과 동일 ((S \times D)).</li>
</ul>
</li>
<li><strong>PCA 변환</strong>:
<ul>
<li>추가 메모리 사용량: (D^2) (PCA 행렬 저장).</li>
</ul>
</li>
</ol>
<hr>
<h2 id="결론-1"><strong>결론</strong></h2>
<ul>
<li><strong>추론 과정</strong>:
Loki는 Key 벡터의 저차원 구조를 활용하여 근사 계산 후 Top-K를 선택, 최종 정확한 점수를 계산하는 방식으로 성능을 유지하며 연산 비용을 줄임.</li>
<li><strong>연산 및 메모리 효율성</strong>:
<ul>
<li>기존 Attention 대비 연산 비용을 (d/D)와 (k/S)로 나누는 효과를 가짐.</li>
<li>GPU 구현에서 실질적으로 최대 <strong>45% 속도 향상</strong>을 달성.</li>
</ul>
</li>
</ul>
<h1 id="q--이-논문의-한계를-극복하기-위한-방법으로-어떤-연구흐름이-있는지-정리해서-자세하게-설명해-줘">Q : 이 논문의 한계를 극복하기 위한 방법으로 어떤 연구흐름이 있는지 정리해서 자세하게 설명해 줘</h1>
<h3 id="논문의-한계-및-이를-극복하기-위한-잠재적-연구-방향"><strong>논문의 한계 및 이를 극복하기 위한 잠재적 연구 방향</strong></h3>
<p>Loki는 Sparse Attention을 통해 대규모 언어 모델(LLM)의 계산 효율성을 향상시키는 데 성공했지만, 여전히 몇 가지 한계가 존재합니다. 이를 해결하기 위한 연구 흐름과 접근 방식을 아래에 자세히 설명합니다.</p>
<hr>
<h2 id="1-한계와-극복-방향"><strong>1. 한계와 극복 방향</strong></h2>
<h3 id="11-top-k-연산-병목"><strong>1.1 Top-K 연산 병목</strong></h3>
<h4 id="한계">한계:</h4>
<ul>
<li>Loki에서 Top-K 토큰을 선택하기 위해 점수를 정렬하는 과정((O(S \log S)))이 병목이 될 가능성이 있음.</li>
<li>특히, 긴 입력 시퀀스((S))에서 정렬 연산이 전체 속도 개선에 부정적인 영향을 미칠 수 있음.</li>
</ul>
<h4 id="극복-방향">극복 방향:</h4>
<ul>
<li><strong>최적화된 Top-K 연산</strong>:
<ul>
<li>GPU에서 실행 가능한 커스텀 Top-K 알고리즘 개발.</li>
<li>기존 Triton 커널을 확장하여 정렬 대신 힙(heap) 기반 선택 알고리즘 도입.</li>
</ul>
</li>
<li><strong>근사적 Top-K 방법</strong>:
<ul>
<li>정확한 정렬 대신 근사적 정렬 알고리즘(예: Reservoir Sampling, Approximate Maximum Algorithms) 사용.</li>
<li>일부 성능 저하를 감수하더라도 계산 비용을 줄일 수 있음.</li>
</ul>
</li>
</ul>
<h4 id="관련-연구-흐름">관련 연구 흐름:</h4>
<ul>
<li>FlashAttention의 최적화 기법 활용.</li>
<li>Approximate Nearest Neighbor Search를 Attention 점수 계산에 접목.</li>
</ul>
<hr>
<h3 id="12-kv-cache-메모리-최적화"><strong>1.2 KV-Cache 메모리 최적화</strong></h3>
<h4 id="한계-1">한계:</h4>
<ul>
<li>Loki는 KV-Cache 메모리를 줄이지 않으므로, 긴 시퀀스 처리 시 메모리 사용량이 기존 Attention과 동일.</li>
<li>메모리 병목 문제는 대규모 모델의 실질적인 활용에 여전히 큰 제약.</li>
</ul>
<h4 id="극복-방향-1">극복 방향:</h4>
<ul>
<li><strong>Token Eviction 기법과 결합</strong>:
<ul>
<li>H2O와 같은 토큰 삭제 기반 Sparse Attention 기법과 Loki를 통합.</li>
<li>Top-K 연산 전에 중요하지 않은 토큰을 삭제하여 메모리 사용량을 줄임.</li>
</ul>
</li>
<li><strong>Dynamic KV-Cache 압축</strong>:
<ul>
<li>Key와 Value를 동적으로 압축(Adaptive Compression)하는 알고리즘 도입.</li>
<li>각 레이어의 중요도를 기준으로 Token 집합을 조정.</li>
</ul>
</li>
</ul>
<h4 id="관련-연구-흐름-1">관련 연구 흐름:</h4>
<ul>
<li><strong>StreamingLLM</strong>: 무한 길이 입력 시퀀스를 처리하기 위해 KV-Cache를 롤링 방식으로 관리.</li>
<li><strong>InfiniGen</strong>: CPU 메모리에 저장된 KV-Cache에서 GPU로 필요한 Key만 전송.</li>
</ul>
<hr>
<h3 id="13-pca의-일반화-한계"><strong>1.3 PCA의 일반화 한계</strong></h3>
<h4 id="한계-2">한계:</h4>
<ul>
<li>Loki에서 사용된 PCA 기반 차원 축소는 특정 데이터셋에 의존할 가능성이 있음.</li>
<li>다양한 데이터셋과 작업에 대해 동일한 PCA 변환이 적합하지 않을 수 있음.</li>
</ul>
<h4 id="극복-방향-2">극복 방향:</h4>
<ul>
<li><strong>동적 차원 축소</strong>:
<ul>
<li>PCA 대신 데이터의 특성에 따라 동적으로 적응하는 차원 축소 방법(예: Autoencoder, Transformer-specific Dimensionality Reduction) 사용.</li>
</ul>
</li>
<li><strong>계층적 차원 축소</strong>:
<ul>
<li>Attention Layer의 레이어별 특성을 고려하여 서로 다른 PCA 변환을 적용.</li>
</ul>
</li>
<li><strong>훈련 기반 차원 축소</strong>:
<ul>
<li>모델 훈련 시 Key 벡터의 저차원 구조를 학습하여 더 적합한 차원 축소 변환을 생성.</li>
</ul>
</li>
</ul>
<h4 id="관련-연구-흐름-2">관련 연구 흐름:</h4>
<ul>
<li>LoRA(Low-Rank Adaptation) 기법과 결합하여 LLM의 구조적 특징 활용.</li>
<li>Transformer의 계층별 동적 적응 방법론 연구.</li>
</ul>
<hr>
<h3 id="14-multi-head-attention-통합"><strong>1.4 Multi-Head Attention 통합</strong></h3>
<h4 id="한계-3">한계:</h4>
<ul>
<li>Loki는 개별 Attention Head에 대해 작동하며, Multi-Head Attention 간 상호작용을 고려하지 않음.</li>
<li>특정 헤드에서 중요도가 낮아진 토큰이 다른 헤드에서 높은 중요도를 가질 가능성을 무시.</li>
</ul>
<h4 id="극복-방향-3">극복 방향:</h4>
<ul>
<li><strong>Cross-Head Token Selection</strong>:
<ul>
<li>Multi-Head Attention 간 정보를 교환하여 각 헤드의 Top-K 선택이 상호 보완적이도록 설계.</li>
</ul>
</li>
<li><strong>Global Top-K 방식</strong>:
<ul>
<li>모든 헤드의 Attention 점수를 종합하여 전역적으로 Top-K 토큰을 선택.</li>
</ul>
</li>
<li><strong>Head Importance Weighting</strong>:
<ul>
<li>각 헤드의 중요도를 학습하여 Top-K 토큰 선택에 반영.</li>
</ul>
</li>
</ul>
<h4 id="관련-연구-흐름-3">관련 연구 흐름:</h4>
<ul>
<li>Multi-Query Attention에서 사용되는 Token Aggregation 기법.</li>
<li>Layer-wise Relevance Propagation(LRP)을 활용한 Attention 분석.</li>
</ul>
<hr>
<h3 id="15-sparse-attention의-정확도-저하"><strong>1.5 Sparse Attention의 정확도 저하</strong></h3>
<h4 id="한계-4">한계:</h4>
<ul>
<li>Loki는 정확도를 유지하려 하지만, 일부 작업에서는 성능 저하가 발생(평균 6.8% 감소).</li>
<li>특히, LongBench 같은 긴 문맥 처리에서는 성능 저하가 더 두드러질 가능성.</li>
</ul>
<h4 id="극복-방향-4">극복 방향:</h4>
<ul>
<li><strong>Token 중요도 학습</strong>:
<ul>
<li>Attention 점수뿐만 아니라 문맥 정보를 활용하여 토큰 중요도를 예측.</li>
<li>Reinforcement Learning 기반 학습을 통해 토큰 선택의 효율성 향상.</li>
</ul>
</li>
<li><strong>Hybrid Attention Mechanism</strong>:
<ul>
<li>일부 레이어에서는 Sparse Attention, 다른 레이어에서는 Full Attention을 사용하여 성능 보완.</li>
</ul>
</li>
</ul>
<h4 id="관련-연구-흐름-4">관련 연구 흐름:</h4>
<ul>
<li>Gating Mechanism을 사용한 Sparse-Full Attention 하이브리드 방법.</li>
<li>Dense-Sparse-Dense Attention 구조를 연구하여 정확도 보완.</li>
</ul>
<hr>
<h2 id="2-결론-및-향후-연구-제안"><strong>2. 결론 및 향후 연구 제안</strong></h2>
<p>Loki는 Sparse Attention 연구에서 중요한 진전을 보여주었으며, 계산 효율성과 정확성의 균형을 제공했습니다. 그러나 남은 한계를 해결하기 위해 다음과 같은 연구 흐름이 중요합니다.</p>
<ol>
<li>
<p><strong>Top-K 최적화</strong>:</p>
<ul>
<li>GPU에서 효율적인 Top-K 연산 기법 개발.</li>
<li>Approximate Top-K 기법 도입.</li>
</ul>
</li>
<li>
<p><strong>메모리 병목 해결</strong>:</p>
<ul>
<li>Token Eviction과 Dynamic Compression 기법 통합.</li>
<li>CPU-GPU 간의 메모리 관리 최적화.</li>
</ul>
</li>
<li>
<p><strong>차원 축소 기법 개선</strong>:</p>
<ul>
<li>PCA 외의 동적 차원 축소 알고리즘 개발.</li>
<li>훈련 기반 차원 축소 접근법 연구.</li>
</ul>
</li>
<li>
<p><strong>Multi-Head Attention 최적화</strong>:</p>
<ul>
<li>헤드 간 정보 공유를 통해 전역적으로 중요한 토큰 선택.</li>
<li>Cross-Head Token Selection 연구.</li>
</ul>
</li>
<li>
<p><strong>Sparse Attention 정확도 개선</strong>:</p>
<ul>
<li>Reinforcement Learning과 Hybrid Attention 구조를 결합하여 정확도 보완.</li>
</ul>
</li>
</ol>
<p>Loki는 대규모 언어 모델의 추론 효율성을 높이는 중요한 접근 방식으로, 위의 연구 흐름을 통해 더욱 강력한 Sparse Attention 기법으로 발전할 수 있을 것입니다.</p>

  </article>

  
  
  <div class="post-license bg-muted/30 border-border mb-8 rounded-xl border p-6">
    <div class="flex items-start gap-4">
      <div
        class="bg-primary/10 flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg">
        
  <svg class="h-6 w-6"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="라이선스"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
</svg>
      </div>

      <div class="flex-1">
        <h3 class="text-foreground mb-2 text-lg font-semibold">
          라이선스
        </h3>

        <div class="text-muted-foreground space-y-2 text-sm">
          
          <p>
            <strong>저작자:</strong>
            류재훈
          </p>
          

          <p>
            <strong>링크:</strong>
            <a
              href="http://192.168.1.11:1314/posts/Loki-Low-rank-Keys-for-Efficient-Sparse-Attention/"
              class="text-primary hover:text-primary/80 transition-colors duration-200">
              http://192.168.1.11:1314/posts/Loki-Low-rank-Keys-for-Efficient-Sparse-Attention/
            </a>
          </p>

          <p>
            <strong>라이선스:</strong>
            <a
              href="https://creativecommons.org/licenses/by-nc-sa/4.0/"
              target="_blank"
              rel="noopener noreferrer"
              class="text-primary hover:text-primary/80 transition-colors duration-200">
              CC BY-NC-SA 4.0
            </a>
          </p>

          <p class="text-xs">
            이 저작물은 크리에이티브 커먼즈 저작자표시-비영리-동일조건변경허락 4.0 국제 라이선스에 따라 이용할 수 있습니다. 출처를 표시하고, 비영리 목적으로만 사용하며, 동일한 라이선스를 유지해야 합니다.
          </p>
        </div>
      </div>
    </div>
  </div>


  
  





  <nav
    class="post-navigation mb-12"
    aria-label="게시글 네비게이션">
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
      
      <div class="nav-item">
        
          <a
            href="/posts/MiniCache-KV-Cache-Compression-in-Depth-Dimension-for-Large-Language-Models/"
            class="group bg-card border-border hover:bg-primary/5 hover:border-primary/20 focus:ring-primary/20 flex min-h-[140px] flex-col justify-between rounded-xl border p-6 transition-all duration-300 ease-out hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg focus:ring-2 focus:outline-none">
            <div>
              <div class="mb-3 flex items-center gap-3">
                
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
</svg>
                <span class="text-muted-foreground text-sm font-medium">
                  이전
                </span>
              </div>

              <h3
                class="text-foreground group-hover:text-primary mb-3 line-clamp-2 text-lg leading-tight font-semibold transition-colors duration-200">
                MiniCache: KV Cache Compression in Depth Dimension for Large Language Models
              </h3>
            </div>

            <div
              class="text-muted-foreground mt-auto flex items-center gap-2 text-xs">
              
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
</svg>
              <time datetime="2024-11-29">
                11月29日
              </time>
            </div>
          </a>
        
      </div>

      
      <div class="nav-item">
        
          <a
            href="/posts/LoCoCo-Dropping-In-Convolutions-for-Long-Context-Compression/"
            class="group bg-card border-border hover:bg-primary/5 hover:border-primary/20 focus:ring-primary/20 flex min-h-[140px] flex-col justify-between rounded-xl border p-6 transition-all duration-300 ease-out hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg focus:ring-2 focus:outline-none">
            <div>
              <div class="mb-3 flex items-center justify-end gap-3">
                <span class="text-muted-foreground text-sm font-medium">
                  다음
                </span>
                
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
</svg>
              </div>

              <h3
                class="text-foreground group-hover:text-primary mb-3 line-clamp-2 text-right text-lg leading-tight font-semibold transition-colors duration-200">
                LoCoCo: Dropping In Convolutions for Long Context Compression
              </h3>
            </div>

            <div
              class="text-muted-foreground mt-auto flex items-center justify-end gap-2 text-xs">
              <time datetime="2024-11-29">
                11月29日
              </time>
              
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
</svg>
            </div>
          </a>
        
      </div>
    </div>
  </nav>




  
  










  
  


    </main>

    <footer class="mx-auto max-w-4xl px-4 py-8">
  <div class="px-6 py-6">
    
    
      <nav class="mb-6">
        <div class="flex flex-wrap items-center justify-center gap-1">
          
            
            
            
            <a
              href="/index.xml"
              
              class="nav-link hover:text-primary hover:bg-primary/10 text-muted-foreground flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105">
              
                
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="RSS Feed">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z" />

</svg>
              
              <span
                >
                  RSS Feed
                </span
              >
            </a>
          
        </div>
      </nav>
    


    
    
      <div class="border-border mb-6 border-t"></div>
    


    
    <div class="flex flex-col items-center justify-between gap-4 md:flex-row">
      
      <div class="text-muted-foreground text-sm">
        <p>
          &copy; 2025 Jaehun&#39;s Blog.
          모든 권리 보유.
        </p>
      </div>

      
      
        <div class="flex items-center gap-3">
          
            <a
              href="https://github.com/ryujaehun"
              
                target="_blank" rel="noopener noreferrer"
              
              class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none"
              title="GitHub"
              aria-label="GitHub">
              
                
  <svg class="h-6 w-6"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="GitHub"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5c.08-1.25-.27-2.48-1-3.5c.28-1.15.28-2.35 0-3.5c0 0-1 0-3 1.5c-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.4 5.4 0 0 0 4 9c0 3.5 3 5.5 6 5.5c-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></g></svg>
              
            </a>
          
            <a
              href="https://www.linkedin.com/in/jaehunryu/"
              
                target="_blank" rel="noopener noreferrer"
              
              class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none"
              title="Linkedin"
              aria-label="Linkedin">
              
                
  <svg class="h-6 w-6"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="Linkedin"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2a2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6M2 9h4v12H2z"/><circle cx="4" cy="4" r="2"/></g></svg>
              
            </a>
          
            <a
              href="mailto:jaehunryu@icloud.com"
              
              class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none"
              title="Email"
              aria-label="Email">
              
                
  <svg class="h-6 w-6"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="Email">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />

</svg>
              
            </a>
          
        </div>
      

    </div>
  </div>
</footer>


    
    



<div
  id="dock"
  class="pointer-events-none fixed bottom-4 left-1/2 z-[9999] w-fit -translate-x-1/2 translate-y-24 opacity-0 transition-all duration-300 ease-out sm:right-0 sm:left-0 sm:mx-auto sm:translate-x-0"
  role="toolbar"
  aria-label="바로가기 도구 모음">
  <nav
    class="border-border bg-card/80 scrollbar-hide xs:px-3 xs:py-2 mx-auto flex max-w-[calc(100vw-2rem)] min-w-fit items-center justify-center overflow-x-auto rounded-2xl border px-4 py-3 shadow-lg backdrop-blur-sm sm:px-4 sm:py-3">
    
    
      <button
        id="dock-back"
        class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2"
        title="뒤로"
        aria-label="뒤로">
        
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path d="m12 19-7-7 7-7"/>
  <path d="M19 12H5"/>

</svg>
        <span class="hidden sm:inline"
          >뒤로</span
        >
      </button>

      
      <div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div>
    


    
    
      <button
        id="dock-toc"
        class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2"
        title="목차"
        aria-label="목차">
        
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <line x1="8" x2="21" y1="6" y2="6"/>
  <line x1="8" x2="21" y1="12" y2="12"/>
  <line x1="8" x2="21" y1="18" y2="18"/>
  <line x1="3" x2="3.01" y1="6" y2="6"/>
  <line x1="3" x2="3.01" y1="12" y2="12"/>
  <line x1="3" x2="3.01" y1="18" y2="18"/>

</svg>
        <span class="hidden sm:inline"
          >목차</span
        >
      </button>

      
      <div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div>
    


    
    <button
      id="dock-search"
      class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-3 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-4 sm:py-2"
      title="검색"
      aria-label="검색">
      
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />

</svg>
      <span class="hidden md:inline"
        >검색</span
      >
    </button>

    
    <div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div>

    
    
    


    
    <button
      id="dock-top"
      class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2"
      title="맨 위로"
      aria-label="맨 위로">
      
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path d="m18 15-6-6-6 6"/>

</svg>
      <span class="hidden sm:inline"
        >맨 위로</span
      >
    </button>
  </nav>
</div>


    
      



<div
  id="toc-overlay"
  class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 backdrop-blur-sm transition-all duration-300"
  role="dialog"
  aria-modal="true"
  aria-labelledby="toc-title"></div>


<div
  id="toc-card"
  class="pointer-events-none fixed inset-4 z-50 flex w-auto scale-95 items-center justify-center opacity-0 transition-all duration-300 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:block sm:w-full sm:max-w-md sm:-translate-x-1/2 sm:-translate-y-1/2"
  role="dialog"
  aria-modal="true"
  aria-labelledby="toc-title">
  <div
    class="bg-card border-border w-full max-w-sm overflow-hidden rounded-xl border shadow-xl sm:max-w-md">
    
    <div
      class="border-border bg-muted/30 flex items-center justify-between border-b p-4">
      <div class="flex items-center gap-3">
        
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <line x1="8" x2="21" y1="6" y2="6"/>
  <line x1="8" x2="21" y1="12" y2="12"/>
  <line x1="8" x2="21" y1="18" y2="18"/>
  <line x1="3" x2="3.01" y1="6" y2="6"/>
  <line x1="3" x2="3.01" y1="12" y2="12"/>
  <line x1="3" x2="3.01" y1="18" y2="18"/>

</svg>
        <h2 id="toc-title" class="text-foreground text-lg font-semibold">
          목차
        </h2>
      </div>

      
      <button
        id="toc-close"
        class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 rounded-lg p-2 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"
        title="닫기"
        aria-label="닫기">
        
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />

</svg>
      </button>
    </div>

    
    <div class="max-h-96 overflow-y-auto p-4">
      <nav
        id="toc-nav"
        class="toc-scrollbar"
        aria-label="글 목차">
          
          <div id="toc-content">
            <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#강점과-독창성"><strong>강점과 독창성</strong></a></li>
        <li><a href="#핵심-알고리즘-설명-예시-입력과-함께"><strong>핵심 알고리즘 설명 (예시 입력과 함께)</strong></a>
          <ul>
            <li><a href="#loki의-알고리즘-과정"><strong>Loki의 알고리즘 과정</strong>:</a></li>
            <li><a href="#예제-입력"><strong>예제 입력</strong>:</a></li>
            <li><a href="#과정-시뮬레이션"><strong>과정 시뮬레이션</strong>:</a></li>
          </ul>
        </li>
        <li><a href="#한계점"><strong>한계점</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#논문-loki의-핵심-알고리즘-low-dimensional-sparse-attention">논문 Loki의 핵심 알고리즘: Low-Dimensional Sparse Attention</a>
          <ul>
            <li><a href="#loki-알고리즘의-핵심-아이디어"><strong>Loki 알고리즘의 핵심 아이디어</strong></a></li>
          </ul>
        </li>
        <li><a href="#알고리즘-과정과-상세-예시"><strong>알고리즘 과정과 상세 예시</strong></a>
          <ul>
            <li><a href="#입력-데이터-정의"><strong>입력 데이터 정의</strong></a></li>
          </ul>
        </li>
        <li><a href="#예시"><strong>예시</strong></a>
          <ul>
            <li><a href="#입력값">입력값</a></li>
          </ul>
        </li>
        <li><a href="#단계-1-pca-변환을-통한-차원-축소"><strong>단계 1: PCA 변환을 통한 차원 축소</strong></a></li>
        <li><a href="#단계-2-근사적-attention-점수-계산"><strong>단계 2: 근사적 Attention 점수 계산</strong></a></li>
        <li><a href="#단계-3-top-k-토큰-선택"><strong>단계 3: Top-K 토큰 선택</strong></a></li>
        <li><a href="#단계-4-최종-attention-점수-계산"><strong>단계 4: 최종 Attention 점수 계산</strong></a></li>
        <li><a href="#단계-5-결과-생성"><strong>단계 5: 결과 생성</strong></a></li>
        <li><a href="#알고리즘-정리"><strong>알고리즘 정리</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#논문-결과-요약"><strong>논문 결과 요약</strong></a>
          <ul>
            <li><a href="#1-loki의-성능-평가"><strong>1. Loki의 성능 평가</strong></a></li>
            <li><a href="#2-비교-분석"><strong>2. 비교 분석</strong></a></li>
            <li><a href="#3-loki의-독창적-기여"><strong>3. Loki의 독창적 기여</strong></a></li>
          </ul>
        </li>
        <li><a href="#특출난-점"><strong>특출난 점</strong></a></li>
        <li><a href="#논문에서-제기한-결과-도출-원인"><strong>논문에서 제기한 결과 도출 원인</strong></a></li>
        <li><a href="#나의-생각"><strong>나의 생각</strong></a></li>
        <li><a href="#결론"><strong>결론</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#논문-loki-입력-데이터-추론-과정-모델-아키텍처-및-연산-분석"><strong>논문 Loki: 입력 데이터, 추론 과정, 모델 아키텍처 및 연산 분석</strong></a></li>
      </ul>
    </li>
    <li><a href="#1-loki의-입력-데이터"><strong>1. Loki의 입력 데이터</strong></a>
      <ul>
        <li><a href="#입력의-구성-요소">입력의 구성 요소</a></li>
        <li><a href="#입력-데이터-예시"><strong>입력 데이터 예시</strong></a></li>
      </ul>
    </li>
    <li><a href="#2-loki의-추론-과정"><strong>2. Loki의 추론 과정</strong></a>
      <ul>
        <li><a href="#단계별-과정">단계별 과정</a>
          <ul>
            <li><a href="#단계-1-pca-변환으로-key와-query의-차원-축소"><strong>단계 1: PCA 변환으로 Key와 Query의 차원 축소</strong></a></li>
            <li><a href="#단계-2-근사-attention-점수-계산"><strong>단계 2: 근사 Attention 점수 계산</strong></a></li>
            <li><a href="#단계-3-top-k-선택"><strong>단계 3: Top-K 선택</strong></a></li>
            <li><a href="#단계-4-최종-attention-점수-계산-1"><strong>단계 4: 최종 Attention 점수 계산</strong></a></li>
            <li><a href="#단계-5-최종-출력-생성"><strong>단계 5: 최종 출력 생성</strong></a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#3-모델-아키텍처-구성"><strong>3. 모델 아키텍처 구성</strong></a>
      <ul>
        <li><a href="#loki의-주요-구성-요소">Loki의 주요 구성 요소:</a></li>
      </ul>
    </li>
    <li><a href="#4-연산-및-메모리-요구량"><strong>4. 연산 및 메모리 요구량</strong></a>
      <ul>
        <li><a href="#loki의-계산-복잡도"><strong>Loki의 계산 복잡도</strong></a></li>
        <li><a href="#메모리-요구량"><strong>메모리 요구량</strong></a></li>
      </ul>
    </li>
    <li><a href="#결론-1"><strong>결론</strong></a></li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#논문의-한계-및-이를-극복하기-위한-잠재적-연구-방향"><strong>논문의 한계 및 이를 극복하기 위한 잠재적 연구 방향</strong></a></li>
      </ul>
    </li>
    <li><a href="#1-한계와-극복-방향"><strong>1. 한계와 극복 방향</strong></a>
      <ul>
        <li><a href="#11-top-k-연산-병목"><strong>1.1 Top-K 연산 병목</strong></a>
          <ul>
            <li><a href="#한계">한계:</a></li>
            <li><a href="#극복-방향">극복 방향:</a></li>
            <li><a href="#관련-연구-흐름">관련 연구 흐름:</a></li>
          </ul>
        </li>
        <li><a href="#12-kv-cache-메모리-최적화"><strong>1.2 KV-Cache 메모리 최적화</strong></a>
          <ul>
            <li><a href="#한계-1">한계:</a></li>
            <li><a href="#극복-방향-1">극복 방향:</a></li>
            <li><a href="#관련-연구-흐름-1">관련 연구 흐름:</a></li>
          </ul>
        </li>
        <li><a href="#13-pca의-일반화-한계"><strong>1.3 PCA의 일반화 한계</strong></a>
          <ul>
            <li><a href="#한계-2">한계:</a></li>
            <li><a href="#극복-방향-2">극복 방향:</a></li>
            <li><a href="#관련-연구-흐름-2">관련 연구 흐름:</a></li>
          </ul>
        </li>
        <li><a href="#14-multi-head-attention-통합"><strong>1.4 Multi-Head Attention 통합</strong></a>
          <ul>
            <li><a href="#한계-3">한계:</a></li>
            <li><a href="#극복-방향-3">극복 방향:</a></li>
            <li><a href="#관련-연구-흐름-3">관련 연구 흐름:</a></li>
          </ul>
        </li>
        <li><a href="#15-sparse-attention의-정확도-저하"><strong>1.5 Sparse Attention의 정확도 저하</strong></a>
          <ul>
            <li><a href="#한계-4">한계:</a></li>
            <li><a href="#극복-방향-4">극복 방향:</a></li>
            <li><a href="#관련-연구-흐름-4">관련 연구 흐름:</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#2-결론-및-향후-연구-제안"><strong>2. 결론 및 향후 연구 제안</strong></a></li>
  </ul>
</nav>
          </div>
      </nav>
    </div>

    
    <div class="border-border bg-muted/20 border-t px-4 py-3">
      <div class="text-muted-foreground text-center text-xs">
        <span>제목을 클릭하면 해당 위치로 이동합니다</span>
      </div>
    </div>
  </div>
</div>

    


  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"
    integrity="sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP"
    crossorigin="anonymous" />
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"
    integrity="sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6"
    crossorigin="anonymous"></script>
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"
    integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh"
    crossorigin="anonymous"></script>

<script>
    
    function initKaTeX() {
        if (typeof renderMathInElement === 'undefined') {
            setTimeout(initKaTeX, 100);
            return;
        }

        var delimiters = [{"display":true,"left":"$$","right":"$$"},{"display":false,"left":"$","right":"$"}];

        renderMathInElement(document.body, {
            delimiters: delimiters,
            throwOnError: false,
            errorColor: '#cc0000',
            fleqn: false,
            leqno: false,
            trust: false
        });
    }

    
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initKaTeX);
    } else {
        initKaTeX();
    }
</script>
    



    
    
<div
  id="search-overlay"
  class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 transition-opacity duration-300"></div>


<div
  id="search-modal"
  class="bg-card border-border pointer-events-none fixed top-1/2 left-1/2 z-50 max-h-[80vh] w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 scale-95 transform overflow-hidden rounded-xl border opacity-0 shadow-xl transition-all duration-300">
  
  <div class="border-border flex items-center gap-3 border-b p-4">
    
    <div class="text-muted-foreground h-5 w-5 flex-shrink-0">
      
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />

</svg>
    </div>

    
    <div class="relative flex-1">
      
      <button
        id="search-clear"
        class="text-muted-foreground hover:text-foreground hover:bg-muted/50 pointer-events-none absolute top-1/2 left-0 z-10 h-5 w-5 -translate-y-1/2 rounded opacity-0 transition-all duration-200"
        title="지우기"
        aria-label="지우기">
        
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />

</svg>
      </button>

      
      <input
        id="search-input"
        type="text"
        placeholder="게시글 검색..."
        class="text-foreground placeholder:text-muted-foreground w-full border-none bg-transparent pl-8 text-lg outline-none"
        autocomplete="off"
        spellcheck="false" />
    </div>

    
    <button
      id="search-close"
      class="text-muted-foreground hover:text-foreground hover:bg-muted/50 flex h-6 w-6 items-center justify-center rounded-md p-0.5 transition-all duration-200"
      title="닫기"
      aria-label="닫기">
      
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />

</svg>
    </button>
  </div>

  
  <div id="search-results" class="max-h-96 overflow-y-auto">
    
    <div
      id="search-empty"
      class="flex flex-col items-center justify-center py-12 text-center">
      <div
        class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full">
        
  <svg class="h-6 w-6"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />

</svg>
      </div>
      <h3 class="text-foreground mb-2 text-lg font-semibold">
        검색 시작
      </h3>
      <p class="text-muted-foreground text-sm">
        검색어를 입력하세요
      </p>
    </div>

    
    <div
      id="search-loading"
      class="flex hidden items-center justify-center py-8">
      <div
        class="mr-3 h-6 w-6 animate-spin rounded-full border-2 border-current border-t-transparent"></div>
      <span class="text-muted-foreground"
        >검색 중...</span
      >
    </div>

    
    <div
      id="search-no-results"
      class="flex hidden flex-col items-center justify-center py-12 text-center">
      <div
        class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full">
        
  <svg class="h-6 w-6"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
</svg>
      </div>
      <h3 class="text-foreground mb-2 text-lg font-semibold">
        검색 결과 없음
      </h3>
      <p class="text-muted-foreground text-sm">
        다른 검색어로 시도해보세요
      </p>
    </div>

    
    <div id="search-results-list" class="hidden">
      
      <div
        id="search-stats"
        class="text-muted-foreground border-border border-b px-4 py-3 text-sm"
        data-template="%d개의 결과 찾음">
      </div>

      
      <div id="search-items" class="divide-border divide-y">
        
      </div>
    </div>
  </div>

  
  <div class="border-border bg-muted/20 border-t px-4 py-3">
    <div
      class="text-muted-foreground flex items-center justify-between text-xs">
      <div class="flex items-center gap-2 md:gap-4">
        <div class="flex items-center gap-1">
          <kbd
            class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs"
            >↑↓</kbd
          >
          <span class="hidden sm:inline"
            >이동</span
          >
        </div>
        <div class="flex items-center gap-1">
          <kbd
            class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs"
            >↵</kbd
          >
          <span class="hidden sm:inline"
            >선택</span
          >
        </div>
        <div class="flex items-center gap-1">
          <kbd
            class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs"
            >ESC</kbd
          >
          <span class="hidden sm:inline"
            >닫기</span
          >
        </div>
      </div>
      <div class="search-hint-desktop flex items-center gap-1">
        <kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs"
          >⌘K</kbd
        >
        <span>단축키</span>
      </div>
    </div>
  </div>
</div>

  </body>
</html>
