<!doctype html>
<html
  lang="ko-kr"
  data-theme="claude">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1314&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />

<title>XGRAMMAR: FLEXIBLE AND EFFICIENT STRUCTURED GENERATION ENGINE FOR LARGE LANGUAGE MODELS | Jaehun&#39;s Blog</title>

<meta name="description" content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 XGrammar 논문 상세 분석: 유연하고 효율적인 LLM..." />
<meta name="keywords" content="개발, 컴파일러, 프로그래밍, 에세이" />
<meta name="author" content="" />
<meta name="language" content="ko-kr" />

<meta name="robots" content="index, follow" />
<link rel="canonical" href="http://192.168.1.11:1314/posts/XGRAMMAR-FLEXIBLE-AND-EFFICIENT-STRUCTURED-GENERATION-ENGINE-FOR-LARGE-LANGUAGE-MODELS/" />



  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />



<link rel="manifest" href="/site.webmanifest" />
<meta property="og:url" content="http://192.168.1.11:1314/posts/XGRAMMAR-FLEXIBLE-AND-EFFICIENT-STRUCTURED-GENERATION-ENGINE-FOR-LARGE-LANGUAGE-MODELS/">
  <meta property="og:site_name" content="Jaehun&#39;s Blog">
  <meta property="og:title" content="XGRAMMAR: FLEXIBLE AND EFFICIENT STRUCTURED GENERATION ENGINE FOR LARGE LANGUAGE MODELS">
  <meta property="og:description" content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 XGrammar 논문 상세 분석: 유연하고 효율적인 LLM 구조화 생성 엔진 제공해주신 논문 “XGrammar: Flexible and Efficient Structured Generation Engine for Large Language Models” [cite: 1]은 대규모 언어 모델(LLM)이 JSON, SQL, 코드 등 특정 구조를 가진 텍스트를 생성해야 하는 요구에 부응하기 위한 새로운 엔진 XGrammar를 제안합니다. 기존의 문맥 자유 문법(Context-Free Grammar, CFG) 기반 제약 디코딩 방식이 가진 실행 시간 오버헤드 문제를 해결하는 데 초점을 맞추고 있습니다. [cite: 2, 3, 4]">
  <meta property="og:locale" content="ko_kr">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-06-02T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-06-02T00:00:00+00:00">
    <meta property="og:image" content="http://192.168.1.11:1314/images/og-default.avif">


  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://192.168.1.11:1314/images/og-default.avif">
  <meta name="twitter:title" content="XGRAMMAR: FLEXIBLE AND EFFICIENT STRUCTURED GENERATION ENGINE FOR LARGE LANGUAGE MODELS">
  <meta name="twitter:description" content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 XGrammar 논문 상세 분석: 유연하고 효율적인 LLM 구조화 생성 엔진 제공해주신 논문 “XGrammar: Flexible and Efficient Structured Generation Engine for Large Language Models” [cite: 1]은 대규모 언어 모델(LLM)이 JSON, SQL, 코드 등 특정 구조를 가진 텍스트를 생성해야 하는 요구에 부응하기 위한 새로운 엔진 XGrammar를 제안합니다. 기존의 문맥 자유 문법(Context-Free Grammar, CFG) 기반 제약 디코딩 방식이 가진 실행 시간 오버헤드 문제를 해결하는 데 초점을 맞추고 있습니다. [cite: 2, 3, 4]">


  <meta itemprop="name" content="XGRAMMAR: FLEXIBLE AND EFFICIENT STRUCTURED GENERATION ENGINE FOR LARGE LANGUAGE MODELS">
  <meta itemprop="description" content="논문 링크
Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘 XGrammar 논문 상세 분석: 유연하고 효율적인 LLM 구조화 생성 엔진 제공해주신 논문 “XGrammar: Flexible and Efficient Structured Generation Engine for Large Language Models” [cite: 1]은 대규모 언어 모델(LLM)이 JSON, SQL, 코드 등 특정 구조를 가진 텍스트를 생성해야 하는 요구에 부응하기 위한 새로운 엔진 XGrammar를 제안합니다. 기존의 문맥 자유 문법(Context-Free Grammar, CFG) 기반 제약 디코딩 방식이 가진 실행 시간 오버헤드 문제를 해결하는 데 초점을 맞추고 있습니다. [cite: 2, 3, 4]">
  <meta itemprop="datePublished" content="2025-06-02T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-06-02T00:00:00+00:00">
  <meta itemprop="wordCount" content="13931">
  <meta itemprop="image" content="http://192.168.1.11:1314/images/og-default.avif">
  <meta itemprop="keywords" content="Paper-Review,With-Gemini-2.5-Pro(preview),MLSYS2025">







<script>
  window.HUGO_SEARCH_CONFIG = {
    searchIndexURL: "\"/index.json\""
  };
</script>


































<script>

  window.HUGO_GALLERY_CONFIG = {
    justified_gallery:  false ,
    lightbox:  false ,
    justified: "{}",
    lightbox_options: "{}"
  };
</script>




  
    <link rel="stylesheet" href="/css/compiled.css" />
  





  
    <link rel="stylesheet" href="/css/chroma.css" />
  












      <script src="/js/main.js"></script>



  <script src="/js/gumshoe.polyfills.min.js"></script>



        <script src="/js/toc.js" defer></script>



      <script src="/js/search.js" defer></script>



      <script src="/js/dock.js" defer></script>











  











    <script>
      
      (function() {
        const theme = localStorage.getItem('theme') || 'system';
        const colorScheme = localStorage.getItem('colorScheme') || 'claude';

        
        document.documentElement.setAttribute('data-theme', colorScheme);

        
        function applyTheme() {
          if (theme === 'dark' || (theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
          } else {
            document.documentElement.classList.remove('dark');
          }
        }

        applyTheme();

        
        if (theme === 'system') {
          window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', applyTheme);
        }
      })();
    </script>
  </head>

  <body class="bg-background text-foreground min-h-screen antialiased">
    
    
  <div
    id="reading-progress-container"
    class="reading-progress-container pointer-events-none fixed top-0 right-0 left-0 z-50 transition-opacity duration-300 ease-out"
    data-height="3"
    data-smooth-scroll="true"
    data-hide-on-complete="false">
    
    <div class="reading-progress-bg w-full"></div>

    
    <div
      id="reading-progress-bar"
      class="from-primary to-primary/80 reading-progress-bar 
        transition-all duration-150 ease-out
       absolute top-0 left-0 w-0 bg-gradient-to-r"></div>
  </div>

  <script>
    (function () {
      "use strict";

      const progressContainer = document.getElementById(
        "reading-progress-container",
      );
      const progressBar = document.getElementById("reading-progress-bar");

      if (!progressContainer || !progressBar) return;

      
      const config = {
        smoothScroll: progressContainer.dataset.smoothScroll === "true",
        hideOnComplete: progressContainer.dataset.hideOnComplete === "true",
      };

      let isVisible = true;
      let gumshoeInstance = null;

      
      function calculateProgress() {
        const scrollTop =
          window.pageYOffset || document.documentElement.scrollTop;
        const documentHeight = document.documentElement.scrollHeight;
        const windowHeight = window.innerHeight;
        const scrollableHeight = documentHeight - windowHeight;

        if (scrollableHeight <= 0) return 0;

        return Math.min(Math.max((scrollTop / scrollableHeight) * 100, 0), 100);
      }

      
      function updateProgress() {
        const progress = calculateProgress();
        progressBar.style.width = progress + "%";

        
        if (config.hideOnComplete && progress >= 99.5) {
          if (isVisible) {
            progressContainer.style.opacity = "0";
            isVisible = false;
          }
        } else if (!isVisible) {
          progressContainer.style.opacity = "1";
          isVisible = true;
        }
      }

      
      let ticking = false;
      function requestTick() {
        if (!ticking) {
          requestAnimationFrame(() => {
            updateProgress();
            ticking = false;
          });
          ticking = true;
        }
      }

      
      function init() {
        
        window.addEventListener("scroll", requestTick, { passive: true });
        window.addEventListener("resize", requestTick, { passive: true });
        document.addEventListener("visibilitychange", () => {
          if (!document.hidden) requestTick();
        });

        
        requestTick();

        
        window.addEventListener("beforeunload", () => {
          window.removeEventListener("scroll", requestTick);
          window.removeEventListener("resize", requestTick);
        });
      }

      
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", init);
      } else {
        init();
      }
    })();
  </script>

    <header class="sticky top-0 z-50 mx-auto max-w-4xl px-4 py-6">
  <div
    class="border-border bg-card/80 flex items-center rounded-xl border px-6 py-4 shadow-sm backdrop-blur-sm">
    
    <div class="hidden w-full items-center md:flex">
      
      <div class="flex items-center">
        
          
          <a
            href="/"
            class="bg-primary text-primary-foreground hover:bg-primary/90 flex h-10 w-10 items-center justify-center rounded-full text-lg font-bold transition-transform duration-200 hover:scale-105"
            aria-label="Jaehun&#39;s Blog">
            J
          </a>
        
      </div>

      
      <nav class="mx-8 flex flex-1 items-center justify-center">
        <div class="flex items-center space-x-1">
          
          
            
            
            
              
                
              
            
            
            <a
              href="/posts/"
              class="nav-link 
                text-muted-foreground hover:text-primary hover:bg-primary/10
               focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none">
              
                
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.posts">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />

</svg>
              
              <span
                >
                  게시글
                </span
              >
            </a>
          
            
            
            
              
                
              
            
            
            <a
              href="/categories/"
              class="nav-link 
                text-muted-foreground hover:text-primary hover:bg-primary/10
               focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none">
              
                
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.categories">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />

</svg>
              
              <span
                >
                  카테고리
                </span
              >
            </a>
          
            
            
            
              
                
              
            
            
            <a
              href="/tags/"
              class="nav-link 
                text-muted-foreground hover:text-primary hover:bg-primary/10
               focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none">
              
                
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.tags">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />

</svg>
              
              <span
                >
                  태그
                </span
              >
            </a>
          
            
            
            
              
                
              
            
            
            <a
              href="/archives/"
              class="nav-link 
                text-muted-foreground hover:text-primary hover:bg-primary/10
               focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none">
              
                
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.archives">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />

</svg>
              
              <span
                >
                  아카이브
                </span
              >
            </a>
          
        </div>
      </nav>

      
      <div class="flex items-center space-x-2">
        
        
<div class="relative">
  <button id="language-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95"
    data-dropdown-type="language"
    aria-label="언어 변경"
    aria-expanded="false"
    aria-haspopup="true">
      
  <svg class="h-5 w-5 relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="언어 변경">
	<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8l6 6m-7 0l6-6l2-3M2 5h12M7 2h1m14 20l-5-10l-5 10m2-4h6" />
</svg></button>

  
  <div id="language-dropdown"
    class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out"
    data-dropdown-type="language"
    role="menu"
    aria-labelledby="language-toggle"><a href="/ko/" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role="menuitem" aria-current="true"><span class="font-medium">한국어</span></a><a href="/en/" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role="menuitem"><span class="font-medium">English</span></a></div>
</div>

        
        
<div class="relative">
  <button id="color-scheme-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95"
    data-dropdown-type="color-scheme"
    aria-label="테마 변경"
    aria-expanded="false"
    aria-haspopup="true">
      
  <svg class="h-5 w-5 relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="테마 변경">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z" />

</svg></button>

  
  <div id="color-scheme-dropdown"
    class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out"
    data-dropdown-type="color-scheme"><button data-color-scheme="claude" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme="default" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme="bumblebee" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme="emerald" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme="nord" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme="sunset" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme="abyss" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme="dracula" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme="amethyst" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme="slate" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme="twitter" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div>
</div>

        
        
<div class="relative">
  <button id="theme-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95"
    data-dropdown-type="theme"
    aria-label="테마 변경"
    aria-expanded="false"
    aria-haspopup="true">
      
      
  <svg class="h-5 w-5 sun-icon hidden relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="라이트">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />

</svg>
      
      
  <svg class="h-5 w-5 moon-icon hidden relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="다크">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />

</svg>
      
      
  <svg class="h-5 w-5 system-icon hidden relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="시스템">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />

</svg></button>

  
  <div id="theme-dropdown"
    class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out"
    data-dropdown-type="theme"><button data-theme="light" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
  <svg class="h-5 w-5 mr-3 h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="라이트">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />

</svg><span>라이트</span></button><button data-theme="dark" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
  <svg class="h-5 w-5 mr-3 h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="다크">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />

</svg><span>다크</span></button><button data-theme="system" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
  <svg class="h-5 w-5 mr-3 h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="시스템">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />

</svg><span>시스템</span></button></div>
</div>
      </div>
    </div>

    
    <div class="flex w-full items-center justify-between md:hidden">
      
      
<div class="relative">
  <button
    id="mobile-menu-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:bg-accent hover:text-foreground flex h-10 w-10 items-center justify-center rounded-lg border transition-colors duration-200"
    data-dropdown-type="mobile-menu"
    aria-label="메뉴"
    aria-expanded="false"
    aria-haspopup="true">
    
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="메뉴">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />

</svg>
  </button>

  
  <div
    id="mobile-menu"
    class="mobile-menu dropdown-menu border-border bg-popover/95 absolute top-12 left-0 z-[60] hidden w-80 max-w-[calc(100vw-2rem)] rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out md:hidden"
    data-dropdown-type="mobile-menu"
    role="menu"
    aria-labelledby="mobile-menu-toggle">
    <nav class="flex flex-col">
      
      
        
        
        
          
            
          
        
        
        <a
          href="/posts/"
          class="nav-link 
            text-muted-foreground hover:text-primary hover:bg-primary/10
           focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none"
          role="menuitem"
          >
          
            
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.posts">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />

</svg>
          
          <span
            >
              게시글
            </span
          >
        </a>
      
        
        
        
          
            
          
        
        
        <a
          href="/categories/"
          class="nav-link 
            text-muted-foreground hover:text-primary hover:bg-primary/10
           focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none"
          role="menuitem"
          >
          
            
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.categories">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />

</svg>
          
          <span
            >
              카테고리
            </span
          >
        </a>
      
        
        
        
          
            
          
        
        
        <a
          href="/tags/"
          class="nav-link 
            text-muted-foreground hover:text-primary hover:bg-primary/10
           focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none"
          role="menuitem"
          >
          
            
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.tags">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />

</svg>
          
          <span
            >
              태그
            </span
          >
        </a>
      
        
        
        
          
            
          
        
        
        <a
          href="/archives/"
          class="nav-link 
            text-muted-foreground hover:text-primary hover:bg-primary/10
           focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none"
          role="menuitem"
          >
          
            
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="nav.archives">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />

</svg>
          
          <span
            >
              아카이브
            </span
          >
        </a>
      
    </nav>
  </div>
</div>


      
      <div class="flex items-center space-x-2">
        
        
<div class="relative">
  <button id="language-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95"
    data-dropdown-type="language"
    aria-label="언어 변경"
    aria-expanded="false"
    aria-haspopup="true">
      
  <svg class="h-5 w-5 relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="언어 변경">
	<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8l6 6m-7 0l6-6l2-3M2 5h12M7 2h1m14 20l-5-10l-5 10m2-4h6" />
</svg></button>

  
  <div id="language-dropdown"
    class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out"
    data-dropdown-type="language"
    role="menu"
    aria-labelledby="language-toggle"><a href="/ko/" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role="menuitem" aria-current="true"><span class="font-medium">한국어</span></a><a href="/en/" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role="menuitem"><span class="font-medium">English</span></a></div>
</div>

        
        
<div class="relative">
  <button id="color-scheme-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95"
    data-dropdown-type="color-scheme"
    aria-label="테마 변경"
    aria-expanded="false"
    aria-haspopup="true">
      
  <svg class="h-5 w-5 relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="테마 변경">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z" />

</svg></button>

  
  <div id="color-scheme-dropdown"
    class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out"
    data-dropdown-type="color-scheme"><button data-color-scheme="claude" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme="default" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>White</span></button><button data-color-scheme="bumblebee" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme="emerald" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme="nord" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme="sunset" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme="abyss" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme="dracula" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme="amethyst" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme="slate" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme="twitter" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div>
</div>

        
        
<div class="relative">
  <button id="theme-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95"
    data-dropdown-type="theme"
    aria-label="테마 변경"
    aria-expanded="false"
    aria-haspopup="true">
      
      
  <svg class="h-5 w-5 sun-icon hidden relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="라이트">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />

</svg>
      
      
  <svg class="h-5 w-5 moon-icon hidden relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="다크">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />

</svg>
      
      
  <svg class="h-5 w-5 system-icon hidden relative z-10"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="시스템">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />

</svg></button>

  
  <div id="theme-dropdown"
    class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out"
    data-dropdown-type="theme"><button data-theme="light" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
  <svg class="h-5 w-5 mr-3 h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="라이트">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />

</svg><span>라이트</span></button><button data-theme="dark" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
  <svg class="h-5 w-5 mr-3 h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="다크">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />

</svg><span>다크</span></button><button data-theme="system" class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
  <svg class="h-5 w-5 mr-3 h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="시스템">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />

</svg><span>시스템</span></button></div>
</div>
      </div>
    </div>
  </div>
</header>


    <main class="mx-auto max-w-4xl px-4 py-6">
      
  
  <nav
  class="breadcrumb mb-4 md:mb-6 py-1"
  aria-label="경로">
  <ol class="text-muted-foreground flex items-center space-x-1 md:space-x-2 text-sm overflow-x-auto whitespace-nowrap scrollbar-hide py-1">
    
    <li class="flex-shrink-0">
      <a
        href="/"
        class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02]">
        
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="홈">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m3 12 2-2m0 0 7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />

</svg>
        <span class="max-w-[4rem] md:max-w-none truncate">홈</span>
      </a>
    </li>

    
    
      <li class="flex items-center gap-1 md:gap-2 min-w-0">
        <span class="text-muted-foreground/50 flex-shrink-0"
          >
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
</svg>
        </span>

        
          
          <div class="flex items-center gap-1 md:gap-2 min-w-0">
            
              
              <a
                href="/posts"
                class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02] flex-shrink-0">
                
                  
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />

</svg>
                  <span class="max-w-[3rem] md:max-w-none truncate">게시글</span>
                
              </a>
              <span class="text-muted-foreground/50 flex-shrink-0"
                >
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
</svg></span
              >
            
            
            <span class="text-foreground flex items-center gap-0.5 md:gap-1 font-medium min-w-0">
              
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
</svg>
              <span class="max-w-[8rem] md:max-w-[16rem] lg:max-w-none truncate">XGRAMMAR: FLEXIBLE AND EFFICIENT STRUCTURED GENERATION ENGINE FOR LARGE LANGUAGE MODELS</span>
            </span>
          </div>
        
      </li>
    

  </ol>
</nav>



  


  
  <header class="mb-8">
    


<div class="post-meta">
  
  <h1 class="text-foreground mb-6 text-3xl leading-tight font-bold md:text-4xl">
    XGRAMMAR: FLEXIBLE AND EFFICIENT STRUCTURED GENERATION ENGINE FOR LARGE LANGUAGE MODELS
  </h1>

  
  


  
  <div class="bg-card border-border flex flex-col gap-4 rounded-xl border p-6">
    
    <div
      class="text-muted-foreground flex flex-wrap items-center gap-4 text-sm">
      
      <div class="flex items-center gap-2">
        
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="작성일"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
</svg>
        <time datetime="2025-06-02">
          2025년 06월 02일
        </time>
      </div>

      
      


      
      
        <div class="flex items-center gap-2">
          
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="읽는 시간"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
          <span
            >28 분</span
          >
        </div>
      


      
      
        <div class="flex items-center gap-2">
          
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="단어 수"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
</svg>
          <span>13931 단어</span>
        </div>
      

    </div>

    
    
      <div class="flex flex-wrap items-center gap-4">
        
        
          <div class="flex items-center gap-2">
            
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="카테고리"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
</svg>
            <span class="text-muted-foreground mr-2 text-sm"
              >카테고리:</span
            >
            <div class="flex flex-wrap gap-2">
              
                <a
                  href="/categories/paper-review/"
                  class="bg-primary/10 text-primary hover:bg-primary/20 focus:ring-primary/20 inline-flex items-center rounded-full px-3 py-1 text-sm font-medium transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 hover:shadow-md focus:ring-2 focus:outline-none">
                  paper-review
                </a>
              
                <a
                  href="/categories/with-gemini-2.5-propreview/"
                  class="bg-primary/10 text-primary hover:bg-primary/20 focus:ring-primary/20 inline-flex items-center rounded-full px-3 py-1 text-sm font-medium transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 hover:shadow-md focus:ring-2 focus:outline-none">
                  with-gemini-2.5-pro(preview)
                </a>
              
                <a
                  href="/categories/MLSYS2025/"
                  class="bg-primary/10 text-primary hover:bg-primary/20 focus:ring-primary/20 inline-flex items-center rounded-full px-3 py-1 text-sm font-medium transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 hover:shadow-md focus:ring-2 focus:outline-none">
                  MLSYS2025
                </a>
              
            </div>
          </div>
        


        
        

      </div>
    


    
    

  </div>
</div>

  </header>

  
  <article class="prose prose-neutral dark:prose-invert mb-12 max-w-none">
    <p><a href="https://arxiv.org/abs/2411.15100v3">논문 링크</a></p>
<h1 id="q--이-논문을-아주-자세하게-읽고-논문의-강점과-독창적인-지점을-설명해주고-핵심-알고리즘을-예시-입력을-들어서-전체적인-과정을-설명해줘-추가적으로-논문의-한계점에-대해서도-알려줘">Q : 이 논문을 아주 자세하게 읽고 논문의 강점과 독창적인 지점을 설명해주고 핵심 알고리즘을 예시 입력을 들어서 전체적인 과정을 설명해줘 추가적으로 논문의 한계점에 대해서도 알려줘</h1>
<h2 id="xgrammar-논문-상세-분석-유연하고-효율적인-llm-구조화-생성-엔진">XGrammar 논문 상세 분석: 유연하고 효율적인 LLM 구조화 생성 엔진</h2>
<p>제공해주신 논문 &ldquo;XGrammar: Flexible and Efficient Structured Generation Engine for Large Language Models&rdquo; [cite: 1]은 대규모 언어 모델(LLM)이 JSON, SQL, 코드 등 특정 구조를 가진 텍스트를 생성해야 하는 요구에 부응하기 위한 새로운 엔진 XGrammar를 제안합니다. 기존의 문맥 자유 문법(Context-Free Grammar, CFG) 기반 제약 디코딩 방식이 가진 실행 시간 오버헤드 문제를 해결하는 데 초점을 맞추고 있습니다. [cite: 2, 3, 4]</p>
<p><strong>XGrammar의 강점 및 독창적인 지점</strong></p>
<p>XGrammar는 여러 독창적인 아이디어와 최적화 기법을 통해 기존 방식 대비 높은 효율성과 유연성을 달성합니다.</p>
<ol>
<li>
<p><strong>적응형 토큰 마스크 캐시 (Adaptive Token Mask Cache):</strong></p>
<ul>
<li><strong>독창성:</strong> XGrammar의 핵심 혁신 중 하나는 어휘(vocabulary)를 &lsquo;문맥 독립적 토큰(context-independent tokens)&lsquo;과 &lsquo;문맥 의존적 토큰(context-dependent tokens)&lsquo;으로 분류하는 것입니다. [cite: 6, 36] 문맥 독립적 토큰은 현재 파싱 상태(automata의 지역적 문맥)만으로 유효성을 미리 판단할 수 있어 사전 계산이 가능합니다. [cite: 37, 81] 반면 문맥 의존적 토큰은 전체 스택 상태를 확인해야 합니다. [cite: 82]</li>
<li><strong>강점:</strong> 대부분의 토큰이 문맥 독립적이므로, 이들의 유효성을 미리 계산하여 캐시에 저장해두고 런타임 시 빠르게 조회할 수 있습니다. [cite: 30, 31, 86] 이는 런타임 오버헤드를 크게 줄입니다. [cite: 89] 또한, 캐시 내용을 기반으로 &lsquo;수용 위주(accept-heavy)&rsquo;, &lsquo;거부 위주(reject-heavy)&rsquo;, 또는 드문 경우 &lsquo;균등(equal cases, 비트셋 사용)&lsquo;으로 나누어 가장 효율적인 저장 형식을 적응적으로 선택하여 메모리 사용량을 최소화합니다. [cite: 90, 91, 92, 94, 95, 96, 104]</li>
</ul>
</li>
<li>
<p><strong>문맥 확장 (Context Expansion):</strong></p>
<ul>
<li><strong>독창성:</strong> 문맥 의존적 토큰의 수를 더욱 줄이기 위해, 각 문법 규칙이 완료된 후 부모 규칙으로 돌아갔을 때 수용될 수 있는 문자열 집합인 &lsquo;확장 접미사(expanded suffix)&lsquo;를 미리 계산합니다. [cite: 112, 115, 116]</li>
<li><strong>강점:</strong> 문맥 의존적 토큰의 나머지 미일치 부분이 이 확장 접미사의 접두사이거나 확장 접미사로 시작하지 않으면 사전 처리 단계에서 거부됩니다. [cite: 117] 이를 통해 런타임 시 검사해야 할 문맥 의존적 토큰의 수를 크게 줄여 효율성을 높입니다. [cite: 119, 120]</li>
</ul>
</li>
<li>
<p><strong>영구 실행 스택 (Persistent Execution Stack):</strong></p>
<ul>
<li><strong>독창성:</strong> 문맥 의존적 토큰 검사 및 캐시 사전 처리 시 다수의 병렬 스택을 효율적으로 관리하고 상태 분기(branching) 및 롤백(rollback)을 신속하게 지원하기 위해 영구 데이터 구조를 활용합니다. [cite: 8, 45, 135, 136]</li>
<li><strong>강점:</strong> 문법의 모호성으로 인해 스택이 분기될 때 전체 스택을 복사하는 대신 해당 분기만 나누므로 오버헤드가 적습니다. [cite: 141] 또한, 이전 시점의 스택을 유지하여 상태 롤백을 빠르게 수행할 수 있어, 공통 접두사를 가진 많은 토큰을 검사할 때 중복 검사를 피하고 사전 처리 속도를 높입니다. [cite: 142, 147, 148] 이는 Jump-forward 디코딩이나 Tree-of-thought와 같은 고급 LLM 애플리케이션에도 효율적인 구조 생성을 지원합니다. [cite: 150, 151, 152, 153, 154, 155]</li>
</ul>
</li>
<li>
<p><strong>푸시다운 오토마타 구조 최적화 (Pushdown Automata Structure Optimizations):</strong></p>
<ul>
<li><strong>독창성:</strong> 전통적인 컴파일러 최적화 개념을 차용하여, 작은 규칙들을 부모 규칙에 인라인(rule inlining)하고, 동일한 레이블을 가진 여러 간선으로 인한 모호성을 줄이기 위해 노드를 병합(node merging)합니다. [cite: 158, 164, 165, 171, 172, 175]</li>
<li><strong>강점:</strong> 이러한 최적화는 오토마타의 노드와 간선 수를 줄여 모호성을 감소시키고, 결과적으로 런타임 시 스택 수를 줄여 토큰 검사 속도를 높이고 문맥 확장의 효과를 향상시킵니다. [cite: 167, 177]</li>
</ul>
</li>
<li>
<p><strong>마스크 생성과 LLM 추론 중첩 (Overlapping Mask Generation and LLM Inference):</strong></p>
<ul>
<li><strong>독창성:</strong> XGrammar 엔진을 LLM 추론 엔진과 공동 설계하여, CPU에서 수행되는 문법 계산(마스크 생성)과 GPU에서 수행되는 LLM 추론을 중첩 실행합니다. [cite: 9, 40, 179, 182]</li>
<li><strong>강점:</strong> 마스크 생성은 이전 생성 토큰에만 의존하고 CPU를 사용하며, LLM 추론(샘플링 제외)은 GPU를 사용하므로 병렬 처리가 가능합니다. [cite: 180, 181] 샘플링 직전에 동기화하여 GPU가 CPU로부터 마스크를 받아 적용합니다. [cite: 183] 이를 통해 마스크 생성으로 인한 오버헤드를 거의 제로 수준으로 최소화합니다. [cite: 185, 186]</li>
</ul>
</li>
</ol>
<p><strong>핵심 알고리즘: 예시 입력을 통한 전체 과정 설명</strong></p>
<p>XGrammar의 핵심 작동 방식을 간략화된 JSON 유사 문법과 예시 입력을 통해 설명하겠습니다. (논문의 Figure 1, 2, 3, 4 참고)</p>
<ul>
<li>
<p><strong>가정:</strong></p>
<ul>
<li><strong>문법 (CFG):</strong> <code>main ::= &lt;array&gt; | &lt;str&gt;</code>, <code>array ::= '[' (&lt;str&gt; | &lt;array&gt; ',')* (&lt;str&gt; | &lt;array&gt;)? ']'</code>, <code>str ::= '&quot;' [^&quot;\\]* '&quot;'</code> (Figure 3과 유사)</li>
<li><strong>LLM 이전 출력:</strong> <code>[&quot;a</code> (Figure 1에서 암시)</li>
<li><strong>현재 생성할 토큰 고려 중</strong></li>
</ul>
</li>
<li>
<p><strong>과정:</strong></p>
<ol>
<li>
<p><strong>이전 출력 파싱 (푸시다운 오토마타 사용):</strong> [cite: 29]</p>
<ul>
<li>XGrammar는 CFG를 바이트 레벨 푸시다운 오토마타(PDA)로 표현합니다. [cite: 35]</li>
<li>이전 LLM 출력 <code>[&quot;a</code>는 이 PDA에 의해 파싱되어 현재 &ldquo;매칭 스택 상태(matching stack states)&ldquo;를 생성합니다. [cite: 29] 예를 들어, Figure 3 (아래)는 <code>[&quot;a</code> 파싱 후 가능한 두 스택 상태를 보여줍니다. 그중 하나는 <code>&lt;array&gt;</code> 규칙의 <code>[</code>를 거쳐 <code>&lt;str&gt;</code> 규칙으로 진입하여 <code>&quot;</code>와 <code>a</code>를 매칭한 상태 (<code>Node 1</code>)일 수 있습니다.</li>
</ul>
</li>
<li>
<p><strong>적응형 토큰 마스크 캐시 조회:</strong> [cite: 30]</p>
<ul>
<li>현재 스택의 최상단 상태(예: <code>&lt;str&gt;</code> 규칙 내 <code>Node 1</code>)가 키로 사용되어 적응형 토큰 마스크 캐시를 조회합니다. [cite: 84]</li>
<li>이 캐시는 사전 처리 단계에서 미리 생성되었습니다. [cite: 70] <code>Node 1</code>에 대해 캐시는 다음 정보를 포함할 수 있습니다:
<ul>
<li>문맥 독립적 <em>수용</em> 토큰: (예: <code>b</code>, <code>c</code>, <code>1</code> 등 - <code>&quot;</code>나 <code>\</code>가 아닌 일반 문자들)</li>
<li>문맥 독립적 <em>거부</em> 토큰: (예: <code>[</code> - 단순 문자열 다음에 올 것으로 예상되지 않는 경우)</li>
<li>문맥 의존적 토큰: (예: <code>&quot;</code>, <code>\</code> - 문자열을 종료하거나 이스케이프 시퀀스를 시작할 수 있는 토큰)</li>
</ul>
</li>
<li>캐시 조회 결과로 &ldquo;부분 토큰 마스크(partial token mask)&ldquo;가 빠르게 반환되며, 대부분의 토큰 유효성이 여기서 결정됩니다. [cite: 31]</li>
</ul>
</li>
<li>
<p><strong>문맥 의존적 토큰 처리:</strong> [cite: 32]</p>
<ul>
<li>소수의 문맥 의존적 토큰(예: <code>&quot;</code> 또는 <code>&quot;,&quot;</code>처럼 <code>&quot;</code>로 시작하는 토큰)은 런타임에 검사됩니다. [cite: 72]</li>
<li>만약 다음 토큰이 <code>&quot;</code>라면, 이는 <code>&lt;str&gt;</code> 규칙의 끝을 의미합니다. PDA는 스택을 pop하고 부모 규칙인 <code>&lt;array&gt;</code>로 돌아가야 합니다. 이 검사는 영구 실행 스택을 통해 전체 스택 상태를 사용합니다. [cite: 82]</li>
<li><em>문맥 확장 역할 (사전 계산):</em> 만약 <code>&lt;str&gt;</code> 규칙 다음에 <code>','</code> 또는 <code>']'</code> (즉, <code>&lt;array&gt;</code> 규칙으로부터의 확장 접미사)가 와야 한다고 사전 계산되었다면, <code>&quot;</code> 다음에 오는 토큰이 <code>foo</code> (<code>,</code>, <code>]</code>로 시작하지 않음)와 같은 형태라면, 해당 토큰은 문맥 의존적이라도 이미 필터링되었을 수 있습니다. [cite: 116, 117]</li>
</ul>
</li>
<li>
<p><strong>완전한 토큰 마스크 생성:</strong> [cite: 33]</p>
<ul>
<li>문맥 독립적 토큰과 문맥 의존적 토큰의 검사 결과가 결합되어 &ldquo;완전한 토큰 마스크(complete token mask)&ldquo;가 생성됩니다.</li>
</ul>
</li>
<li>
<p><strong>LLM 샘플링:</strong></p>
<ul>
<li>생성된 마스크는 LLM의 로짓(logits)에 적용되어, 유효하지 않은 토큰의 확률을 0으로 만듭니다. [cite: 54]</li>
<li>LLM은 유효한 토큰 중에서 다음 토큰을 샘플링합니다. [cite: 55]</li>
</ul>
</li>
<li>
<p><strong>PDA 상태 업데이트:</strong> [cite: 74]</p>
<ul>
<li>새롭게 생성된 토큰은 다음 디코딩 단계를 위해 PDA의 스택 상태를 업데이트하는 데 사용됩니다.</li>
</ul>
</li>
<li>
<p><strong>중첩 실행:</strong></p>
<ul>
<li>GPU가 다음 토큰을 위한 LLM 로짓을 계산하는 동안(5단계 관련), CPU는 그 <em>다음</em> 토큰을 위한 마스크 생성(2-4단계) 작업을 병렬로 수행할 수 있습니다. [cite: 182] 캐시 사전 처리(2단계 데이터 생성)는 LLM 프롬프트 사전 채우기(prefilling)와 중첩될 수 있습니다. [cite: 184]</li>
</ul>
</li>
</ol>
</li>
</ul>
<p><strong>논문의 한계점</strong></p>
<p>XGrammar는 매우 인상적인 성능 향상을 보여주지만, 다음과 같은 잠재적인 한계점을 고려할 수 있습니다:</p>
<ol>
<li><strong>문법 표현력의 한계:</strong> CFG는 강력하지만, 매우 복잡한 일부 구조는 표현하기 어렵거나 거대한 PDA/캐시를 생성할 수 있습니다. 논문은 JSON, SQL, XML 등 일반적인 형식에 중점을 두고 있으며, 극도로 복잡하거나 모호한 문법에서의 성능은 심도 있게 다루어지지 않았습니다.</li>
<li><strong>사전 처리 오버헤드:</strong> 문맥 확장 및 적응형 캐시가 런타임 오버헤드를 줄이지만, 캐시 구축 및 문맥 확장과 같은 초기 사전 처리 단계에는 여전히 비용이 발생합니다. [cite: 70] 매우 동적이거나 일회성인 문법의 경우 이것이 고려 사항이 될 수 있지만, 논문에서는 이 과정이 중첩될 수 있다고 주장합니다. [cite: 184]</li>
<li><strong>토큰화 불일치 문제:</strong> 논문은 토큰이 문법 경계를 넘거나 유니코드 문자를 깨뜨릴 수 있으며 바이트 수준 PDA가 이를 처리한다고 언급합니다. [cite: 26, 51, 68] 그러나 고정된 LLM 토크나이저와 바이트 수준 문법 파싱 간의 상호작용은 여전히 까다로울 수 있습니다. 극도로 단편화된 토큰이나 여러 문법 규칙을 부분적으로 동시에 일치시키는 토큰은 시스템에 부담을 줄 수 있지만, PDA는 모호성을 처리하도록 설계되었습니다. [cite: 66]</li>
<li><strong>&ldquo;확장 접미사&quot;의 확장성:</strong> 문맥 확장 알고리즘(Algorithm 2)은 재귀를 피하기 위해 하위 그래프에서 규칙 참조 간선을 고려하지 않습니다. [cite: 124] 규칙 인라인이 도움이 되지만[cite: 128], 이러한 단순화는 매우 깊이 중첩되거나 상호 재귀적인 문법 규칙에 대한 &ldquo;선행 탐색(lookahead)&rdquo; 능력을 제한하여, 이론적으로 무한한 선행 탐색으로 가능했던 것보다 더 많은 토큰을 문맥 의존적으로 남길 수 있습니다.</li>
<li><strong>구현 복잡성:</strong> 시스템은 PDA, 적응형 캐시, 영구 스택, 최적화기 등 많은 구성 요소를 가지고 있습니다. 강력하지만, 이는 더 단순한 정규식 또는 FSM 기반 접근 방식에 비해 구현 및 유지 관리의 복잡성이 높다는 것을 의미합니다. (이는 본질적인 단점이라기보다는 일반적인 트레이드오프입니다.)</li>
<li><strong>구문적 정확성에 초점:</strong> XGrammar는 구문적 유효성을 보장합니다. [cite: 241] 의미론적 정확성(예: 데이터베이스 스키마에 맞지 않는 구문적으로는 유효한 SQL 쿼리)을 본질적으로 보장하지는 않습니다. 이는 일반적으로 제약 디코딩의 범위를 벗어나지만 주목할 가치가 있습니다.</li>
</ol>
<p>종합적으로 XGrammar는 LLM의 구조화된 출력 생성 분야에서 중요한 진전을 이루었으며, 다양한 최적화 기법을 통해 실질적인 성능 향상과 높은 유연성을 제공합니다. 제안된 기법들은 향후 LLM 에이전트 및 관련 애플리케이션의 발전에 크게 기여할 것으로 기대됩니다.</p>
<h1 id="q--논문의-핵심알고리즘을-예시를-들어-아주-자세하게-설명해주고-정리해-줘">Q : 논문의 핵심알고리즘을 예시를 들어 아주 자세하게 설명해주고 정리해 줘</h1>
<p>XGrammar는 대규모 언어 모델(LLM)이 특정 구조(예: JSON, SQL)를 가진 텍스트를 효율적으로 생성하도록 돕는 엔진입니다[cite: 5]. 핵심 아이디어는 문맥 자유 문법(CFG)을 사용하여 생성될 토큰을 제약하되, 이 과정에서 발생하는 속도 저하를 최소화하는 것입니다.</p>
<hr>
<h2 id="xgrammar-핵심-알고리즘-상세-설명-">XGrammar 핵심 알고리즘 상세 설명 ⚙️</h2>
<p>XGrammar의 핵심 작동 방식은 다음과 같은 단계로 이루어집니다. (논문의 Figure 1, 2, 3, 4를 참고하면 이해에 도움이 됩니다.)</p>
<ol>
<li>
<p><strong>푸시다운 오토마타(PDA) 활용 및 이전 출력 파싱</strong>:</p>
<ul>
<li>XGrammar는 주어진 문맥 자유 문법(CFG)을 바이트 레벨의 푸시다운 오토마타(PDA)로 변환하여 사용합니다[cite: 35, 68]. PDA는 문법 규칙을 인식하고, 특히 중첩된 구조를 관리하는 데 효과적입니다[cite: 62].</li>
<li>LLM이 이전에 생성한 텍스트(prior LLM output)는 이 PDA를 통해 파싱됩니다[cite: 29]. 이 파싱 과정을 통해 현재 문법 규칙에 따른 &ldquo;매칭 스택 상태(matching stack states)&ldquo;가 결정됩니다[cite: 29]. 예를 들어, JSON 배열을 생성 중이고 <code>[&quot;item1&quot;</code>까지 생성되었다면, PDA 스택은 현재 <code>&lt;array&gt;</code> 규칙 내에서 문자열 <code>item1</code>을 인식한 상태를 나타냅니다.</li>
</ul>
</li>
<li>
<p><strong>적응형 토큰 마스크 캐시(Adaptive Token Mask Cache) 조회</strong>:</p>
<ul>
<li>XGrammar의 핵심 최적화는 이 캐시입니다[cite: 30, 44]. 현재 PDA 스택의 최상단 상태(stack top)를 키로 사용하여 미리 계산된 토큰 마스크 정보를 조회합니다[cite: 30].</li>
<li>이 캐시는 어휘(vocabulary) 내 토큰들을 다음과 같이 분류한 정보를 담고 있습니다[cite: 36, 75]:
<ul>
<li><strong>문맥 독립적 토큰 (Context-independent tokens)</strong>: 현재 PDA 상태(스택 최상단 노드)만으로 유효성이 판단되는 토큰들입니다[cite: 36, 80]. 이 토큰들은 미리 유효/무효 여부가 계산되어 캐시에 저장됩니다[cite: 37]. 예를 들어, 문자열 규칙 내에서 일반 문자를 나타내는 토큰들이 여기에 해당할 수 있습니다.</li>
<li><strong>문맥 의존적 토큰 (Context-dependent tokens)</strong>: 유효성을 판단하기 위해 전체 스택 상태를 확인해야 하는 토큰들입니다[cite: 36, 81]. 주로 현재 규칙을 완료하고 부모 규칙으로 돌아가야 하는 경우 발생합니다[cite: 81]. 예를 들어, 문자열을 닫는 따옴표(<code>&quot;</code>) 토큰이 이에 해당할 수 있습니다.</li>
</ul>
</li>
<li>캐시 조회 결과, 대부분의 토큰에 대한 &ldquo;부분 토큰 마스크(partial token mask)&ldquo;가 신속하게 반환됩니다[cite: 30, 31].</li>
</ul>
</li>
<li>
<p><strong>문맥 의존적 토큰 처리 (필요시)</strong>:</p>
<ul>
<li>캐시에서 문맥 의존적으로 분류된 소수의 토큰들은 런타임에 PDA를 통해 전체 스택 상태를 기반으로 유효성을 검사받습니다[cite: 32, 86].</li>
<li><strong>문맥 확장(Context Expansion)</strong> 최적화가 이 단계에서 도움을 줍니다[cite: 112]. 사전 처리 시, 각 문법 규칙이 완료된 후 부모 규칙으로 돌아갔을 때 이어질 수 있는 문자열(확장 접미사)을 미리 계산합니다[cite: 115]. 문맥 의존적 토큰의 나머지 부분이 이 확장 접미사와 일치하지 않으면, 런타임 검사 없이도 빠르게 거부될 수 있어 실제 검사 대상을 줄입니다[cite: 116, 117].</li>
</ul>
</li>
<li>
<p><strong>완전한 토큰 마스크 생성</strong>:</p>
<ul>
<li>문맥 독립적 토큰에 대한 캐시 조회 결과와 문맥 의존적 토큰에 대한 런타임 검사 결과가 합쳐져 &ldquo;완전한 토큰 마스크(complete token mask)&ldquo;가 생성됩니다[cite: 33]. 이 마스크는 현재 단계에서 생성될 수 있는 유효한 토큰들의 집합을 나타냅니다.</li>
</ul>
</li>
<li>
<p><strong>LLM 샘플링 적용</strong>:</p>
<ul>
<li>생성된 완전한 토큰 마스크는 LLM의 다음 토큰 예측 결과(logits)에 적용됩니다[cite: 54]. 유효하지 않은 토큰들의 확률은 0으로 설정되어, LLM이 문법적으로 올바른 토큰만을 샘플링하도록 강제합니다[cite: 54, 55].</li>
</ul>
</li>
<li>
<p><strong>PDA 상태 업데이트</strong>:</p>
<ul>
<li>LLM이 새로운 토큰을 생성하면, 이 토큰은 다시 PDA의 입력으로 사용되어 PDA의 스택 상태가 다음 단계를 위해 업데이트됩니다[cite: 74].</li>
</ul>
</li>
<li>
<p><strong>(최적화) 마스크 생성과 LLM 추론 중첩</strong>:</p>
<ul>
<li>XGrammar는 마스크 생성 과정(주로 CPU에서 실행)과 LLM의 토큰 추론 과정(주로 GPU에서 실행)을 병렬로 중첩 실행하여 전체 오버헤드를 최소화합니다[cite: 9, 40, 179]. LLM이 다음 토큰을 위한 로짓을 계산하는 동안, XGrammar는 이미 그 다음 단계의 마스크를 준비할 수 있습니다[cite: 182].</li>
</ul>
</li>
</ol>
<hr>
<h3 id="예시-json-객체-생성">예시: JSON 객체 생성</h3>
<p>LLM이 <code>{&quot;name&quot;:</code> 까지 생성했고, 다음으로 문자열 값을 생성해야 한다고 가정해 봅시다.</p>
<ol>
<li><strong>PDA 상태</strong>: 현재 PDA는 JSON 객체 내에서 키 <code>name</code>이 완료되었고, 값(문자열 예상)을 시작하려는 상태입니다. 스택에는 <code>&lt;object&gt;</code> 규칙에서 <code>&lt;string&gt;</code> (키)을 거쳐 이제 새로운 <code>&lt;string&gt;</code> (값) 규칙으로 진입하려는 정보가 있을 것입니다.</li>
<li><strong>캐시 조회</strong>: <code>&lt;string&gt;</code> 규칙의 시작 노드를 키로 적응형 토큰 마스크 캐시를 조회합니다.
<ul>
<li><strong>문맥 독립적 수용</strong>: <code>&quot;</code> (문자열 시작) 토큰이 유효하다고 빠르게 판단될 것입니다.</li>
<li><strong>문맥 독립적 거부</strong>: <code>]</code>, <code>}</code> 같은 토큰은 문자열 시작 부분에 올 수 없으므로 거부됩니다.</li>
<li><strong>문맥 의존적</strong>: 거의 없을 수 있지만, 특수한 경우 일부 토큰이 분류될 수 있습니다.</li>
</ul>
</li>
<li><strong>부분 마스크</strong>: <code>&quot;</code> 토큰을 포함한 소수의 토큰만 유효한 것으로 표시된 부분 마스크가 나옵니다.</li>
<li><strong>LLM 샘플링</strong>: LLM은 <code>&quot;</code> 토큰을 생성할 확률이 높아집니다. <code>&quot;</code>가 생성되었다고 가정합니다.</li>
<li><strong>PDA 상태 업데이트</strong>: PDA는 <code>&quot;</code>를 소비하고, 이제 <code>&lt;string&gt;</code> 규칙 내부로 이동하여 문자 내용을 기다립니다.</li>
<li><strong>다음 단계 (문자열 내용 생성)</strong>:
<ul>
<li><strong>캐시 조회</strong>: 현재 <code>&lt;string&gt;</code> 규칙 내부 상태(예: <code>Node_string_content</code>)를 키로 캐시 조회.
<ul>
<li><strong>문맥 독립적 수용</strong>: 대부분의 일반 문자 토큰 (예: <code>J</code>, <code>o</code>, <code>h</code>, <code>n</code>)</li>
<li><strong>문맥 독립적 거부</strong>: 제어 문자 등</li>
<li><strong>문맥 의존적</strong>: <code>&quot;</code> (문자열 종료), <code>\</code> (이스케이프)</li>
</ul>
</li>
<li>LLM이 <code>J</code>를 생성하면 PDA 상태가 업데이트되고, 이 과정이 반복됩니다.</li>
<li>만약 LLM이 <code>&quot;</code> 토큰을 생성하려 한다면, 이는 문맥 의존적이므로 PDA 스택 전체를 확인합니다. <code>&lt;string&gt;</code> 규칙이 종료되고 부모 규칙(이 경우 <code>&lt;object&gt;</code>의 값 부분)으로 돌아가야 합니다. 문맥 확장을 통해 <code>&quot;</code> 다음에 올 수 있는 토큰(예: <code>,</code> 또는 <code>}</code>)이 미리 계산되어, <code>&quot;</code> 다음에 엉뚱한 문자가 오는 것을 방지할 수 있습니다.</li>
</ul>
</li>
</ol>
<p>이러한 과정을 통해 XGrammar는 각 생성 단계마다 LLM이 문법적으로 올바른 토큰만을 생성하도록 효율적으로 안내합니다.</p>
<h1 id="q--이-논문에서-제시한-결과를-자세하게-보고-다른-방법론에-비하여-특출난-점과-논문에서-제기하는-어떠한-방법이-이러한-결과를-도출하게-되었는지-논문에서-제시하는-이유와-너의-생각을-알려줘">Q : 이 논문에서 제시한 결과를 자세하게 보고 다른 방법론에 비하여 특출난 점과 논문에서 제기하는 어떠한 방법이 이러한 결과를 도출하게 되었는지 논문에서 제시하는 이유와 너의 생각을 알려줘</h1>
<h2 id="xgrammar-논문-결과-분석-및-평가">XGrammar 논문 결과 분석 및 평가</h2>
<p>이 논문은 XGrammar라는 새로운 구조화 생성 엔진을 제안하며, 기존 방법론에 비해 뛰어난 성능과 효율성을 다양한 실험을 통해 입증하고 있습니다.</p>
<h3 id="논문에서-제시된-주요-결과">논문에서 제시된 주요 결과</h3>
<ol>
<li>
<p><strong>마스크 생성 효율성 (Mask generation efficiency):</strong></p>
<ul>
<li>XGrammar는 JSON 스키마, 비제약 JSON CFG, XML CFG, Python DSL CFG 등 다양한 작업에서 기존 라이브러리(Outlines, llama.cpp-Grammar, lm-format-enforcer)보다 일관되게 낮은 토큰 당 마스크 생성 지연 시간을 달성했습니다[cite: 194, 211].</li>
<li>JSON 스키마 및 CFG (JSON) 작업에서는 토큰 당 40µs 미만, XML 및 Python DSL에서는 200µs 미만의 지연 시간을 기록했습니다[cite: 211].</li>
<li>JSON 스키마에서는 최대 3배, CFG 작업에서는 최대 100배 이상의 속도 향상을 보였습니다[cite: 212].</li>
</ul>
</li>
<li>
<p><strong>엔드-투-엔드 LLM 엔진 평가 (End-to-End LLM Engine Evaluation):</strong></p>
<ul>
<li>다양한 LLM 서빙 엔진(MLC-LLM, SGLang)과의 통합 테스트에서 XGrammar는 JSON 스키마 및 CFG (JSON) 작업 모두에서 가장 우수한 토큰 당 출력 시간(TPOT)을 달성했습니다[cite: 196, 216].</li>
<li>기존 솔루션 대비 최대 80배의 출력 토큰 속도 향상을 가져왔습니다[cite: 219].</li>
<li>SGLang에 통합했을 때, Outlines를 사용한 경우보다 Llama-3.1 8B 모델에서 약 6.5배 (44.2ms vs 6.8ms), DeepSeek-V2-Lite 16B MOE 모델에서는 약 3.3배 (15.8ms vs 4.8ms) 빠른 TPOT를 보였습니다[cite: 196].</li>
<li>MLC-LLM 엔진에 XGrammar를 적용했을 때, 적용하지 않았을 때와 비교하여 TPOT에 거의 오버헤드가 추가되지 않으면서 출력 품질은 향상되었습니다[cite: 228, 234]. 예를 들어, JSON 스키마 (배치 1)에서 미적용 시 6.2ms, 적용 시 6.3ms의 TPOT를 보였습니다[cite: 231].</li>
</ul>
</li>
<li>
<p><strong>최적화 기법 효과 분석 (Ablation Study):</strong></p>
<ul>
<li>푸시다운 오토마타(PDA) 기반 파서에서 시작하여 각 최적화 기법을 단계적으로 추가했을 때 성능 변화는 다음과 같습니다[cite: 233]:
<ul>
<li>PDA 기준선: 65.776 ms</li>
<li>+ 노드 병합: 38.280 ms (1.7배 향상)</li>
<li>+ 적응형 토큰 마스크 캐시: 0.154 ms (이전 대비 248.6배 향상)</li>
<li>+ 규칙 인라인: 0.035 ms (이전 대비 4.4배 향상)</li>
<li>+ 문맥 확장: 0.018 ms (이전 대비 1.9배 향상)</li>
</ul>
</li>
<li>적응형 토큰 마스크 캐시가 가장 큰 성능 향상을 가져왔으며, 다른 기법들도 눈에 띄는 개선을 보였습니다[cite: 240].</li>
</ul>
</li>
<li>
<p><strong>구조화 생성 작업에 대한 영향 (Impact on Structured Generation Tasks):</strong></p>
<ul>
<li>XGrammar를 사용했을 때 함수 호출(JSON 스키마 기반)과 XML 코드 생성 작업 모두에서 100%의 구문적 정확도를 달성했습니다[cite: 229, 230].</li>
<li>XGrammar 없이 LLaMA-3.1 8B 모델을 사용했을 때는 함수 호출 62%, XML 코드 생성 80%의 정확도를 보였습니다[cite: 230]. XGrammar는 모델이 의도된 코드 출력 외에 추가 설명을 포함하거나, 생성된 JSON이 예상치 못한 타입을 갖는 문제를 방지했습니다[cite: 246, 247].</li>
</ul>
</li>
<li>
<p><strong>부가적 결과:</strong></p>
<ul>
<li><strong>Jump-forward 디코딩과의 시너지:</strong> XGrammar는 Jump-forward 디코딩과 결합했을 때 SGLang 엔진에서 최적의 TPOT를 달성하여, 구조적 제약을 더 잘 활용하여 생성 속도를 높일 수 있음을 보였습니다[cite: 388, 393].</li>
<li><strong>크로스 플랫폼 배포:</strong> XGrammar를 WebAssembly로 컴파일하여 브라우저 환경(WebLLM 통합)에서도 거의 제로 오버헤드로 구조화 생성을 지원할 수 있음을 보여주었습니다[cite: 390, 397].</li>
</ul>
</li>
</ol>
<h3 id="다른-방법론에-비해-특출난-점">다른 방법론에 비해 특출난 점</h3>
<ol>
<li><strong>압도적인 속도 및 낮은 오버헤드:</strong> XGrammar는 특히 복잡한 CFG 처리 시 기존 방법론들(Outlines, llama.cpp-grammar 등)보다 월등히 빠른 마스크 생성 속도와 엔드-투-엔드 처리량을 보여줍니다[cite: 212, 219]. CPU 연산을 GPU 연산과 중첩함으로써 LLM 서빙 시 거의 제로에 가까운 오버헤드를 달성한 점이 뛰어납니다[cite: 185, 235].</li>
<li><strong>포괄적이고 다층적인 최적화 전략:</strong> 단일 기법에 의존하지 않고, 어휘 분류, 캐싱, 문맥 정보 활용, 영구 데이터 구조, 오토마타 최적화, 시스템 수준 병렬화 등 다양한 계층에서 최적화를 종합적으로 적용했습니다.</li>
<li><strong>높은 유연성과 정확성:</strong> 정규식 기반 방법들이 처리하기 어려운 재귀적 구조를 포함하는 복잡한 CFG(비제약 JSON, XML, DSL 등)를 효율적으로 지원하면서도 100% 구문적 정확성을 보장합니다[cite: 22, 229].</li>
<li><strong>실증적 검증:</strong> 다양한 벤치마크, 실제 LLM 엔진 통합, 상세한 ablation study를 통해 제안된 방법들의 효과를 구체적인 수치로 입증했습니다.</li>
</ol>
<h3 id="결과-도출의-원동력이-된-방법론-논문-제시-이유-및-개인적-생각">결과 도출의 원동력이 된 방법론 (논문 제시 이유 및 개인적 생각)</h3>
<p>논문은 XGrammar의 뛰어난 성능이 다음과 같은 핵심 방법론들의 유기적인 결합 덕분이라고 설명합니다:</p>
<ol>
<li>
<p><strong>적응형 토큰 마스크 캐시 (Adaptive Token Mask Cache):</strong></p>
<ul>
<li><strong>논문 제시 이유:</strong> 어휘를 문맥 독립적 토큰과 문맥 의존적 토큰으로 나누어, 대다수를 차지하는 문맥 독립적 토큰을 미리 검사하고 캐싱함으로써 런타임 오버헤드를 극적으로 줄였습니다[cite: 6, 37, 88]. 적응형 저장 형식은 메모리 사용량도 최적화합니다[cite: 90, 104]. Ablation study에서 이 기법이 성능 향상에 가장 크게 기여함이 나타났습니다[cite: 240].</li>
<li><strong>개인적 생각:</strong> 이 접근 방식의 핵심은 &lsquo;대부분의 경우, 다음 토큰의 유효성은 현재 문법 규칙의 특정 지점(스택 최상단)만으로도 결정될 수 있다&rsquo;는 통찰입니다. 이를 통해 계산 비용이 높은 전체 스택 검사를 최소화한 것이 주효했습니다.</li>
</ul>
</li>
<li>
<p><strong>문맥 확장 (Context Expansion):</strong></p>
<ul>
<li><strong>논문 제시 이유:</strong> 문맥 의존적 토큰의 수를 사전 처리 단계에서 더욱 줄이기 위해, 각 규칙 완료 후 부모 규칙에서 이어질 수 있는 문자열(확장 접미사) 정보를 활용합니다[cite: 7, 112, 116]. 이를 통해 런타임 검사 필요성을 줄입니다[cite: 119].</li>
<li><strong>개인적 생각:</strong> 이는 일종의 제한된 &lsquo;선행 탐색(lookahead)&lsquo;을 사전 처리 단계에 도입하여, 단순한 스택 최상단 정보만으로는 알 수 없는 제약 조건을 미리 적용하는 효과를 냅니다.</li>
</ul>
</li>
<li>
<p><strong>영구 실행 스택 (Persistent Execution Stack):</strong></p>
<ul>
<li><strong>논문 제시 이유:</strong> 문맥 의존적 토큰 검사와 캐시 사전 처리 과정에서 다수의 병렬 스택을 효율적으로 관리하고, 상태 분기 및 롤백을 신속하게 지원하여 중복 계산을 줄입니다[cite: 8, 39, 147].</li>
<li><strong>개인적 생각:</strong> 특히 어휘 전체에 대한 사전 처리 시 공통 접두사를 가진 토큰들을 효율적으로 처리하고, 문법의 모호성으로 인해 여러 파싱 경로가 발생할 때 상태 관리를 저렴하게 할 수 있게 합니다. 이는 복잡한 상호작용(예: jump-forward decoding, tree-of-thought) 지원에도 유용합니다.</li>
</ul>
</li>
<li>
<p><strong>푸시다운 오토마타 구조 최적화 (Rule Inlining, Node Merging):</strong></p>
<ul>
<li><strong>논문 제시 이유:</strong> 규칙 인라인은 작은 규칙들을 통합하여 모호성을 줄이고 문맥 확장의 효율성을 높이며[cite: 161, 167], 노드 병합은 동일 레이블 간선 등으로 인한 불필요한 스택 분기를 줄여 계산량을 감소시킵니다[cite: 171, 177].</li>
<li><strong>개인적 생각:</strong> 컴파일러 최적화 기법을 문법 파싱에 적용한 것으로, PDA 자체를 더 효율적인 형태로 변환하여 후속 처리 단계들의 부담을 덜어줍니다.</li>
</ul>
</li>
<li>
<p><strong>마스크 생성과 LLM 추론 중첩 (Overlapping Mask Generation and LLM Inference):</strong></p>
<ul>
<li><strong>논문 제시 이유:</strong> XGrammar 엔진(CPU)과 LLM 추론 엔진(GPU)을 공동 설계하여 문법 처리 계산을 GPU 연산과 중첩시킴으로써, 구조화 생성으로 인한 실제 오버헤드를 최소화합니다[cite: 9, 40, 185].</li>
<li><strong>개인적 생각:</strong> 아무리 개별 구성 요소가 빠르더라도 시스템 전체의 파이프라인이 비효율적이면 병목이 발생합니다. 이 최적화는 시스템 수준에서 처리량을 극대화하여 XGrammar의 빠른 마스크 생성 능력이 최종 사용자 경험으로 직접 이어지도록 하는 핵심적인 설계입니다.</li>
</ul>
</li>
</ol>
<p>결론적으로 XGrammar의 성공은 특정 지점에서 문맥에 덜 의존적인 토큰들의 유효성을 미리 대량으로 판단하고, 나머지 소수의 복잡한 경우만 효율적으로 처리하며, 이 모든 과정을 시스템 수준에서 LLM 추론과 효과적으로 병행시킨다는 다층적 접근 방식에 기인합니다. 이러한 설계는 구조화된 출력을 요구하는 복잡한 LLM 애플리케이션의 실용성을 크게 높일 수 있을 것으로 보입니다.</p>
<h1 id="q--이-논문의-입력데이터와-추론-과정에-대해서-예시를-들어-아주-자세하게-설명해-주겠니-추가적으로-모델아키텍처의-구성-및-모델을-구성하는-연산과-메모리-요구량-컴퓨팅-요구량-대해서도-설명해줘">Q : 이 논문의 입력데이터와 추론 과정에 대해서 예시를 들어 아주 자세하게 설명해 주겠니? 추가적으로 모델아키텍처의 구성 및 모델을 구성하는 연산과 메모리 요구량 컴퓨팅 요구량 대해서도 설명해줘</h1>
<p>요청하신 XGrammar 논문의 입력 데이터, 추론 과정, 모델 아키텍처 구성, 연산 및 요구량에 대한 설명은 논문 내용에 직접적으로 명시되어 있지 않습니다. XGrammar는 대규모 언어 모델(LLM)이 <em>생성하는 텍스트</em>의 구조를 제어하는 <strong>엔진</strong>이지, 그 자체가 입력 데이터를 받아 추론하는 모델이 아니기 때문입니다.</p>
<p>쉽게 말해, XGrammar는 이미 학습된 LLM (예: Llama, GPT)이 JSON이나 SQL 같은 특정 형식에 맞춰서 &ldquo;말&quot;하도록 도와주는 보조 시스템입니다.</p>
<p>따라서 XGrammar 자체의:</p>
<ul>
<li><strong>입력 데이터</strong>: XGrammar의 직접적인 입력은 LLM이 생성하려고 하는 다음 토큰에 대한 문법적 제약 조건(문맥 자유 문법)과 LLM이 이전에 생성한 토큰들입니다.</li>
<li><strong>추론 과정</strong>: LLM의 추론 과정에서 각 토큰이 생성될 때마다, XGrammar는 해당 토큰이 주어진 문법에 맞는지 검사하고, 맞지 않는 토큰들은 LLM이 선택하지 못하도록 마스킹합니다.</li>
<li><strong>모델 아키텍처 구성</strong>: XGrammar는 푸시다운 오토마타, 적응형 토큰 마스크 캐시, 영구 실행 스택 등으로 구성된 소프트웨어 엔진입니다. 신경망 모델 아키텍처를 가지지 않습니다.</li>
<li><strong>연산 및 메모리 요구량, 컴퓨팅 요구량</strong>: XGrammar 자체의 연산은 주로 CPU에서 이루어지며, 논문에 따르면 매우 효율적이어서(예: 토큰 당 마스크 생성 수십 µs), LLM 추론 과정(주로 GPU 연산)에 거의 오버헤드를 추가하지 않습니다[cite: 194, 211, 231]. 메모리 요구량 또한 적응형 저장 방식을 통해 Llama-3.1 모델 및 JSON 문법 기준 0.46MB 수준으로 매우 낮습니다[cite: 104].</li>
</ul>
<p>XGrammar는 LLM의 추론을 &ldquo;안내&quot;하는 역할을 하므로, 핵심적인 추론, 모델 아키텍처, 주요 컴퓨팅 자원 사용은 LLM 자체에 의존합니다.</p>
<p>혹시 XGrammar가 <em>함께 사용되는</em> LLM의 입력 데이터, 추론 과정, 아키텍처 등에 대해 궁금하신 것이라면, 어떤 LLM(예: Llama 3.1)을 기준으로 설명드리면 될지 알려주시면 좋겠습니다.</p>
<h1 id="q--이-논문의-한계를-극복하기-위한-방법으로-어떤-연구흐름이-있는지-정리해서-자세하게-설명해-줘">Q : 이 논문의 한계를 극복하기 위한 방법으로 어떤 연구흐름이 있는지 정리해서 자세하게 설명해 줘</h1>
<p>XGrammar 논문은 LLM의 구조화된 출력 생성 효율성을 크게 향상시켰지만, 몇 가지 한계점도 가지고 있습니다. 이러한 한계들을 극복하기 위한 연구 흐름은 다음과 같이 정리해 볼 수 있습니다:</p>
<ol>
<li>
<p><strong>문법 표현력 강화 및 복잡/모호한 문법 처리:</strong></p>
<ul>
<li><strong>CFG 이상의 문법 형식 지원:</strong> XGrammar는 문맥 자유 문법(CFG)을 기반으로 하지만, 일부 더 복잡한 제약 조건(예: 문맥 의존적 제약, 속성 기반 제약)은 CFG만으로 표현하기 어렵습니다. 이를 위해 파싱 표현 문법(PEG), 속성 문법(Attribute Grammars) 등 더 표현력 있는 문법 형식을 지원하고, XGrammar의 최적화 기법(캐싱, 사전 계산 등)을 이러한 형식에 맞게 확장하는 연구가 필요합니다.</li>
<li><strong>고도로 모호한 문법의 효율적 처리:</strong> 문법 자체가 매우 모호하여 파싱 경로가 많은 경우, XGrammar의 병렬 스택 관리 비용이 증가할 수 있습니다. LLM의 확률 정보를 더 깊이 통합하여 가능성이 낮은 파싱 경로를 조기에 가지치기 하거나, 모호성을 줄이는 문법 변환 알고리즘 연구가 진행될 수 있습니다.</li>
</ul>
</li>
<li>
<p><strong>사전 처리 오버헤드 감소 및 동적 문법 지원:</strong></p>
<ul>
<li><strong>점진적/온라인 사전 처리:</strong> XGrammar는 적응형 토큰 마스크 캐시와 문맥 확장을 위해 사전 처리 과정을 거칩니다[cite: 37, 70]. 문법이 매우 크거나 자주 변경되는 동적인 환경에서는 이 비용이 부담될 수 있습니다. 문법의 일부가 변경되거나 추가될 때 전체를 재처리하는 대신, 변경된 부분만 점진적으로 업데이트하거나 실시간으로 캐시를 구축하는 온라인 사전 처리 기법 연구가 필요합니다.</li>
<li><strong>Just-In-Time(JIT) 문법 제약 컴파일:</strong> 자주 사용되거나 특정 요청에 필요한 문법 부분만 실행 시점에 최적화하고 컴파일하는 JIT 방식 도입도 사전 처리 부담을 줄일 수 있습니다.</li>
</ul>
</li>
<li>
<p><strong>토큰화 불일치 문제 심층 해결:</strong></p>
<ul>
<li><strong>토크나이저 인식 문법 파싱:</strong> XGrammar는 바이트 수준 PDA를 사용해 토큰 경계 문제를 다루지만[cite: 68], LLM의 고정된 토크나이저와 문법 규칙 간의 근본적인 불일치는 여전히 까다로운 문제입니다. LLM의 특정 토크나이저 특성을 문법 파싱 과정에 명시적으로 통합하거나, 토큰 경계를 넘나드는 제약을 더 잘 처리할 수 있는 토큰 수준 오토마타로 변환하는 연구가 중요합니다. 논문에서도 관련된 연구로 Koo 등이 제안한 문자 수준 PDA를 토큰 수준 PDA로 변환하는 알고리즘을 언급하고 있습니다[cite: 249].</li>
<li><strong>다국어 및 특수 토큰 처리 강화:</strong> 다양한 언어의 복잡한 문자 인코딩이나 특수 목적의 토큰들이 문법 규칙과 상호작용할 때 발생할 수 있는 예외 상황에 대한 강건성 확보 연구도 필요합니다.</li>
</ul>
</li>
<li>
<p><strong>문맥 확장(Context Expansion)의 확장성 및 정교화:</strong></p>
<ul>
<li><strong>더 강력한 선행 탐색(Lookahead) 기법:</strong> XGrammar의 문맥 확장은 재귀적 규칙 참조를 피해 하위 그래프를 추출하는 방식으로 이루어집니다[cite: 124, 128]. 이로 인해 매우 깊이 중첩되거나 상호 재귀적인 문법에서는 선행 탐색의 깊이가 제한될 수 있습니다. 계산 비용을 제어하면서도 더 깊고 넓은 문맥을 고려할 수 있는 정교한 정적 분석 기법이나 제한된 형태의 재귀를 허용하는 알고리즘 연구가 문맥 확장의 효과를 높일 수 있습니다.</li>
<li><strong>LLM 확률을 활용한 문맥 확장:</strong> LLM이 예측하는 다음 시퀀스의 확률 분포를 활용하여, 문맥 확장 시 더 가능성 높은 경로에 집중하거나 불필요한 탐색을 줄이는 방향으로 최적화할 수 있습니다.</li>
</ul>
</li>
<li>
<p><strong>구현 복잡성 완화 및 사용성 개선:</strong></p>
<ul>
<li><strong>표준화된 인터페이스 및 라이브러리 발전:</strong> XGrammar와 같은 복잡한 시스템의 구현 및 유지보수 부담을 줄이기 위해, 구조화된 디코딩을 위한 표준화된 인터페이스와 고품질 오픈소스 라이브러리의 발전이 중요합니다. XGrammar 자체도 오픈소스화되어 주요 LLM 프레임워크에 통합될 예정입니다[cite: 43].</li>
<li><strong>고수준 제약 명세 언어:</strong> 사용자가 복잡한 구조적 제약을 더 쉽게 명시할 수 있도록 하는 선언적 언어 또는 API 개발 연구가 필요합니다. 논문에서 언급된 SGLang, LMQL, Guidance와 같은 도구들이 이러한 방향성을 보여줍니다[cite: 259, 260].</li>
</ul>
</li>
<li>
<p><strong>구문적 정확성을 넘어 의미론적 정확성 추구:</strong></p>
<ul>
<li><strong>의미론적 제약 조건 통합:</strong> XGrammar는 주로 구문적 정확성을 보장합니다[cite: 229, 241]. 하지만 실제 응용에서는 의미론적으로도 올바른 출력이 중요합니다. 이를 위해, 생성된 구조가 특정 스키마(예: JSON 스키마, 데이터베이스 스키마)의 의미론적 규칙(타입 제약, 값의 범위 등)까지 만족하도록 검증하는 기능을 통합하는 연구가 활발히 진행될 수 있습니다.</li>
<li><strong>외부 지식 연동 및 검증:</strong> 코드 생성 시 API 명세, 데이터베이스 쿼리 생성 시 실제 DB 스키마 등 외부 지식 소스와 연동하여 생성 결과의 실질적인 유효성을 검증하고 제약하는 연구가 필요합니다.</li>
<li><strong>LLM을 활용한 의미론적 피드백 루프:</strong> 구문적으로는 맞지만 의미가 이상한 출력을 LLM 자체(또는 별도의 평가 모델)가 판단하여 재 생성을 유도하거나 수정하는 방식도 연구될 수 있습니다. 논문에서 언급된 LLM 파인튜닝을 통한 고품질 구조화 생성 연구도 이러한 방향과 연관될 수 있습니다[cite: 251].</li>
</ul>
</li>
</ol>
<p>이러한 연구 흐름들은 XGrammar와 같은 구조화 생성 엔진의 성능, 유연성, 사용성을 더욱 향상시켜 LLM이 더욱 정교하고 신뢰성 높은 결과물을 생성하는 데 기여할 것입니다.</p>
<h1 id="q--xgrammar의-적응형-토큰-마스크-캐시는-구체적으로-어떻게-문맥-독립적-토큰과-문맥-의존적-토큰을-구분하며-이러한-구분이-기존-cfg-파싱-방식의-어떤-비효율성을-해결하여-최대-100배의-속도-향상을-가져올-수-있었는가">Q : XGrammar의 &lsquo;적응형 토큰 마스크 캐시&rsquo;는 구체적으로 어떻게 문맥 독립적 토큰과 문맥 의존적 토큰을 구분하며, 이러한 구분이 기존 CFG 파싱 방식의 어떤 비효율성을 해결하여 최대 100배의 속도 향상을 가져올 수 있었는가?</h1>
<p>적응형 토큰 마스크 캐시: 토큰 구분 및 효율성 🪙
XGrammar의 적응형 토큰 마스크 캐시는 푸시다운 오토마타(PDA)의 스택 상태를 기준으로 토큰을 구분합니다.</p>
<p>문맥 독립적 토큰 (Context-independent tokens): 토큰의 유효성을 판단하는 데 PDA 스택의 최상단 노드, 즉 현재 규칙 내에서의 위치만 필요한 경우입니다. 이러한 토큰들은 PDA가 자식 규칙으로 확장되거나 현재 규칙 내에서 진행될 때 발생합니다. 이 토큰들은 유효성이 미리 계산되어 캐시에 저장됩니다.</p>
<p>문맥 의존적 토큰 (Context-dependent tokens): 토큰의 유효성을 판단하기 위해 전체 실행 스택을 검사해야 하는 경우입니다. 이는 현재 규칙의 끝에 도달하여 부모 규칙으로 돌아가야 할 때 발생합니다.</p>
<p>기존 CFG 파싱 방식은 매 디코딩 단계마다 어휘의 모든 토큰에 대해 CFG를 해석해야 하는 비효율성이 있었습니다. 특히, 스택 상태가 계속 변하기 때문에 모든 조합을 미리 계산하고 캐시하는 것이 불가능했습니다.</p>
<p>XGrammar는 대부분의 토큰이 문맥 독립적이라는 점을 활용합니다. 이 문맥 독립적 토큰들은 캐시에서 빠르게 조회하고, 소수의 문맥 의존적 토큰만 런타임에 검사함으로써  전체적인 계산량을 크게 줄입니다. 논문에 따르면 Llama-3.1 모델과 JSON 문법에서 문맥 의존적 토큰은 전체 어휘의 1% 미만(128k 중 1134개)에 불과했습니다. 이러한 효율성 증대로 XGrammar는 기존 솔루션 대비 최대 100배의 속도 향상을 달성할 수 있었습니다. 추가적으로 문맥 확장(context expansion) 기법은 더 많은 문맥 의존적 토큰을 사전 처리 단계에서 걸러내어 이 효율성을 더욱 높입니다</p>
<h1 id="q--xgrammar가-마스크-생성cpu과-llm-추론gpu을-중첩-실행함으로써-엔드-투-엔드-서빙에서-거의-제로-오버헤드를-달성했다고-하는데-이-중첩-실행의-구체적인-동기화-지점과-데이터-흐름은-무엇이며-실제-다양한-llm-모델-및-배치-크기-환경에서도-일관되게-낮은-오버헤드를-유지할-수-있는가">Q : XGrammar가 마스크 생성(CPU)과 LLM 추론(GPU)을 중첩 실행함으로써 엔드-투-엔드 서빙에서 거의 제로 오버헤드를 달성했다고 하는데, 이 중첩 실행의 구체적인 동기화 지점과 데이터 흐름은 무엇이며, 실제 다양한 LLM 모델 및 배치 크기 환경에서도 일관되게 낮은 오버헤드를 유지할 수 있는가?</h1>
<p>XGrammar는 마스크 생성(CPU 연산)과 LLM 추론(GPU 연산, 샘플링 단계 제외)을 병렬로 중첩 실행하여 엔드-투-엔드 서빙에서 거의 제로 오버헤드를 달성합니다.</p>
<p>구체적인 동기화 지점 및 데이터 흐름:</p>
<p>LLM 추론(GPU)과 마스크 생성(CPU)은 병렬로 진행됩니다. 둘 다 이전에 생성된 토큰에만 의존합니다.
GPU에서 LLM이 다음 토큰의 로짓(logits) 계산을 완료하면, CPU에서 생성된 토큰 마스크를 받아야 합니다.
동기화는 LLM의 샘플링 단계 직전에 발생합니다.
GPU는 CPU로부터 전달받은 마스크를 로짓에 적용하여 유효한 토큰 중에서 다음 토큰을 샘플링합니다.
새로운 토큰이 생성되면, 이 정보는 다시 CPU의 다음 마스크 생성과 GPU의 다음 로짓 계산에 사용됩니다.
또한, 초기 프롬프트를 처리하는 LLM 프리필링(prefilling) 단계와 XGrammar의 사전 처리(캐시 생성 등) 단계도 중첩될 수 있습니다.
다양한 환경에서의 일관된 낮은 오버헤드 유지:</p>
<p>논문의 Figure 10은 Llama 3.1 모델을 사용하여 배치 크기가 1, 16, 32로 증가해도 XGrammar 기반 솔루션(SGLang w/ XGrammar, XGrammar Engine)이 vLLM (w/ Outlines)이나 llama.cpp보다 훨씬 낮은 TPOT(Time Per Output Token)를 유지함을 보여줍니다. 특히 vLLM은 배치 크기가 커질수록 CPU 측 문법 처리 부담으로 인해 TPOT가 눈에 띄게 증가하는 반면, XGrammar는 상대적으로 안정적인 성능을 보입니다.</p>
<p>Table 1은 SGLang 엔진에서 XGrammar를 사용할 경우 Llama-3.1 8B 모델뿐만 아니라 DeepSeek-V2-Lite 16B MOE 모델에서도 Outlines를 사용할 때보다 우수한 성능을 보임을 나타냅니다.
Table 2는 MLC-LLM 엔진과 Llama-3.1 8B 모델에서 XGrammar를 활성화했을 때, 비활성화 시와 비교하여 TPOT에 거의 차이가 없음을 보여줍니다 (예: JSON Schema, 배치 16에서 9.0ms vs 9.2ms).
이러한 결과들은 XGrammar의 중첩 실행 전략이 다양한 LLM 모델과 배치 크기 환경에서도 효과적으로 작동하여 일관되게 낮은 오버헤드를 유지할 수 있음을 시사합니다. 이는 마스크 생성 시간이 일반적으로 LLM 추론 시간보다 짧아 병목 현상이 발생하지 않기 때문입니다.</p>

  </article>

  
  
  <div class="post-license bg-muted/30 border-border mb-8 rounded-xl border p-6">
    <div class="flex items-start gap-4">
      <div
        class="bg-primary/10 flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg">
        
  <svg class="h-6 w-6"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="라이선스"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
</svg>
      </div>

      <div class="flex-1">
        <h3 class="text-foreground mb-2 text-lg font-semibold">
          라이선스
        </h3>

        <div class="text-muted-foreground space-y-2 text-sm">
          
          <p>
            <strong>저작자:</strong>
            류재훈
          </p>
          

          <p>
            <strong>링크:</strong>
            <a
              href="http://192.168.1.11:1314/posts/XGRAMMAR-FLEXIBLE-AND-EFFICIENT-STRUCTURED-GENERATION-ENGINE-FOR-LARGE-LANGUAGE-MODELS/"
              class="text-primary hover:text-primary/80 transition-colors duration-200">
              http://192.168.1.11:1314/posts/XGRAMMAR-FLEXIBLE-AND-EFFICIENT-STRUCTURED-GENERATION-ENGINE-FOR-LARGE-LANGUAGE-MODELS/
            </a>
          </p>

          <p>
            <strong>라이선스:</strong>
            <a
              href="https://creativecommons.org/licenses/by-nc-sa/4.0/"
              target="_blank"
              rel="noopener noreferrer"
              class="text-primary hover:text-primary/80 transition-colors duration-200">
              CC BY-NC-SA 4.0
            </a>
          </p>

          <p class="text-xs">
            이 저작물은 크리에이티브 커먼즈 저작자표시-비영리-동일조건변경허락 4.0 국제 라이선스에 따라 이용할 수 있습니다. 출처를 표시하고, 비영리 목적으로만 사용하며, 동일한 라이선스를 유지해야 합니다.
          </p>
        </div>
      </div>
    </div>
  </div>


  
  





  <nav
    class="post-navigation mb-12"
    aria-label="게시글 네비게이션">
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
      
      <div class="nav-item">
        
          <a
            href="/posts/Insights-into-DeepSeek-V3-Scaling-Challenges-and-Reflections-on-Hardware-for-AI-Architectures/"
            class="group bg-card border-border hover:bg-primary/5 hover:border-primary/20 focus:ring-primary/20 flex min-h-[140px] flex-col justify-between rounded-xl border p-6 transition-all duration-300 ease-out hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg focus:ring-2 focus:outline-none">
            <div>
              <div class="mb-3 flex items-center gap-3">
                
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
</svg>
                <span class="text-muted-foreground text-sm font-medium">
                  이전
                </span>
              </div>

              <h3
                class="text-foreground group-hover:text-primary mb-3 line-clamp-2 text-lg leading-tight font-semibold transition-colors duration-200">
                Insights into DeepSeek-V3: Scaling Challenges and Reflections on Hardware for AI Architectures 
              </h3>
            </div>

            <div
              class="text-muted-foreground mt-auto flex items-center gap-2 text-xs">
              
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
</svg>
              <time datetime="2025-05-17">
                05月17日
              </time>
            </div>
          </a>
        
      </div>

      
      <div class="nav-item">
        
          <a
            href="/posts/SOLA-Optimizing-SLO-Attainment-for-Large-Language-Model-Serving-with-State-Aware-Scheduling/"
            class="group bg-card border-border hover:bg-primary/5 hover:border-primary/20 focus:ring-primary/20 flex min-h-[140px] flex-col justify-between rounded-xl border p-6 transition-all duration-300 ease-out hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg focus:ring-2 focus:outline-none">
            <div>
              <div class="mb-3 flex items-center justify-end gap-3">
                <span class="text-muted-foreground text-sm font-medium">
                  다음
                </span>
                
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
</svg>
              </div>

              <h3
                class="text-foreground group-hover:text-primary mb-3 line-clamp-2 text-right text-lg leading-tight font-semibold transition-colors duration-200">
                SOLA: Optimizing SLO Attainment for Large Language Model Serving with State-Aware Scheduling
              </h3>
            </div>

            <div
              class="text-muted-foreground mt-auto flex items-center justify-end gap-2 text-xs">
              <time datetime="2025-06-05">
                06月05日
              </time>
              
  <svg class="h-3 w-3"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
</svg>
            </div>
          </a>
        
      </div>
    </div>
  </nav>




  
  










  
  


    </main>

    <footer class="mx-auto max-w-4xl px-4 py-8">
  <div class="px-6 py-6">
    
    
      <nav class="mb-6">
        <div class="flex flex-wrap items-center justify-center gap-1">
          
            
            
            
            <a
              href="/index.xml"
              
              class="nav-link hover:text-primary hover:bg-primary/10 text-muted-foreground flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105">
              
                
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="RSS Feed">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z" />

</svg>
              
              <span
                >
                  RSS Feed
                </span
              >
            </a>
          
        </div>
      </nav>
    


    
    
      <div class="border-border mb-6 border-t"></div>
    


    
    <div class="flex flex-col items-center justify-between gap-4 md:flex-row">
      
      <div class="text-muted-foreground text-sm">
        <p>
          &copy; 2025 Jaehun&#39;s Blog.
          모든 권리 보유.
        </p>
      </div>

      
      
        <div class="flex items-center gap-3">
          
            <a
              href="https://github.com/ryujaehun"
              
                target="_blank" rel="noopener noreferrer"
              
              class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none"
              title="GitHub"
              aria-label="GitHub">
              
                
  <svg class="h-6 w-6"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="GitHub"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5c.08-1.25-.27-2.48-1-3.5c.28-1.15.28-2.35 0-3.5c0 0-1 0-3 1.5c-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.4 5.4 0 0 0 4 9c0 3.5 3 5.5 6 5.5c-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></g></svg>
              
            </a>
          
            <a
              href="https://www.linkedin.com/in/jaehunryu/"
              
                target="_blank" rel="noopener noreferrer"
              
              class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none"
              title="Linkedin"
              aria-label="Linkedin">
              
                
  <svg class="h-6 w-6"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="Linkedin"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2a2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6M2 9h4v12H2z"/><circle cx="4" cy="4" r="2"/></g></svg>
              
            </a>
          
            <a
              href="mailto:jaehunryu@icloud.com"
              
              class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none"
              title="Email"
              aria-label="Email">
              
                
  <svg class="h-6 w-6"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24" aria-label="Email">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />

</svg>
              
            </a>
          
        </div>
      

    </div>
  </div>
</footer>


    
    



<div
  id="dock"
  class="pointer-events-none fixed bottom-4 left-1/2 z-[9999] w-fit -translate-x-1/2 translate-y-24 opacity-0 transition-all duration-300 ease-out sm:right-0 sm:left-0 sm:mx-auto sm:translate-x-0"
  role="toolbar"
  aria-label="바로가기 도구 모음">
  <nav
    class="border-border bg-card/80 scrollbar-hide xs:px-3 xs:py-2 mx-auto flex max-w-[calc(100vw-2rem)] min-w-fit items-center justify-center overflow-x-auto rounded-2xl border px-4 py-3 shadow-lg backdrop-blur-sm sm:px-4 sm:py-3">
    
    
      <button
        id="dock-back"
        class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2"
        title="뒤로"
        aria-label="뒤로">
        
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path d="m12 19-7-7 7-7"/>
  <path d="M19 12H5"/>

</svg>
        <span class="hidden sm:inline"
          >뒤로</span
        >
      </button>

      
      <div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div>
    


    
    
      <button
        id="dock-toc"
        class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2"
        title="목차"
        aria-label="목차">
        
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <line x1="8" x2="21" y1="6" y2="6"/>
  <line x1="8" x2="21" y1="12" y2="12"/>
  <line x1="8" x2="21" y1="18" y2="18"/>
  <line x1="3" x2="3.01" y1="6" y2="6"/>
  <line x1="3" x2="3.01" y1="12" y2="12"/>
  <line x1="3" x2="3.01" y1="18" y2="18"/>

</svg>
        <span class="hidden sm:inline"
          >목차</span
        >
      </button>

      
      <div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div>
    


    
    <button
      id="dock-search"
      class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-3 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-4 sm:py-2"
      title="검색"
      aria-label="검색">
      
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />

</svg>
      <span class="hidden md:inline"
        >검색</span
      >
    </button>

    
    <div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div>

    
    
    


    
    <button
      id="dock-top"
      class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2"
      title="맨 위로"
      aria-label="맨 위로">
      
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path d="m18 15-6-6-6 6"/>

</svg>
      <span class="hidden sm:inline"
        >맨 위로</span
      >
    </button>
  </nav>
</div>


    
      



<div
  id="toc-overlay"
  class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 backdrop-blur-sm transition-all duration-300"
  role="dialog"
  aria-modal="true"
  aria-labelledby="toc-title"></div>


<div
  id="toc-card"
  class="pointer-events-none fixed inset-4 z-50 flex w-auto scale-95 items-center justify-center opacity-0 transition-all duration-300 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:block sm:w-full sm:max-w-md sm:-translate-x-1/2 sm:-translate-y-1/2"
  role="dialog"
  aria-modal="true"
  aria-labelledby="toc-title">
  <div
    class="bg-card border-border w-full max-w-sm overflow-hidden rounded-xl border shadow-xl sm:max-w-md">
    
    <div
      class="border-border bg-muted/30 flex items-center justify-between border-b p-4">
      <div class="flex items-center gap-3">
        
  <svg class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <line x1="8" x2="21" y1="6" y2="6"/>
  <line x1="8" x2="21" y1="12" y2="12"/>
  <line x1="8" x2="21" y1="18" y2="18"/>
  <line x1="3" x2="3.01" y1="6" y2="6"/>
  <line x1="3" x2="3.01" y1="12" y2="12"/>
  <line x1="3" x2="3.01" y1="18" y2="18"/>

</svg>
        <h2 id="toc-title" class="text-foreground text-lg font-semibold">
          목차
        </h2>
      </div>

      
      <button
        id="toc-close"
        class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 rounded-lg p-2 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"
        title="닫기"
        aria-label="닫기">
        
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />

</svg>
      </button>
    </div>

    
    <div class="max-h-96 overflow-y-auto p-4">
      <nav
        id="toc-nav"
        class="toc-scrollbar"
        aria-label="글 목차">
          
          <div id="toc-content">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#xgrammar-논문-상세-분석-유연하고-효율적인-llm-구조화-생성-엔진">XGrammar 논문 상세 분석: 유연하고 효율적인 LLM 구조화 생성 엔진</a></li>
  </ul>

  <ul>
    <li><a href="#xgrammar-핵심-알고리즘-상세-설명-">XGrammar 핵심 알고리즘 상세 설명 ⚙️</a>
      <ul>
        <li><a href="#예시-json-객체-생성">예시: JSON 객체 생성</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#xgrammar-논문-결과-분석-및-평가">XGrammar 논문 결과 분석 및 평가</a>
      <ul>
        <li><a href="#논문에서-제시된-주요-결과">논문에서 제시된 주요 결과</a></li>
        <li><a href="#다른-방법론에-비해-특출난-점">다른 방법론에 비해 특출난 점</a></li>
        <li><a href="#결과-도출의-원동력이-된-방법론-논문-제시-이유-및-개인적-생각">결과 도출의 원동력이 된 방법론 (논문 제시 이유 및 개인적 생각)</a></li>
      </ul>
    </li>
  </ul>
</nav>
          </div>
      </nav>
    </div>

    
    <div class="border-border bg-muted/20 border-t px-4 py-3">
      <div class="text-muted-foreground text-center text-xs">
        <span>제목을 클릭하면 해당 위치로 이동합니다</span>
      </div>
    </div>
  </div>
</div>

    


  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"
    integrity="sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP"
    crossorigin="anonymous" />
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"
    integrity="sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6"
    crossorigin="anonymous"></script>
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"
    integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh"
    crossorigin="anonymous"></script>

<script>
    
    function initKaTeX() {
        if (typeof renderMathInElement === 'undefined') {
            setTimeout(initKaTeX, 100);
            return;
        }

        var delimiters = [{"display":true,"left":"$$","right":"$$"},{"display":false,"left":"$","right":"$"}];

        renderMathInElement(document.body, {
            delimiters: delimiters,
            throwOnError: false,
            errorColor: '#cc0000',
            fleqn: false,
            leqno: false,
            trust: false
        });
    }

    
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initKaTeX);
    } else {
        initKaTeX();
    }
</script>
    



    
    
<div
  id="search-overlay"
  class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 transition-opacity duration-300"></div>


<div
  id="search-modal"
  class="bg-card border-border pointer-events-none fixed top-1/2 left-1/2 z-50 max-h-[80vh] w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 scale-95 transform overflow-hidden rounded-xl border opacity-0 shadow-xl transition-all duration-300">
  
  <div class="border-border flex items-center gap-3 border-b p-4">
    
    <div class="text-muted-foreground h-5 w-5 flex-shrink-0">
      
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />

</svg>
    </div>

    
    <div class="relative flex-1">
      
      <button
        id="search-clear"
        class="text-muted-foreground hover:text-foreground hover:bg-muted/50 pointer-events-none absolute top-1/2 left-0 z-10 h-5 w-5 -translate-y-1/2 rounded opacity-0 transition-all duration-200"
        title="지우기"
        aria-label="지우기">
        
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />

</svg>
      </button>

      
      <input
        id="search-input"
        type="text"
        placeholder="게시글 검색..."
        class="text-foreground placeholder:text-muted-foreground w-full border-none bg-transparent pl-8 text-lg outline-none"
        autocomplete="off"
        spellcheck="false" />
    </div>

    
    <button
      id="search-close"
      class="text-muted-foreground hover:text-foreground hover:bg-muted/50 flex h-6 w-6 items-center justify-center rounded-md p-0.5 transition-all duration-200"
      title="닫기"
      aria-label="닫기">
      
  <svg class="h-4 w-4"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />

</svg>
    </button>
  </div>

  
  <div id="search-results" class="max-h-96 overflow-y-auto">
    
    <div
      id="search-empty"
      class="flex flex-col items-center justify-center py-12 text-center">
      <div
        class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full">
        
  <svg class="h-6 w-6"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />

</svg>
      </div>
      <h3 class="text-foreground mb-2 text-lg font-semibold">
        검색 시작
      </h3>
      <p class="text-muted-foreground text-sm">
        검색어를 입력하세요
      </p>
    </div>

    
    <div
      id="search-loading"
      class="flex hidden items-center justify-center py-8">
      <div
        class="mr-3 h-6 w-6 animate-spin rounded-full border-2 border-current border-t-transparent"></div>
      <span class="text-muted-foreground"
        >검색 중...</span
      >
    </div>

    
    <div
      id="search-no-results"
      class="flex hidden flex-col items-center justify-center py-12 text-center">
      <div
        class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full">
        
  <svg class="h-6 w-6"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
</svg>
      </div>
      <h3 class="text-foreground mb-2 text-lg font-semibold">
        검색 결과 없음
      </h3>
      <p class="text-muted-foreground text-sm">
        다른 검색어로 시도해보세요
      </p>
    </div>

    
    <div id="search-results-list" class="hidden">
      
      <div
        id="search-stats"
        class="text-muted-foreground border-border border-b px-4 py-3 text-sm"
        data-template="%d개의 결과 찾음">
      </div>

      
      <div id="search-items" class="divide-border divide-y">
        
      </div>
    </div>
  </div>

  
  <div class="border-border bg-muted/20 border-t px-4 py-3">
    <div
      class="text-muted-foreground flex items-center justify-between text-xs">
      <div class="flex items-center gap-2 md:gap-4">
        <div class="flex items-center gap-1">
          <kbd
            class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs"
            >↑↓</kbd
          >
          <span class="hidden sm:inline"
            >이동</span
          >
        </div>
        <div class="flex items-center gap-1">
          <kbd
            class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs"
            >↵</kbd
          >
          <span class="hidden sm:inline"
            >선택</span
          >
        </div>
        <div class="flex items-center gap-1">
          <kbd
            class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs"
            >ESC</kbd
          >
          <span class="hidden sm:inline"
            >닫기</span
          >
        </div>
      </div>
      <div class="search-hint-desktop flex items-center gap-1">
        <kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs"
          >⌘K</kbd
        >
        <span>단축키</span>
      </div>
    </div>
  </div>
</div>

  </body>
</html>
